function pE(t,n){for(var i=0;i<n.length;i++){const r=n[i];if(typeof r!="string"&&!Array.isArray(r)){for(const l in r)if(l!=="default"&&!(l in t)){const u=Object.getOwnPropertyDescriptor(r,l);u&&Object.defineProperty(t,l,u.get?u:{enumerable:!0,get:()=>r[l]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function i(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=i(l);fetch(l.href,u)}})();function Lu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function gE(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var n=t.default;if(typeof n=="function"){var i=function r(){return this instanceof r?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};i.prototype=n.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var l=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(i,r,l.get?l:{enumerable:!0,get:function(){return t[r]}})}),i}var fd={exports:{}},Ks={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var By;function yE(){if(By)return Ks;By=1;var t=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function i(r,l,u){var c=null;if(u!==void 0&&(c=""+u),l.key!==void 0&&(c=""+l.key),"key"in l){u={};for(var d in l)d!=="key"&&(u[d]=l[d])}else u=l;return l=u.ref,{$$typeof:t,type:r,key:c,ref:l!==void 0?l:null,props:u}}return Ks.Fragment=n,Ks.jsx=i,Ks.jsxs=i,Ks}var $y;function vE(){return $y||($y=1,fd.exports=yE()),fd.exports}var x=vE(),dd={exports:{}},Se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ly;function bE(){if(Ly)return Se;Ly=1;var t=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),_=Symbol.iterator;function v(C){return C===null||typeof C!="object"?null:(C=_&&C[_]||C["@@iterator"],typeof C=="function"?C:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,E={};function A(C,U,Z){this.props=C,this.context=U,this.refs=E,this.updater=Z||S}A.prototype.isReactComponent={},A.prototype.setState=function(C,U){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,U,"setState")},A.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function j(){}j.prototype=A.prototype;function N(C,U,Z){this.props=C,this.context=U,this.refs=E,this.updater=Z||S}var M=N.prototype=new j;M.constructor=N,w(M,A.prototype),M.isPureReactComponent=!0;var $=Array.isArray;function q(){}var V={H:null,A:null,T:null,S:null},te=Object.prototype.hasOwnProperty;function X(C,U,Z){var W=Z.ref;return{$$typeof:t,type:C,key:U,ref:W!==void 0?W:null,props:Z}}function re(C,U){return X(C.type,U,C.props)}function ie(C){return typeof C=="object"&&C!==null&&C.$$typeof===t}function oe(C){var U={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(Z){return U[Z]})}var le=/\/+/g;function O(C,U){return typeof C=="object"&&C!==null&&C.key!=null?oe(""+C.key):U.toString(36)}function P(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(q,q):(C.status="pending",C.then(function(U){C.status==="pending"&&(C.status="fulfilled",C.value=U)},function(U){C.status==="pending"&&(C.status="rejected",C.reason=U)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function k(C,U,Z,W,se){var ue=typeof C;(ue==="undefined"||ue==="boolean")&&(C=null);var fe=!1;if(C===null)fe=!0;else switch(ue){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(C.$$typeof){case t:case n:fe=!0;break;case g:return fe=C._init,k(fe(C._payload),U,Z,W,se)}}if(fe)return se=se(C),fe=W===""?"."+O(C,0):W,$(se)?(Z="",fe!=null&&(Z=fe.replace(le,"$&/")+"/"),k(se,U,Z,"",function(Te){return Te})):se!=null&&(ie(se)&&(se=re(se,Z+(se.key==null||C&&C.key===se.key?"":(""+se.key).replace(le,"$&/")+"/")+fe)),U.push(se)),1;fe=0;var we=W===""?".":W+":";if($(C))for(var ve=0;ve<C.length;ve++)W=C[ve],ue=we+O(W,ve),fe+=k(W,U,Z,ue,se);else if(ve=v(C),typeof ve=="function")for(C=ve.call(C),ve=0;!(W=C.next()).done;)W=W.value,ue=we+O(W,ve++),fe+=k(W,U,Z,ue,se);else if(ue==="object"){if(typeof C.then=="function")return k(P(C),U,Z,W,se);throw U=String(C),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return fe}function z(C,U,Z){if(C==null)return C;var W=[],se=0;return k(C,W,"","",function(ue){return U.call(Z,ue,se++)}),W}function G(C){if(C._status===-1){var U=C._result;U=U(),U.then(function(Z){(C._status===0||C._status===-1)&&(C._status=1,C._result=Z)},function(Z){(C._status===0||C._status===-1)&&(C._status=2,C._result=Z)}),C._status===-1&&(C._status=0,C._result=U)}if(C._status===1)return C._result.default;throw C._result}var L=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},J={map:z,forEach:function(C,U,Z){z(C,function(){U.apply(this,arguments)},Z)},count:function(C){var U=0;return z(C,function(){U++}),U},toArray:function(C){return z(C,function(U){return U})||[]},only:function(C){if(!ie(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return Se.Activity=y,Se.Children=J,Se.Component=A,Se.Fragment=i,Se.Profiler=l,Se.PureComponent=N,Se.StrictMode=r,Se.Suspense=h,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,Se.__COMPILER_RUNTIME={__proto__:null,c:function(C){return V.H.useMemoCache(C)}},Se.cache=function(C){return function(){return C.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(C,U,Z){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var W=w({},C.props),se=C.key;if(U!=null)for(ue in U.key!==void 0&&(se=""+U.key),U)!te.call(U,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&U.ref===void 0||(W[ue]=U[ue]);var ue=arguments.length-2;if(ue===1)W.children=Z;else if(1<ue){for(var fe=Array(ue),we=0;we<ue;we++)fe[we]=arguments[we+2];W.children=fe}return X(C.type,se,W)},Se.createContext=function(C){return C={$$typeof:c,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:u,_context:C},C},Se.createElement=function(C,U,Z){var W,se={},ue=null;if(U!=null)for(W in U.key!==void 0&&(ue=""+U.key),U)te.call(U,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(se[W]=U[W]);var fe=arguments.length-2;if(fe===1)se.children=Z;else if(1<fe){for(var we=Array(fe),ve=0;ve<fe;ve++)we[ve]=arguments[ve+2];se.children=we}if(C&&C.defaultProps)for(W in fe=C.defaultProps,fe)se[W]===void 0&&(se[W]=fe[W]);return X(C,ue,se)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(C){return{$$typeof:d,render:C}},Se.isValidElement=ie,Se.lazy=function(C){return{$$typeof:g,_payload:{_status:-1,_result:C},_init:G}},Se.memo=function(C,U){return{$$typeof:p,type:C,compare:U===void 0?null:U}},Se.startTransition=function(C){var U=V.T,Z={};V.T=Z;try{var W=C(),se=V.S;se!==null&&se(Z,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(q,L)}catch(ue){L(ue)}finally{U!==null&&Z.types!==null&&(U.types=Z.types),V.T=U}},Se.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},Se.use=function(C){return V.H.use(C)},Se.useActionState=function(C,U,Z){return V.H.useActionState(C,U,Z)},Se.useCallback=function(C,U){return V.H.useCallback(C,U)},Se.useContext=function(C){return V.H.useContext(C)},Se.useDebugValue=function(){},Se.useDeferredValue=function(C,U){return V.H.useDeferredValue(C,U)},Se.useEffect=function(C,U){return V.H.useEffect(C,U)},Se.useEffectEvent=function(C){return V.H.useEffectEvent(C)},Se.useId=function(){return V.H.useId()},Se.useImperativeHandle=function(C,U,Z){return V.H.useImperativeHandle(C,U,Z)},Se.useInsertionEffect=function(C,U){return V.H.useInsertionEffect(C,U)},Se.useLayoutEffect=function(C,U){return V.H.useLayoutEffect(C,U)},Se.useMemo=function(C,U){return V.H.useMemo(C,U)},Se.useOptimistic=function(C,U){return V.H.useOptimistic(C,U)},Se.useReducer=function(C,U,Z){return V.H.useReducer(C,U,Z)},Se.useRef=function(C){return V.H.useRef(C)},Se.useState=function(C){return V.H.useState(C)},Se.useSyncExternalStore=function(C,U,Z){return V.H.useSyncExternalStore(C,U,Z)},Se.useTransition=function(){return V.H.useTransition()},Se.version="19.2.0",Se}var Hy;function wl(){return Hy||(Hy=1,dd.exports=bE()),dd.exports}var R=wl();const F=Lu(R);var hd={exports:{}},Xs={},md={exports:{}},pd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qy;function _E(){return qy||(qy=1,(function(t){function n(k,z){var G=k.length;k.push(z);e:for(;0<G;){var L=G-1>>>1,J=k[L];if(0<l(J,z))k[L]=z,k[G]=J,G=L;else break e}}function i(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var z=k[0],G=k.pop();if(G!==z){k[0]=G;e:for(var L=0,J=k.length,C=J>>>1;L<C;){var U=2*(L+1)-1,Z=k[U],W=U+1,se=k[W];if(0>l(Z,G))W<J&&0>l(se,Z)?(k[L]=se,k[W]=G,L=W):(k[L]=Z,k[U]=G,L=U);else if(W<J&&0>l(se,G))k[L]=se,k[W]=G,L=W;else break e}}return z}function l(k,z){var G=k.sortIndex-z.sortIndex;return G!==0?G:k.id-z.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var h=[],p=[],g=1,y=null,_=3,v=!1,S=!1,w=!1,E=!1,A=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function M(k){for(var z=i(p);z!==null;){if(z.callback===null)r(p);else if(z.startTime<=k)r(p),z.sortIndex=z.expirationTime,n(h,z);else break;z=i(p)}}function $(k){if(w=!1,M(k),!S)if(i(h)!==null)S=!0,q||(q=!0,oe());else{var z=i(p);z!==null&&P($,z.startTime-k)}}var q=!1,V=-1,te=5,X=-1;function re(){return E?!0:!(t.unstable_now()-X<te)}function ie(){if(E=!1,q){var k=t.unstable_now();X=k;var z=!0;try{e:{S=!1,w&&(w=!1,j(V),V=-1),v=!0;var G=_;try{t:{for(M(k),y=i(h);y!==null&&!(y.expirationTime>k&&re());){var L=y.callback;if(typeof L=="function"){y.callback=null,_=y.priorityLevel;var J=L(y.expirationTime<=k);if(k=t.unstable_now(),typeof J=="function"){y.callback=J,M(k),z=!0;break t}y===i(h)&&r(h),M(k)}else r(h);y=i(h)}if(y!==null)z=!0;else{var C=i(p);C!==null&&P($,C.startTime-k),z=!1}}break e}finally{y=null,_=G,v=!1}z=void 0}}finally{z?oe():q=!1}}}var oe;if(typeof N=="function")oe=function(){N(ie)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,O=le.port2;le.port1.onmessage=ie,oe=function(){O.postMessage(null)}}else oe=function(){A(ie,0)};function P(k,z){V=A(function(){k(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(k){switch(_){case 1:case 2:case 3:var z=3;break;default:z=_}var G=_;_=z;try{return k()}finally{_=G}},t.unstable_requestPaint=function(){E=!0},t.unstable_runWithPriority=function(k,z){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var G=_;_=k;try{return z()}finally{_=G}},t.unstable_scheduleCallback=function(k,z,G){var L=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?L+G:L):G=L,k){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=G+J,k={id:g++,callback:z,priorityLevel:k,startTime:G,expirationTime:J,sortIndex:-1},G>L?(k.sortIndex=G,n(p,k),i(h)===null&&k===i(p)&&(w?(j(V),V=-1):w=!0,P($,G-L))):(k.sortIndex=J,n(h,k),S||v||(S=!0,q||(q=!0,oe()))),k},t.unstable_shouldYield=re,t.unstable_wrapCallback=function(k){var z=_;return function(){var G=_;_=z;try{return k.apply(this,arguments)}finally{_=G}}}})(pd)),pd}var Vy;function wE(){return Vy||(Vy=1,md.exports=_E()),md.exports}var gd={exports:{}},Mt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Py;function SE(){if(Py)return Mt;Py=1;var t=wl();function n(h){var p="https://react.dev/errors/"+h;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(n(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(h,p,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:y==null?null:""+y,children:h,containerInfo:p,implementation:g}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,p){if(h==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Mt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Mt.createPortal=function(h,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(n(299));return u(h,p,null,g)},Mt.flushSync=function(h){var p=c.T,g=r.p;try{if(c.T=null,r.p=2,h)return h()}finally{c.T=p,r.p=g,r.d.f()}},Mt.preconnect=function(h,p){typeof h=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(h,p))},Mt.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},Mt.preinit=function(h,p){if(typeof h=="string"&&p&&typeof p.as=="string"){var g=p.as,y=d(g,p.crossOrigin),_=typeof p.integrity=="string"?p.integrity:void 0,v=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?r.d.S(h,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:_,fetchPriority:v}):g==="script"&&r.d.X(h,{crossOrigin:y,integrity:_,fetchPriority:v,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Mt.preinitModule=function(h,p){if(typeof h=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=d(p.as,p.crossOrigin);r.d.M(h,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(h)},Mt.preload=function(h,p){if(typeof h=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,y=d(g,p.crossOrigin);r.d.L(h,g,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Mt.preloadModule=function(h,p){if(typeof h=="string")if(p){var g=d(p.as,p.crossOrigin);r.d.m(h,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(h)},Mt.requestFormReset=function(h){r.d.r(h)},Mt.unstable_batchedUpdates=function(h,p){return h(p)},Mt.useFormState=function(h,p,g){return c.H.useFormState(h,p,g)},Mt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Mt.version="19.2.0",Mt}var Gy;function Ev(){if(Gy)return gd.exports;Gy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}return t(),gd.exports=SE(),gd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yy;function EE(){if(Yy)return Xs;Yy=1;var t=wE(),n=wl(),i=Ev();function r(e){var a="https://react.dev/errors/"+e;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)a+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var a=e,s=e;if(e.alternate)for(;a.return;)a=a.return;else{e=a;do a=e,(a.flags&4098)!==0&&(s=a.return),e=a.return;while(e)}return a.tag===3?s:null}function c(e){if(e.tag===13){var a=e.memoizedState;if(a===null&&(e=e.alternate,e!==null&&(a=e.memoizedState)),a!==null)return a.dehydrated}return null}function d(e){if(e.tag===31){var a=e.memoizedState;if(a===null&&(e=e.alternate,e!==null&&(a=e.memoizedState)),a!==null)return a.dehydrated}return null}function h(e){if(u(e)!==e)throw Error(r(188))}function p(e){var a=e.alternate;if(!a){if(a=u(e),a===null)throw Error(r(188));return a!==e?null:e}for(var s=e,o=a;;){var f=s.return;if(f===null)break;var m=f.alternate;if(m===null){if(o=f.return,o!==null){s=o;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===s)return h(f),e;if(m===o)return h(f),a;m=m.sibling}throw Error(r(188))}if(s.return!==o.return)s=f,o=m;else{for(var b=!1,T=f.child;T;){if(T===s){b=!0,s=f,o=m;break}if(T===o){b=!0,o=f,s=m;break}T=T.sibling}if(!b){for(T=m.child;T;){if(T===s){b=!0,s=m,o=f;break}if(T===o){b=!0,o=m,s=f;break}T=T.sibling}if(!b)throw Error(r(189))}}if(s.alternate!==o)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:a}function g(e){var a=e.tag;if(a===5||a===26||a===27||a===6)return e;for(e=e.child;e!==null;){if(a=g(e),a!==null)return a;e=e.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),N=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),X=Symbol.for("react.activity"),re=Symbol.for("react.memo_cache_sentinel"),ie=Symbol.iterator;function oe(e){return e===null||typeof e!="object"?null:(e=ie&&e[ie]||e["@@iterator"],typeof e=="function"?e:null)}var le=Symbol.for("react.client.reference");function O(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===le?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case w:return"Fragment";case A:return"Profiler";case E:return"StrictMode";case $:return"Suspense";case q:return"SuspenseList";case X:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case S:return"Portal";case N:return e.displayName||"Context";case j:return(e._context.displayName||"Context")+".Consumer";case M:var a=e.render;return e=e.displayName,e||(e=a.displayName||a.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case V:return a=e.displayName||null,a!==null?a:O(e.type)||"Memo";case te:a=e._payload,e=e._init;try{return O(e(a))}catch{}}return null}var P=Array.isArray,k=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G={pending:!1,data:null,method:null,action:null},L=[],J=-1;function C(e){return{current:e}}function U(e){0>J||(e.current=L[J],L[J]=null,J--)}function Z(e,a){J++,L[J]=e.current,e.current=a}var W=C(null),se=C(null),ue=C(null),fe=C(null);function we(e,a){switch(Z(ue,a),Z(se,e),Z(W,null),a.nodeType){case 9:case 11:e=(e=a.documentElement)&&(e=e.namespaceURI)?sy(e):0;break;default:if(e=a.tagName,a=a.namespaceURI)a=sy(a),e=ly(a,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(W),Z(W,e)}function ve(){U(W),U(se),U(ue)}function Te(e){e.memoizedState!==null&&Z(fe,e);var a=W.current,s=ly(a,e.type);a!==s&&(Z(se,e),Z(W,s))}function tt(e){se.current===e&&(U(W),U(se)),fe.current===e&&(U(fe),Ps._currentValue=G)}var Ze,_t;function Ke(e){if(Ze===void 0)try{throw Error()}catch(s){var a=s.stack.trim().match(/\n( *(at )?)/);Ze=a&&a[1]||"",_t=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ze+e+_t}var Ge=!1;function xt(e,a){if(!e||Ge)return"";Ge=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(a){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(Q){var K=Q}Reflect.construct(e,[],ae)}else{try{ae.call()}catch(Q){K=Q}e.call(ae.prototype)}}else{try{throw Error()}catch(Q){K=Q}(ae=e())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(Q){if(Q&&K&&typeof Q.stack=="string")return[Q.stack,K.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),b=m[0],T=m[1];if(b&&T){var D=b.split(`
`),I=T.split(`
`);for(f=o=0;o<D.length&&!D[o].includes("DetermineComponentFrameRoot");)o++;for(;f<I.length&&!I[f].includes("DetermineComponentFrameRoot");)f++;if(o===D.length||f===I.length)for(o=D.length-1,f=I.length-1;1<=o&&0<=f&&D[o]!==I[f];)f--;for(;1<=o&&0<=f;o--,f--)if(D[o]!==I[f]){if(o!==1||f!==1)do if(o--,f--,0>f||D[o]!==I[f]){var ee=`
`+D[o].replace(" at new "," at ");return e.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",e.displayName)),ee}while(1<=o&&0<=f);break}}}finally{Ge=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Ke(s):""}function ze(e,a){switch(e.tag){case 26:case 27:case 5:return Ke(e.type);case 16:return Ke("Lazy");case 13:return e.child!==a&&a!==null?Ke("Suspense Fallback"):Ke("Suspense");case 19:return Ke("SuspenseList");case 0:case 15:return xt(e.type,!1);case 11:return xt(e.type.render,!1);case 1:return xt(e.type,!0);case 31:return Ke("Activity");default:return""}}function ge(e){try{var a="",s=null;do a+=ze(e,s),s=e,e=e.return;while(e);return a}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var pt=Object.prototype.hasOwnProperty,Gt=t.unstable_scheduleCallback,Pn=t.unstable_cancelCallback,_a=t.unstable_shouldYield,wa=t.unstable_requestPaint,Je=t.unstable_now,Sa=t.unstable_getCurrentPriorityLevel,Mn=t.unstable_ImmediatePriority,Dn=t.unstable_UserBlockingPriority,bn=t.unstable_NormalPriority,Ea=t.unstable_LowPriority,xa=t.unstable_IdlePriority,wt=t.log,Yt=t.unstable_setDisableYieldValue,It=null,rt=null;function jt(e){if(typeof wt=="function"&&Yt(e),rt&&typeof rt.setStrictMode=="function")try{rt.setStrictMode(It,e)}catch{}}var Fe=Math.clz32?Math.clz32:Wr,sn=Math.log,ui=Math.LN2;function Wr(e){return e>>>=0,e===0?32:31-(sn(e)/ui|0)|0}var zn=256,Ta=262144,ci=4194304;function zt(e){var a=e&42;if(a!==0)return a;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ii(e,a,s){var o=e.pendingLanes;if(o===0)return 0;var f=0,m=e.suspendedLanes,b=e.pingedLanes;e=e.warmLanes;var T=o&134217727;return T!==0?(o=T&~m,o!==0?f=zt(o):(b&=T,b!==0?f=zt(b):s||(s=T&~e,s!==0&&(f=zt(s))))):(T=o&~m,T!==0?f=zt(T):b!==0?f=zt(b):s||(s=o&~e,s!==0&&(f=zt(s)))),f===0?0:a!==0&&a!==f&&(a&m)===0&&(m=f&-f,s=a&-a,m>=s||m===32&&(s&4194048)!==0)?a:f}function fi(e,a){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&a)===0}function Fu(e,a){switch(e){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rl(){var e=ci;return ci<<=1,(ci&62914560)===0&&(ci=4194304),e}function es(e){for(var a=[],s=0;31>s;s++)a.push(e);return a}function di(e,a){e.pendingLanes|=a,a!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Wu(e,a,s,o,f,m){var b=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var T=e.entanglements,D=e.expirationTimes,I=e.hiddenUpdates;for(s=b&~s;0<s;){var ee=31-Fe(s),ae=1<<ee;T[ee]=0,D[ee]=-1;var K=I[ee];if(K!==null)for(I[ee]=null,ee=0;ee<K.length;ee++){var Q=K[ee];Q!==null&&(Q.lane&=-536870913)}s&=~ae}o!==0&&Ol(e,o,0),m!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=m&~(b&~a))}function Ol(e,a,s){e.pendingLanes|=a,e.suspendedLanes&=~a;var o=31-Fe(a);e.entangledLanes|=a,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function kl(e,a){var s=e.entangledLanes|=a;for(e=e.entanglements;s;){var o=31-Fe(s),f=1<<o;f&a|e[o]&a&&(e[o]|=a),s&=~f}}function Cl(e,a){var s=a&-a;return s=(s&42)!==0?1:ts(s),(s&(e.suspendedLanes|a))!==0?0:s}function ts(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ns(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function jl(){var e=z.p;return e!==0?e:(e=window.event,e===void 0?32:ky(e.type))}function Ml(e,a){var s=z.p;try{return z.p=e,a()}finally{z.p=s}}var Un=Math.random().toString(36).slice(2),gt="__reactFiber$"+Un,Tt="__reactProps$"+Un,Aa="__reactContainer$"+Un,as="__reactEvents$"+Un,ec="__reactListeners$"+Un,tc="__reactHandles$"+Un,Dl="__reactResources$"+Un,hi="__reactMarker$"+Un;function is(e){delete e[gt],delete e[Tt],delete e[as],delete e[ec],delete e[tc]}function Na(e){var a=e[gt];if(a)return a;for(var s=e.parentNode;s;){if(a=s[Aa]||s[gt]){if(s=a.alternate,a.child!==null||s!==null&&s.child!==null)for(e=my(e);e!==null;){if(s=e[gt])return s;e=my(e)}return a}e=s,s=e.parentNode}return null}function Gn(e){if(e=e[gt]||e[Aa]){var a=e.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return e}return null}function mi(e){var a=e.tag;if(a===5||a===26||a===27||a===6)return e.stateNode;throw Error(r(33))}function Ra(e){var a=e[Dl];return a||(a=e[Dl]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function ut(e){e[hi]=!0}var zl=new Set,Ul={};function Yn(e,a){In(e,a),In(e+"Capture",a)}function In(e,a){for(Ul[e]=a,e=0;e<a.length;e++)zl.add(a[e])}var nc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bl={},$l={};function rs(e){return pt.call($l,e)?!0:pt.call(Bl,e)?!1:nc.test(e)?$l[e]=!0:(Bl[e]=!0,!1)}function Ll(e,a,s){if(rs(a))if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(a);return;case"boolean":var o=a.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(a);return}}e.setAttribute(a,""+s)}}function Hl(e,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttribute(a,""+s)}}function Kn(e,a,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(a,s,""+o)}}function ln(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Fh(e){var a=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function ow(e,a,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,a);if(!e.hasOwnProperty(a)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,m=o.set;return Object.defineProperty(e,a,{configurable:!0,get:function(){return f.call(this)},set:function(b){s=""+b,m.call(this,b)}}),Object.defineProperty(e,a,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(b){s=""+b},stopTracking:function(){e._valueTracker=null,delete e[a]}}}}function ac(e){if(!e._valueTracker){var a=Fh(e)?"checked":"value";e._valueTracker=ow(e,a,""+e[a])}}function Wh(e){if(!e)return!1;var a=e._valueTracker;if(!a)return!0;var s=a.getValue(),o="";return e&&(o=Fh(e)?e.checked?"true":"false":e.value),e=o,e!==s?(a.setValue(e),!0):!1}function ql(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var uw=/[\n"\\]/g;function on(e){return e.replace(uw,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function ic(e,a,s,o,f,m,b,T){e.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.type=b:e.removeAttribute("type"),a!=null?b==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+ln(a)):e.value!==""+ln(a)&&(e.value=""+ln(a)):b!=="submit"&&b!=="reset"||e.removeAttribute("value"),a!=null?rc(e,b,ln(a)):s!=null?rc(e,b,ln(s)):o!=null&&e.removeAttribute("value"),f==null&&m!=null&&(e.defaultChecked=!!m),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+ln(T):e.removeAttribute("name")}function em(e,a,s,o,f,m,b,T){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),a!=null||s!=null){if(!(m!=="submit"&&m!=="reset"||a!=null)){ac(e);return}s=s!=null?""+ln(s):"",a=a!=null?""+ln(a):s,T||a===e.value||(e.value=a),e.defaultValue=a}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=T?e.checked:!!o,e.defaultChecked=!!o,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(e.name=b),ac(e)}function rc(e,a,s){a==="number"&&ql(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Ki(e,a,s,o){if(e=e.options,a){a={};for(var f=0;f<s.length;f++)a["$"+s[f]]=!0;for(s=0;s<e.length;s++)f=a.hasOwnProperty("$"+e[s].value),e[s].selected!==f&&(e[s].selected=f),f&&o&&(e[s].defaultSelected=!0)}else{for(s=""+ln(s),a=null,f=0;f<e.length;f++){if(e[f].value===s){e[f].selected=!0,o&&(e[f].defaultSelected=!0);return}a!==null||e[f].disabled||(a=e[f])}a!==null&&(a.selected=!0)}}function tm(e,a,s){if(a!=null&&(a=""+ln(a),a!==e.value&&(e.value=a),s==null)){e.defaultValue!==a&&(e.defaultValue=a);return}e.defaultValue=s!=null?""+ln(s):""}function nm(e,a,s,o){if(a==null){if(o!=null){if(s!=null)throw Error(r(92));if(P(o)){if(1<o.length)throw Error(r(93));o=o[0]}s=o}s==null&&(s=""),a=s}s=ln(a),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),ac(e)}function Xi(e,a){if(a){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=a;return}}e.textContent=a}var cw=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function am(e,a,s){var o=a.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="":o?e.setProperty(a,s):typeof s!="number"||s===0||cw.has(a)?a==="float"?e.cssFloat=s:e[a]=(""+s).trim():e[a]=s+"px"}function im(e,a,s){if(a!=null&&typeof a!="object")throw Error(r(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||a!=null&&a.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var f in a)o=a[f],a.hasOwnProperty(f)&&s[f]!==o&&am(e,f,o)}else for(var m in a)a.hasOwnProperty(m)&&am(e,m,a[m])}function sc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fw=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dw=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vl(e){return dw.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Xn(){}var lc=null;function oc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qi=null,Zi=null;function rm(e){var a=Gn(e);if(a&&(e=a.stateNode)){var s=e[Tt]||null;e:switch(e=a.stateNode,a.type){case"input":if(ic(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),a=s.name,s.type==="radio"&&a!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+on(""+a)+'"][type="radio"]'),a=0;a<s.length;a++){var o=s[a];if(o!==e&&o.form===e.form){var f=o[Tt]||null;if(!f)throw Error(r(90));ic(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(a=0;a<s.length;a++)o=s[a],o.form===e.form&&Wh(o)}break e;case"textarea":tm(e,s.value,s.defaultValue);break e;case"select":a=s.value,a!=null&&Ki(e,!!s.multiple,a,!1)}}}var uc=!1;function sm(e,a,s){if(uc)return e(a,s);uc=!0;try{var o=e(a);return o}finally{if(uc=!1,(Qi!==null||Zi!==null)&&(ko(),Qi&&(a=Qi,e=Zi,Zi=Qi=null,rm(a),e)))for(a=0;a<e.length;a++)rm(e[a])}}function ss(e,a){var s=e.stateNode;if(s===null)return null;var o=s[Tt]||null;if(o===null)return null;s=o[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,a,typeof s));return s}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cc=!1;if(Qn)try{var ls={};Object.defineProperty(ls,"passive",{get:function(){cc=!0}}),window.addEventListener("test",ls,ls),window.removeEventListener("test",ls,ls)}catch{cc=!1}var Oa=null,fc=null,Pl=null;function lm(){if(Pl)return Pl;var e,a=fc,s=a.length,o,f="value"in Oa?Oa.value:Oa.textContent,m=f.length;for(e=0;e<s&&a[e]===f[e];e++);var b=s-e;for(o=1;o<=b&&a[s-o]===f[m-o];o++);return Pl=f.slice(e,1<o?1-o:void 0)}function Gl(e){var a=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&a===13&&(e=13)):e=a,e===10&&(e=13),32<=e||e===13?e:0}function Yl(){return!0}function om(){return!1}function Bt(e){function a(s,o,f,m,b){this._reactName=s,this._targetInst=f,this.type=o,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(s=e[T],this[T]=s?s(m):m[T]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Yl:om,this.isPropagationStopped=om,this}return y(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Yl)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Yl)},persist:function(){},isPersistent:Yl}),a}var pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Il=Bt(pi),os=y({},pi,{view:0,detail:0}),hw=Bt(os),dc,hc,us,Kl=y({},os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==us&&(us&&e.type==="mousemove"?(dc=e.screenX-us.screenX,hc=e.screenY-us.screenY):hc=dc=0,us=e),dc)},movementY:function(e){return"movementY"in e?e.movementY:hc}}),um=Bt(Kl),mw=y({},Kl,{dataTransfer:0}),pw=Bt(mw),gw=y({},os,{relatedTarget:0}),mc=Bt(gw),yw=y({},pi,{animationName:0,elapsedTime:0,pseudoElement:0}),vw=Bt(yw),bw=y({},pi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_w=Bt(bw),ww=y({},pi,{data:0}),cm=Bt(ww),Sw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ew={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tw(e){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(e):(e=xw[e])?!!a[e]:!1}function pc(){return Tw}var Aw=y({},os,{key:function(e){if(e.key){var a=Sw[e.key]||e.key;if(a!=="Unidentified")return a}return e.type==="keypress"?(e=Gl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ew[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pc,charCode:function(e){return e.type==="keypress"?Gl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Gl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Nw=Bt(Aw),Rw=y({},Kl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fm=Bt(Rw),Ow=y({},os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pc}),kw=Bt(Ow),Cw=y({},pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),jw=Bt(Cw),Mw=y({},Kl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dw=Bt(Mw),zw=y({},pi,{newState:0,oldState:0}),Uw=Bt(zw),Bw=[9,13,27,32],gc=Qn&&"CompositionEvent"in window,cs=null;Qn&&"documentMode"in document&&(cs=document.documentMode);var $w=Qn&&"TextEvent"in window&&!cs,dm=Qn&&(!gc||cs&&8<cs&&11>=cs),hm=" ",mm=!1;function pm(e,a){switch(e){case"keyup":return Bw.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ji=!1;function Lw(e,a){switch(e){case"compositionend":return gm(a);case"keypress":return a.which!==32?null:(mm=!0,hm);case"textInput":return e=a.data,e===hm&&mm?null:e;default:return null}}function Hw(e,a){if(Ji)return e==="compositionend"||!gc&&pm(e,a)?(e=lm(),Pl=fc=Oa=null,Ji=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return dm&&a.locale!=="ko"?null:a.data;default:return null}}var qw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ym(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a==="input"?!!qw[e.type]:a==="textarea"}function vm(e,a,s,o){Qi?Zi?Zi.push(o):Zi=[o]:Qi=o,a=Bo(a,"onChange"),0<a.length&&(s=new Il("onChange","change",null,s,o),e.push({event:s,listeners:a}))}var fs=null,ds=null;function Vw(e){ey(e,0)}function Xl(e){var a=mi(e);if(Wh(a))return e}function bm(e,a){if(e==="change")return a}var _m=!1;if(Qn){var yc;if(Qn){var vc="oninput"in document;if(!vc){var wm=document.createElement("div");wm.setAttribute("oninput","return;"),vc=typeof wm.oninput=="function"}yc=vc}else yc=!1;_m=yc&&(!document.documentMode||9<document.documentMode)}function Sm(){fs&&(fs.detachEvent("onpropertychange",Em),ds=fs=null)}function Em(e){if(e.propertyName==="value"&&Xl(ds)){var a=[];vm(a,ds,e,oc(e)),sm(Vw,a)}}function Pw(e,a,s){e==="focusin"?(Sm(),fs=a,ds=s,fs.attachEvent("onpropertychange",Em)):e==="focusout"&&Sm()}function Gw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xl(ds)}function Yw(e,a){if(e==="click")return Xl(a)}function Iw(e,a){if(e==="input"||e==="change")return Xl(a)}function Kw(e,a){return e===a&&(e!==0||1/e===1/a)||e!==e&&a!==a}var Kt=typeof Object.is=="function"?Object.is:Kw;function hs(e,a){if(Kt(e,a))return!0;if(typeof e!="object"||e===null||typeof a!="object"||a===null)return!1;var s=Object.keys(e),o=Object.keys(a);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var f=s[o];if(!pt.call(a,f)||!Kt(e[f],a[f]))return!1}return!0}function xm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Tm(e,a){var s=xm(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=a&&o>=a)return{node:s,offset:a-e};e=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=xm(s)}}function Am(e,a){return e&&a?e===a?!0:e&&e.nodeType===3?!1:a&&a.nodeType===3?Am(e,a.parentNode):"contains"in e?e.contains(a):e.compareDocumentPosition?!!(e.compareDocumentPosition(a)&16):!1:!1}function Nm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var a=ql(e.document);a instanceof e.HTMLIFrameElement;){try{var s=typeof a.contentWindow.location.href=="string"}catch{s=!1}if(s)e=a.contentWindow;else break;a=ql(e.document)}return a}function bc(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a&&(a==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||a==="textarea"||e.contentEditable==="true")}var Xw=Qn&&"documentMode"in document&&11>=document.documentMode,Fi=null,_c=null,ms=null,wc=!1;function Rm(e,a,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;wc||Fi==null||Fi!==ql(o)||(o=Fi,"selectionStart"in o&&bc(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ms&&hs(ms,o)||(ms=o,o=Bo(_c,"onSelect"),0<o.length&&(a=new Il("onSelect","select",null,a,s),e.push({event:a,listeners:o}),a.target=Fi)))}function gi(e,a){var s={};return s[e.toLowerCase()]=a.toLowerCase(),s["Webkit"+e]="webkit"+a,s["Moz"+e]="moz"+a,s}var Wi={animationend:gi("Animation","AnimationEnd"),animationiteration:gi("Animation","AnimationIteration"),animationstart:gi("Animation","AnimationStart"),transitionrun:gi("Transition","TransitionRun"),transitionstart:gi("Transition","TransitionStart"),transitioncancel:gi("Transition","TransitionCancel"),transitionend:gi("Transition","TransitionEnd")},Sc={},Om={};Qn&&(Om=document.createElement("div").style,"AnimationEvent"in window||(delete Wi.animationend.animation,delete Wi.animationiteration.animation,delete Wi.animationstart.animation),"TransitionEvent"in window||delete Wi.transitionend.transition);function yi(e){if(Sc[e])return Sc[e];if(!Wi[e])return e;var a=Wi[e],s;for(s in a)if(a.hasOwnProperty(s)&&s in Om)return Sc[e]=a[s];return e}var km=yi("animationend"),Cm=yi("animationiteration"),jm=yi("animationstart"),Qw=yi("transitionrun"),Zw=yi("transitionstart"),Jw=yi("transitioncancel"),Mm=yi("transitionend"),Dm=new Map,Ec="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ec.push("scrollEnd");function _n(e,a){Dm.set(e,a),Yn(a,[e])}var Ql=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},un=[],er=0,xc=0;function Zl(){for(var e=er,a=xc=er=0;a<e;){var s=un[a];un[a++]=null;var o=un[a];un[a++]=null;var f=un[a];un[a++]=null;var m=un[a];if(un[a++]=null,o!==null&&f!==null){var b=o.pending;b===null?f.next=f:(f.next=b.next,b.next=f),o.pending=f}m!==0&&zm(s,f,m)}}function Jl(e,a,s,o){un[er++]=e,un[er++]=a,un[er++]=s,un[er++]=o,xc|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Tc(e,a,s,o){return Jl(e,a,s,o),Fl(e)}function vi(e,a){return Jl(e,null,null,a),Fl(e)}function zm(e,a,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var f=!1,m=e.return;m!==null;)m.childLanes|=s,o=m.alternate,o!==null&&(o.childLanes|=s),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(f=!0)),e=m,m=m.return;return e.tag===3?(m=e.stateNode,f&&a!==null&&(f=31-Fe(s),e=m.hiddenUpdates,o=e[f],o===null?e[f]=[a]:o.push(a),a.lane=s|536870912),m):null}function Fl(e){if(50<Us)throw Us=0,zf=null,Error(r(185));for(var a=e.return;a!==null;)e=a,a=e.return;return e.tag===3?e.stateNode:null}var tr={};function Fw(e,a,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xt(e,a,s,o){return new Fw(e,a,s,o)}function Ac(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zn(e,a){var s=e.alternate;return s===null?(s=Xt(e.tag,a,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=a,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,a=e.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Um(e,a){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=a,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,a=s.dependencies,e.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),e}function Wl(e,a,s,o,f,m){var b=0;if(o=e,typeof e=="function")Ac(e)&&(b=1);else if(typeof e=="string")b=aE(e,s,W.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case X:return e=Xt(31,s,a,f),e.elementType=X,e.lanes=m,e;case w:return bi(s.children,f,m,a);case E:b=8,f|=24;break;case A:return e=Xt(12,s,a,f|2),e.elementType=A,e.lanes=m,e;case $:return e=Xt(13,s,a,f),e.elementType=$,e.lanes=m,e;case q:return e=Xt(19,s,a,f),e.elementType=q,e.lanes=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case N:b=10;break e;case j:b=9;break e;case M:b=11;break e;case V:b=14;break e;case te:b=16,o=null;break e}b=29,s=Error(r(130,e===null?"null":typeof e,"")),o=null}return a=Xt(b,s,a,f),a.elementType=e,a.type=o,a.lanes=m,a}function bi(e,a,s,o){return e=Xt(7,e,o,a),e.lanes=s,e}function Nc(e,a,s){return e=Xt(6,e,null,a),e.lanes=s,e}function Bm(e){var a=Xt(18,null,null,0);return a.stateNode=e,a}function Rc(e,a,s){return a=Xt(4,e.children!==null?e.children:[],e.key,a),a.lanes=s,a.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},a}var $m=new WeakMap;function cn(e,a){if(typeof e=="object"&&e!==null){var s=$m.get(e);return s!==void 0?s:(a={value:e,source:a,stack:ge(a)},$m.set(e,a),a)}return{value:e,source:a,stack:ge(a)}}var nr=[],ar=0,eo=null,ps=0,fn=[],dn=0,ka=null,Bn=1,$n="";function Jn(e,a){nr[ar++]=ps,nr[ar++]=eo,eo=e,ps=a}function Lm(e,a,s){fn[dn++]=Bn,fn[dn++]=$n,fn[dn++]=ka,ka=e;var o=Bn;e=$n;var f=32-Fe(o)-1;o&=~(1<<f),s+=1;var m=32-Fe(a)+f;if(30<m){var b=f-f%5;m=(o&(1<<b)-1).toString(32),o>>=b,f-=b,Bn=1<<32-Fe(a)+f|s<<f|o,$n=m+e}else Bn=1<<m|s<<f|o,$n=e}function Oc(e){e.return!==null&&(Jn(e,1),Lm(e,1,0))}function kc(e){for(;e===eo;)eo=nr[--ar],nr[ar]=null,ps=nr[--ar],nr[ar]=null;for(;e===ka;)ka=fn[--dn],fn[dn]=null,$n=fn[--dn],fn[dn]=null,Bn=fn[--dn],fn[dn]=null}function Hm(e,a){fn[dn++]=Bn,fn[dn++]=$n,fn[dn++]=ka,Bn=a.id,$n=a.overflow,ka=e}var At=null,Ye=null,Ce=!1,Ca=null,hn=!1,Cc=Error(r(519));function ja(e){var a=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw gs(cn(a,e)),Cc}function qm(e){var a=e.stateNode,s=e.type,o=e.memoizedProps;switch(a[gt]=e,a[Tt]=o,s){case"dialog":Re("cancel",a),Re("close",a);break;case"iframe":case"object":case"embed":Re("load",a);break;case"video":case"audio":for(s=0;s<$s.length;s++)Re($s[s],a);break;case"source":Re("error",a);break;case"img":case"image":case"link":Re("error",a),Re("load",a);break;case"details":Re("toggle",a);break;case"input":Re("invalid",a),em(a,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Re("invalid",a);break;case"textarea":Re("invalid",a),nm(a,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||a.textContent===""+s||o.suppressHydrationWarning===!0||iy(a.textContent,s)?(o.popover!=null&&(Re("beforetoggle",a),Re("toggle",a)),o.onScroll!=null&&Re("scroll",a),o.onScrollEnd!=null&&Re("scrollend",a),o.onClick!=null&&(a.onclick=Xn),a=!0):a=!1,a||ja(e,!0)}function Vm(e){for(At=e.return;At;)switch(At.tag){case 5:case 31:case 13:hn=!1;return;case 27:case 3:hn=!0;return;default:At=At.return}}function ir(e){if(e!==At)return!1;if(!Ce)return Vm(e),Ce=!0,!1;var a=e.tag,s;if((s=a!==3&&a!==27)&&((s=a===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Zf(e.type,e.memoizedProps)),s=!s),s&&Ye&&ja(e),Vm(e),a===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ye=hy(e)}else if(a===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ye=hy(e)}else a===27?(a=Ye,Ia(e.type)?(e=td,td=null,Ye=e):Ye=a):Ye=At?pn(e.stateNode.nextSibling):null;return!0}function _i(){Ye=At=null,Ce=!1}function jc(){var e=Ca;return e!==null&&(qt===null?qt=e:qt.push.apply(qt,e),Ca=null),e}function gs(e){Ca===null?Ca=[e]:Ca.push(e)}var Mc=C(null),wi=null,Fn=null;function Ma(e,a,s){Z(Mc,a._currentValue),a._currentValue=s}function Wn(e){e._currentValue=Mc.current,U(Mc)}function Dc(e,a,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&a)!==a?(e.childLanes|=a,o!==null&&(o.childLanes|=a)):o!==null&&(o.childLanes&a)!==a&&(o.childLanes|=a),e===s)break;e=e.return}}function zc(e,a,s,o){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var m=f.dependencies;if(m!==null){var b=f.child;m=m.firstContext;e:for(;m!==null;){var T=m;m=f;for(var D=0;D<a.length;D++)if(T.context===a[D]){m.lanes|=s,T=m.alternate,T!==null&&(T.lanes|=s),Dc(m.return,s,e),o||(b=null);break e}m=T.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(r(341));b.lanes|=s,m=b.alternate,m!==null&&(m.lanes|=s),Dc(b,s,e),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===e){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function rr(e,a,s,o){e=null;for(var f=a,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(r(387));if(b=b.memoizedProps,b!==null){var T=f.type;Kt(f.pendingProps.value,b.value)||(e!==null?e.push(T):e=[T])}}else if(f===fe.current){if(b=f.alternate,b===null)throw Error(r(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Ps):e=[Ps])}f=f.return}e!==null&&zc(a,e,s,o),a.flags|=262144}function to(e){for(e=e.firstContext;e!==null;){if(!Kt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Si(e){wi=e,Fn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Nt(e){return Pm(wi,e)}function no(e,a){return wi===null&&Si(e),Pm(e,a)}function Pm(e,a){var s=a._currentValue;if(a={context:a,memoizedValue:s,next:null},Fn===null){if(e===null)throw Error(r(308));Fn=a,e.dependencies={lanes:0,firstContext:a},e.flags|=524288}else Fn=Fn.next=a;return s}var Ww=typeof AbortController<"u"?AbortController:function(){var e=[],a=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){a.aborted=!0,e.forEach(function(s){return s()})}},eS=t.unstable_scheduleCallback,tS=t.unstable_NormalPriority,ct={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uc(){return{controller:new Ww,data:new Map,refCount:0}}function ys(e){e.refCount--,e.refCount===0&&eS(tS,function(){e.controller.abort()})}var vs=null,Bc=0,sr=0,lr=null;function nS(e,a){if(vs===null){var s=vs=[];Bc=0,sr=qf(),lr={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Bc++,a.then(Gm,Gm),a}function Gm(){if(--Bc===0&&vs!==null){lr!==null&&(lr.status="fulfilled");var e=vs;vs=null,sr=0,lr=null;for(var a=0;a<e.length;a++)(0,e[a])()}}function aS(e,a){var s=[],o={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return e.then(function(){o.status="fulfilled",o.value=a;for(var f=0;f<s.length;f++)(0,s[f])(a)},function(f){for(o.status="rejected",o.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),o}var Ym=k.S;k.S=function(e,a){Rg=Je(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&nS(e,a),Ym!==null&&Ym(e,a)};var Ei=C(null);function $c(){var e=Ei.current;return e!==null?e:qe.pooledCache}function ao(e,a){a===null?Z(Ei,Ei.current):Z(Ei,a.pool)}function Im(){var e=$c();return e===null?null:{parent:ct._currentValue,pool:e}}var or=Error(r(460)),Lc=Error(r(474)),io=Error(r(542)),ro={then:function(){}};function Km(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Xm(e,a,s){switch(s=e[s],s===void 0?e.push(a):s!==a&&(a.then(Xn,Xn),a=s),a.status){case"fulfilled":return a.value;case"rejected":throw e=a.reason,Zm(e),e;default:if(typeof a.status=="string")a.then(Xn,Xn);else{if(e=qe,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=a,e.status="pending",e.then(function(o){if(a.status==="pending"){var f=a;f.status="fulfilled",f.value=o}},function(o){if(a.status==="pending"){var f=a;f.status="rejected",f.reason=o}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw e=a.reason,Zm(e),e}throw Ti=a,or}}function xi(e){try{var a=e._init;return a(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Ti=s,or):s}}var Ti=null;function Qm(){if(Ti===null)throw Error(r(459));var e=Ti;return Ti=null,e}function Zm(e){if(e===or||e===io)throw Error(r(483))}var ur=null,bs=0;function so(e){var a=bs;return bs+=1,ur===null&&(ur=[]),Xm(ur,e,a)}function _s(e,a){a=a.props.ref,e.ref=a!==void 0?a:null}function lo(e,a){throw a.$$typeof===_?Error(r(525)):(e=Object.prototype.toString.call(a),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":e)))}function Jm(e){function a(H,B){if(e){var Y=H.deletions;Y===null?(H.deletions=[B],H.flags|=16):Y.push(B)}}function s(H,B){if(!e)return null;for(;B!==null;)a(H,B),B=B.sibling;return null}function o(H){for(var B=new Map;H!==null;)H.key!==null?B.set(H.key,H):B.set(H.index,H),H=H.sibling;return B}function f(H,B){return H=Zn(H,B),H.index=0,H.sibling=null,H}function m(H,B,Y){return H.index=Y,e?(Y=H.alternate,Y!==null?(Y=Y.index,Y<B?(H.flags|=67108866,B):Y):(H.flags|=67108866,B)):(H.flags|=1048576,B)}function b(H){return e&&H.alternate===null&&(H.flags|=67108866),H}function T(H,B,Y,ne){return B===null||B.tag!==6?(B=Nc(Y,H.mode,ne),B.return=H,B):(B=f(B,Y),B.return=H,B)}function D(H,B,Y,ne){var ye=Y.type;return ye===w?ee(H,B,Y.props.children,ne,Y.key):B!==null&&(B.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===te&&xi(ye)===B.type)?(B=f(B,Y.props),_s(B,Y),B.return=H,B):(B=Wl(Y.type,Y.key,Y.props,null,H.mode,ne),_s(B,Y),B.return=H,B)}function I(H,B,Y,ne){return B===null||B.tag!==4||B.stateNode.containerInfo!==Y.containerInfo||B.stateNode.implementation!==Y.implementation?(B=Rc(Y,H.mode,ne),B.return=H,B):(B=f(B,Y.children||[]),B.return=H,B)}function ee(H,B,Y,ne,ye){return B===null||B.tag!==7?(B=bi(Y,H.mode,ne,ye),B.return=H,B):(B=f(B,Y),B.return=H,B)}function ae(H,B,Y){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Nc(""+B,H.mode,Y),B.return=H,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case v:return Y=Wl(B.type,B.key,B.props,null,H.mode,Y),_s(Y,B),Y.return=H,Y;case S:return B=Rc(B,H.mode,Y),B.return=H,B;case te:return B=xi(B),ae(H,B,Y)}if(P(B)||oe(B))return B=bi(B,H.mode,Y,null),B.return=H,B;if(typeof B.then=="function")return ae(H,so(B),Y);if(B.$$typeof===N)return ae(H,no(H,B),Y);lo(H,B)}return null}function K(H,B,Y,ne){var ye=B!==null?B.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return ye!==null?null:T(H,B,""+Y,ne);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case v:return Y.key===ye?D(H,B,Y,ne):null;case S:return Y.key===ye?I(H,B,Y,ne):null;case te:return Y=xi(Y),K(H,B,Y,ne)}if(P(Y)||oe(Y))return ye!==null?null:ee(H,B,Y,ne,null);if(typeof Y.then=="function")return K(H,B,so(Y),ne);if(Y.$$typeof===N)return K(H,B,no(H,Y),ne);lo(H,Y)}return null}function Q(H,B,Y,ne,ye){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return H=H.get(Y)||null,T(B,H,""+ne,ye);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case v:return H=H.get(ne.key===null?Y:ne.key)||null,D(B,H,ne,ye);case S:return H=H.get(ne.key===null?Y:ne.key)||null,I(B,H,ne,ye);case te:return ne=xi(ne),Q(H,B,Y,ne,ye)}if(P(ne)||oe(ne))return H=H.get(Y)||null,ee(B,H,ne,ye,null);if(typeof ne.then=="function")return Q(H,B,Y,so(ne),ye);if(ne.$$typeof===N)return Q(H,B,Y,no(B,ne),ye);lo(B,ne)}return null}function de(H,B,Y,ne){for(var ye=null,je=null,me=B,xe=B=0,ke=null;me!==null&&xe<Y.length;xe++){me.index>xe?(ke=me,me=null):ke=me.sibling;var Me=K(H,me,Y[xe],ne);if(Me===null){me===null&&(me=ke);break}e&&me&&Me.alternate===null&&a(H,me),B=m(Me,B,xe),je===null?ye=Me:je.sibling=Me,je=Me,me=ke}if(xe===Y.length)return s(H,me),Ce&&Jn(H,xe),ye;if(me===null){for(;xe<Y.length;xe++)me=ae(H,Y[xe],ne),me!==null&&(B=m(me,B,xe),je===null?ye=me:je.sibling=me,je=me);return Ce&&Jn(H,xe),ye}for(me=o(me);xe<Y.length;xe++)ke=Q(me,H,xe,Y[xe],ne),ke!==null&&(e&&ke.alternate!==null&&me.delete(ke.key===null?xe:ke.key),B=m(ke,B,xe),je===null?ye=ke:je.sibling=ke,je=ke);return e&&me.forEach(function(Ja){return a(H,Ja)}),Ce&&Jn(H,xe),ye}function be(H,B,Y,ne){if(Y==null)throw Error(r(151));for(var ye=null,je=null,me=B,xe=B=0,ke=null,Me=Y.next();me!==null&&!Me.done;xe++,Me=Y.next()){me.index>xe?(ke=me,me=null):ke=me.sibling;var Ja=K(H,me,Me.value,ne);if(Ja===null){me===null&&(me=ke);break}e&&me&&Ja.alternate===null&&a(H,me),B=m(Ja,B,xe),je===null?ye=Ja:je.sibling=Ja,je=Ja,me=ke}if(Me.done)return s(H,me),Ce&&Jn(H,xe),ye;if(me===null){for(;!Me.done;xe++,Me=Y.next())Me=ae(H,Me.value,ne),Me!==null&&(B=m(Me,B,xe),je===null?ye=Me:je.sibling=Me,je=Me);return Ce&&Jn(H,xe),ye}for(me=o(me);!Me.done;xe++,Me=Y.next())Me=Q(me,H,xe,Me.value,ne),Me!==null&&(e&&Me.alternate!==null&&me.delete(Me.key===null?xe:Me.key),B=m(Me,B,xe),je===null?ye=Me:je.sibling=Me,je=Me);return e&&me.forEach(function(mE){return a(H,mE)}),Ce&&Jn(H,xe),ye}function He(H,B,Y,ne){if(typeof Y=="object"&&Y!==null&&Y.type===w&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case v:e:{for(var ye=Y.key;B!==null;){if(B.key===ye){if(ye=Y.type,ye===w){if(B.tag===7){s(H,B.sibling),ne=f(B,Y.props.children),ne.return=H,H=ne;break e}}else if(B.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===te&&xi(ye)===B.type){s(H,B.sibling),ne=f(B,Y.props),_s(ne,Y),ne.return=H,H=ne;break e}s(H,B);break}else a(H,B);B=B.sibling}Y.type===w?(ne=bi(Y.props.children,H.mode,ne,Y.key),ne.return=H,H=ne):(ne=Wl(Y.type,Y.key,Y.props,null,H.mode,ne),_s(ne,Y),ne.return=H,H=ne)}return b(H);case S:e:{for(ye=Y.key;B!==null;){if(B.key===ye)if(B.tag===4&&B.stateNode.containerInfo===Y.containerInfo&&B.stateNode.implementation===Y.implementation){s(H,B.sibling),ne=f(B,Y.children||[]),ne.return=H,H=ne;break e}else{s(H,B);break}else a(H,B);B=B.sibling}ne=Rc(Y,H.mode,ne),ne.return=H,H=ne}return b(H);case te:return Y=xi(Y),He(H,B,Y,ne)}if(P(Y))return de(H,B,Y,ne);if(oe(Y)){if(ye=oe(Y),typeof ye!="function")throw Error(r(150));return Y=ye.call(Y),be(H,B,Y,ne)}if(typeof Y.then=="function")return He(H,B,so(Y),ne);if(Y.$$typeof===N)return He(H,B,no(H,Y),ne);lo(H,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,B!==null&&B.tag===6?(s(H,B.sibling),ne=f(B,Y),ne.return=H,H=ne):(s(H,B),ne=Nc(Y,H.mode,ne),ne.return=H,H=ne),b(H)):s(H,B)}return function(H,B,Y,ne){try{bs=0;var ye=He(H,B,Y,ne);return ur=null,ye}catch(me){if(me===or||me===io)throw me;var je=Xt(29,me,null,H.mode);return je.lanes=ne,je.return=H,je}finally{}}}var Ai=Jm(!0),Fm=Jm(!1),Da=!1;function Hc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qc(e,a){e=e.updateQueue,a.updateQueue===e&&(a.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function za(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ua(e,a,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(De&2)!==0){var f=o.pending;return f===null?a.next=a:(a.next=f.next,f.next=a),o.pending=a,a=Fl(e),zm(e,null,s),a}return Jl(e,o,a,s),Fl(e)}function ws(e,a,s){if(a=a.updateQueue,a!==null&&(a=a.shared,(s&4194048)!==0)){var o=a.lanes;o&=e.pendingLanes,s|=o,a.lanes=s,kl(e,s)}}function Vc(e,a){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var f=null,m=null;if(s=s.firstBaseUpdate,s!==null){do{var b={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};m===null?f=m=b:m=m.next=b,s=s.next}while(s!==null);m===null?f=m=a:m=m.next=a}else f=m=a;s={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=a:e.next=a,s.lastBaseUpdate=a}var Pc=!1;function Ss(){if(Pc){var e=lr;if(e!==null)throw e}}function Es(e,a,s,o){Pc=!1;var f=e.updateQueue;Da=!1;var m=f.firstBaseUpdate,b=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var D=T,I=D.next;D.next=null,b===null?m=I:b.next=I,b=D;var ee=e.alternate;ee!==null&&(ee=ee.updateQueue,T=ee.lastBaseUpdate,T!==b&&(T===null?ee.firstBaseUpdate=I:T.next=I,ee.lastBaseUpdate=D))}if(m!==null){var ae=f.baseState;b=0,ee=I=D=null,T=m;do{var K=T.lane&-536870913,Q=K!==T.lane;if(Q?(Oe&K)===K:(o&K)===K){K!==0&&K===sr&&(Pc=!0),ee!==null&&(ee=ee.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var de=e,be=T;K=a;var He=s;switch(be.tag){case 1:if(de=be.payload,typeof de=="function"){ae=de.call(He,ae,K);break e}ae=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=be.payload,K=typeof de=="function"?de.call(He,ae,K):de,K==null)break e;ae=y({},ae,K);break e;case 2:Da=!0}}K=T.callback,K!==null&&(e.flags|=64,Q&&(e.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[K]:Q.push(K))}else Q={lane:K,tag:T.tag,payload:T.payload,callback:T.callback,next:null},ee===null?(I=ee=Q,D=ae):ee=ee.next=Q,b|=K;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;Q=T,T=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);ee===null&&(D=ae),f.baseState=D,f.firstBaseUpdate=I,f.lastBaseUpdate=ee,m===null&&(f.shared.lanes=0),qa|=b,e.lanes=b,e.memoizedState=ae}}function Wm(e,a){if(typeof e!="function")throw Error(r(191,e));e.call(a)}function ep(e,a){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Wm(s[e],a)}var cr=C(null),oo=C(0);function tp(e,a){e=oa,Z(oo,e),Z(cr,a),oa=e|a.baseLanes}function Gc(){Z(oo,oa),Z(cr,cr.current)}function Yc(){oa=oo.current,U(cr),U(oo)}var Qt=C(null),mn=null;function Ba(e){var a=e.alternate;Z(st,st.current&1),Z(Qt,e),mn===null&&(a===null||cr.current!==null||a.memoizedState!==null)&&(mn=e)}function Ic(e){Z(st,st.current),Z(Qt,e),mn===null&&(mn=e)}function np(e){e.tag===22?(Z(st,st.current),Z(Qt,e),mn===null&&(mn=e)):$a()}function $a(){Z(st,st.current),Z(Qt,Qt.current)}function Zt(e){U(Qt),mn===e&&(mn=null),U(st)}var st=C(0);function uo(e){for(var a=e;a!==null;){if(a.tag===13){var s=a.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Wf(s)||ed(s)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var ea=0,Ee=null,$e=null,ft=null,co=!1,fr=!1,Ni=!1,fo=0,xs=0,dr=null,iS=0;function nt(){throw Error(r(321))}function Kc(e,a){if(a===null)return!1;for(var s=0;s<a.length&&s<e.length;s++)if(!Kt(e[s],a[s]))return!1;return!0}function Xc(e,a,s,o,f,m){return ea=m,Ee=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,k.H=e===null||e.memoizedState===null?Lp:cf,Ni=!1,m=s(o,f),Ni=!1,fr&&(m=ip(a,s,o,f)),ap(e),m}function ap(e){k.H=Ns;var a=$e!==null&&$e.next!==null;if(ea=0,ft=$e=Ee=null,co=!1,xs=0,dr=null,a)throw Error(r(300));e===null||dt||(e=e.dependencies,e!==null&&to(e)&&(dt=!0))}function ip(e,a,s,o){Ee=e;var f=0;do{if(fr&&(dr=null),xs=0,fr=!1,25<=f)throw Error(r(301));if(f+=1,ft=$e=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}k.H=Hp,m=a(s,o)}while(fr);return m}function rS(){var e=k.H,a=e.useState()[0];return a=typeof a.then=="function"?Ts(a):a,e=e.useState()[0],($e!==null?$e.memoizedState:null)!==e&&(Ee.flags|=1024),a}function Qc(){var e=fo!==0;return fo=0,e}function Zc(e,a,s){a.updateQueue=e.updateQueue,a.flags&=-2053,e.lanes&=~s}function Jc(e){if(co){for(e=e.memoizedState;e!==null;){var a=e.queue;a!==null&&(a.pending=null),e=e.next}co=!1}ea=0,ft=$e=Ee=null,fr=!1,xs=fo=0,dr=null}function Ut(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?Ee.memoizedState=ft=e:ft=ft.next=e,ft}function lt(){if($e===null){var e=Ee.alternate;e=e!==null?e.memoizedState:null}else e=$e.next;var a=ft===null?Ee.memoizedState:ft.next;if(a!==null)ft=a,$e=e;else{if(e===null)throw Ee.alternate===null?Error(r(467)):Error(r(310));$e=e,e={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},ft===null?Ee.memoizedState=ft=e:ft=ft.next=e}return ft}function ho(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ts(e){var a=xs;return xs+=1,dr===null&&(dr=[]),e=Xm(dr,e,a),a=Ee,(ft===null?a.memoizedState:ft.next)===null&&(a=a.alternate,k.H=a===null||a.memoizedState===null?Lp:cf),e}function mo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ts(e);if(e.$$typeof===N)return Nt(e)}throw Error(r(438,String(e)))}function Fc(e){var a=null,s=Ee.updateQueue;if(s!==null&&(a=s.memoCache),a==null){var o=Ee.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(a={data:o.data.map(function(f){return f.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),s===null&&(s=ho(),Ee.updateQueue=s),s.memoCache=a,s=a.data[a.index],s===void 0)for(s=a.data[a.index]=Array(e),o=0;o<e;o++)s[o]=re;return a.index++,s}function ta(e,a){return typeof a=="function"?a(e):a}function po(e){var a=lt();return Wc(a,$e,e)}function Wc(e,a,s){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=s;var f=e.baseQueue,m=o.pending;if(m!==null){if(f!==null){var b=f.next;f.next=m.next,m.next=b}a.baseQueue=f=m,o.pending=null}if(m=e.baseState,f===null)e.memoizedState=m;else{a=f.next;var T=b=null,D=null,I=a,ee=!1;do{var ae=I.lane&-536870913;if(ae!==I.lane?(Oe&ae)===ae:(ea&ae)===ae){var K=I.revertLane;if(K===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),ae===sr&&(ee=!0);else if((ea&K)===K){I=I.next,K===sr&&(ee=!0);continue}else ae={lane:0,revertLane:I.revertLane,gesture:null,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},D===null?(T=D=ae,b=m):D=D.next=ae,Ee.lanes|=K,qa|=K;ae=I.action,Ni&&s(m,ae),m=I.hasEagerState?I.eagerState:s(m,ae)}else K={lane:ae,revertLane:I.revertLane,gesture:I.gesture,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},D===null?(T=D=K,b=m):D=D.next=K,Ee.lanes|=ae,qa|=ae;I=I.next}while(I!==null&&I!==a);if(D===null?b=m:D.next=T,!Kt(m,e.memoizedState)&&(dt=!0,ee&&(s=lr,s!==null)))throw s;e.memoizedState=m,e.baseState=b,e.baseQueue=D,o.lastRenderedState=m}return f===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function ef(e){var a=lt(),s=a.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var o=s.dispatch,f=s.pending,m=a.memoizedState;if(f!==null){s.pending=null;var b=f=f.next;do m=e(m,b.action),b=b.next;while(b!==f);Kt(m,a.memoizedState)||(dt=!0),a.memoizedState=m,a.baseQueue===null&&(a.baseState=m),s.lastRenderedState=m}return[m,o]}function rp(e,a,s){var o=Ee,f=lt(),m=Ce;if(m){if(s===void 0)throw Error(r(407));s=s()}else s=a();var b=!Kt(($e||f).memoizedState,s);if(b&&(f.memoizedState=s,dt=!0),f=f.queue,af(op.bind(null,o,f,e),[e]),f.getSnapshot!==a||b||ft!==null&&ft.memoizedState.tag&1){if(o.flags|=2048,hr(9,{destroy:void 0},lp.bind(null,o,f,s,a),null),qe===null)throw Error(r(349));m||(ea&127)!==0||sp(o,a,s)}return s}function sp(e,a,s){e.flags|=16384,e={getSnapshot:a,value:s},a=Ee.updateQueue,a===null?(a=ho(),Ee.updateQueue=a,a.stores=[e]):(s=a.stores,s===null?a.stores=[e]:s.push(e))}function lp(e,a,s,o){a.value=s,a.getSnapshot=o,up(a)&&cp(e)}function op(e,a,s){return s(function(){up(a)&&cp(e)})}function up(e){var a=e.getSnapshot;e=e.value;try{var s=a();return!Kt(e,s)}catch{return!0}}function cp(e){var a=vi(e,2);a!==null&&Vt(a,e,2)}function tf(e){var a=Ut();if(typeof e=="function"){var s=e;if(e=s(),Ni){jt(!0);try{s()}finally{jt(!1)}}}return a.memoizedState=a.baseState=e,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:e},a}function fp(e,a,s,o){return e.baseState=s,Wc(e,$e,typeof o=="function"?o:ta)}function sS(e,a,s,o,f){if(vo(e))throw Error(r(485));if(e=a.action,e!==null){var m={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){m.listeners.push(b)}};k.T!==null?s(!0):m.isTransition=!1,o(m),s=a.pending,s===null?(m.next=a.pending=m,dp(a,m)):(m.next=s.next,a.pending=s.next=m)}}function dp(e,a){var s=a.action,o=a.payload,f=e.state;if(a.isTransition){var m=k.T,b={};k.T=b;try{var T=s(f,o),D=k.S;D!==null&&D(b,T),hp(e,a,T)}catch(I){nf(e,a,I)}finally{m!==null&&b.types!==null&&(m.types=b.types),k.T=m}}else try{m=s(f,o),hp(e,a,m)}catch(I){nf(e,a,I)}}function hp(e,a,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){mp(e,a,o)},function(o){return nf(e,a,o)}):mp(e,a,s)}function mp(e,a,s){a.status="fulfilled",a.value=s,pp(a),e.state=s,a=e.pending,a!==null&&(s=a.next,s===a?e.pending=null:(s=s.next,a.next=s,dp(e,s)))}function nf(e,a,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do a.status="rejected",a.reason=s,pp(a),a=a.next;while(a!==o)}e.action=null}function pp(e){e=e.listeners;for(var a=0;a<e.length;a++)(0,e[a])()}function gp(e,a){return a}function yp(e,a){if(Ce){var s=qe.formState;if(s!==null){e:{var o=Ee;if(Ce){if(Ye){t:{for(var f=Ye,m=hn;f.nodeType!==8;){if(!m){f=null;break t}if(f=pn(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){Ye=pn(f.nextSibling),o=f.data==="F!";break e}}ja(o)}o=!1}o&&(a=s[0])}}return s=Ut(),s.memoizedState=s.baseState=a,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gp,lastRenderedState:a},s.queue=o,s=Up.bind(null,Ee,o),o.dispatch=s,o=tf(!1),m=uf.bind(null,Ee,!1,o.queue),o=Ut(),f={state:a,dispatch:null,action:e,pending:null},o.queue=f,s=sS.bind(null,Ee,f,m,s),f.dispatch=s,o.memoizedState=e,[a,s,!1]}function vp(e){var a=lt();return bp(a,$e,e)}function bp(e,a,s){if(a=Wc(e,a,gp)[0],e=po(ta)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var o=Ts(a)}catch(b){throw b===or?io:b}else o=a;a=lt();var f=a.queue,m=f.dispatch;return s!==a.memoizedState&&(Ee.flags|=2048,hr(9,{destroy:void 0},lS.bind(null,f,s),null)),[o,m,e]}function lS(e,a){e.action=a}function _p(e){var a=lt(),s=$e;if(s!==null)return bp(a,s,e);lt(),a=a.memoizedState,s=lt();var o=s.queue.dispatch;return s.memoizedState=e,[a,o,!1]}function hr(e,a,s,o){return e={tag:e,create:s,deps:o,inst:a,next:null},a=Ee.updateQueue,a===null&&(a=ho(),Ee.updateQueue=a),s=a.lastEffect,s===null?a.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,a.lastEffect=e),e}function wp(){return lt().memoizedState}function go(e,a,s,o){var f=Ut();Ee.flags|=e,f.memoizedState=hr(1|a,{destroy:void 0},s,o===void 0?null:o)}function yo(e,a,s,o){var f=lt();o=o===void 0?null:o;var m=f.memoizedState.inst;$e!==null&&o!==null&&Kc(o,$e.memoizedState.deps)?f.memoizedState=hr(a,m,s,o):(Ee.flags|=e,f.memoizedState=hr(1|a,m,s,o))}function Sp(e,a){go(8390656,8,e,a)}function af(e,a){yo(2048,8,e,a)}function oS(e){Ee.flags|=4;var a=Ee.updateQueue;if(a===null)a=ho(),Ee.updateQueue=a,a.events=[e];else{var s=a.events;s===null?a.events=[e]:s.push(e)}}function Ep(e){var a=lt().memoizedState;return oS({ref:a,nextImpl:e}),function(){if((De&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}function xp(e,a){return yo(4,2,e,a)}function Tp(e,a){return yo(4,4,e,a)}function Ap(e,a){if(typeof a=="function"){e=e();var s=a(e);return function(){typeof s=="function"?s():a(null)}}if(a!=null)return e=e(),a.current=e,function(){a.current=null}}function Np(e,a,s){s=s!=null?s.concat([e]):null,yo(4,4,Ap.bind(null,a,e),s)}function rf(){}function Rp(e,a){var s=lt();a=a===void 0?null:a;var o=s.memoizedState;return a!==null&&Kc(a,o[1])?o[0]:(s.memoizedState=[e,a],e)}function Op(e,a){var s=lt();a=a===void 0?null:a;var o=s.memoizedState;if(a!==null&&Kc(a,o[1]))return o[0];if(o=e(),Ni){jt(!0);try{e()}finally{jt(!1)}}return s.memoizedState=[o,a],o}function sf(e,a,s){return s===void 0||(ea&1073741824)!==0&&(Oe&261930)===0?e.memoizedState=a:(e.memoizedState=s,e=kg(),Ee.lanes|=e,qa|=e,s)}function kp(e,a,s,o){return Kt(s,a)?s:cr.current!==null?(e=sf(e,s,o),Kt(e,a)||(dt=!0),e):(ea&42)===0||(ea&1073741824)!==0&&(Oe&261930)===0?(dt=!0,e.memoizedState=s):(e=kg(),Ee.lanes|=e,qa|=e,a)}function Cp(e,a,s,o,f){var m=z.p;z.p=m!==0&&8>m?m:8;var b=k.T,T={};k.T=T,uf(e,!1,a,s);try{var D=f(),I=k.S;if(I!==null&&I(T,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var ee=aS(D,o);As(e,a,ee,Wt(e))}else As(e,a,o,Wt(e))}catch(ae){As(e,a,{then:function(){},status:"rejected",reason:ae},Wt())}finally{z.p=m,b!==null&&T.types!==null&&(b.types=T.types),k.T=b}}function uS(){}function lf(e,a,s,o){if(e.tag!==5)throw Error(r(476));var f=jp(e).queue;Cp(e,f,a,G,s===null?uS:function(){return Mp(e),s(o)})}function jp(e){var a=e.memoizedState;if(a!==null)return a;a={memoizedState:G,baseState:G,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:G},next:null};var s={};return a.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:s},next:null},e.memoizedState=a,e=e.alternate,e!==null&&(e.memoizedState=a),a}function Mp(e){var a=jp(e);a.next===null&&(a=e.alternate.memoizedState),As(e,a.next.queue,{},Wt())}function of(){return Nt(Ps)}function Dp(){return lt().memoizedState}function zp(){return lt().memoizedState}function cS(e){for(var a=e.return;a!==null;){switch(a.tag){case 24:case 3:var s=Wt();e=za(s);var o=Ua(a,e,s);o!==null&&(Vt(o,a,s),ws(o,a,s)),a={cache:Uc()},e.payload=a;return}a=a.return}}function fS(e,a,s){var o=Wt();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},vo(e)?Bp(a,s):(s=Tc(e,a,s,o),s!==null&&(Vt(s,e,o),$p(s,a,o)))}function Up(e,a,s){var o=Wt();As(e,a,s,o)}function As(e,a,s,o){var f={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(vo(e))Bp(a,f);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=a.lastRenderedReducer,m!==null))try{var b=a.lastRenderedState,T=m(b,s);if(f.hasEagerState=!0,f.eagerState=T,Kt(T,b))return Jl(e,a,f,0),qe===null&&Zl(),!1}catch{}finally{}if(s=Tc(e,a,f,o),s!==null)return Vt(s,e,o),$p(s,a,o),!0}return!1}function uf(e,a,s,o){if(o={lane:2,revertLane:qf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},vo(e)){if(a)throw Error(r(479))}else a=Tc(e,s,o,2),a!==null&&Vt(a,e,2)}function vo(e){var a=e.alternate;return e===Ee||a!==null&&a===Ee}function Bp(e,a){fr=co=!0;var s=e.pending;s===null?a.next=a:(a.next=s.next,s.next=a),e.pending=a}function $p(e,a,s){if((s&4194048)!==0){var o=a.lanes;o&=e.pendingLanes,s|=o,a.lanes=s,kl(e,s)}}var Ns={readContext:Nt,use:mo,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useLayoutEffect:nt,useInsertionEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useSyncExternalStore:nt,useId:nt,useHostTransitionStatus:nt,useFormState:nt,useActionState:nt,useOptimistic:nt,useMemoCache:nt,useCacheRefresh:nt};Ns.useEffectEvent=nt;var Lp={readContext:Nt,use:mo,useCallback:function(e,a){return Ut().memoizedState=[e,a===void 0?null:a],e},useContext:Nt,useEffect:Sp,useImperativeHandle:function(e,a,s){s=s!=null?s.concat([e]):null,go(4194308,4,Ap.bind(null,a,e),s)},useLayoutEffect:function(e,a){return go(4194308,4,e,a)},useInsertionEffect:function(e,a){go(4,2,e,a)},useMemo:function(e,a){var s=Ut();a=a===void 0?null:a;var o=e();if(Ni){jt(!0);try{e()}finally{jt(!1)}}return s.memoizedState=[o,a],o},useReducer:function(e,a,s){var o=Ut();if(s!==void 0){var f=s(a);if(Ni){jt(!0);try{s(a)}finally{jt(!1)}}}else f=a;return o.memoizedState=o.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},o.queue=e,e=e.dispatch=fS.bind(null,Ee,e),[o.memoizedState,e]},useRef:function(e){var a=Ut();return e={current:e},a.memoizedState=e},useState:function(e){e=tf(e);var a=e.queue,s=Up.bind(null,Ee,a);return a.dispatch=s,[e.memoizedState,s]},useDebugValue:rf,useDeferredValue:function(e,a){var s=Ut();return sf(s,e,a)},useTransition:function(){var e=tf(!1);return e=Cp.bind(null,Ee,e.queue,!0,!1),Ut().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,a,s){var o=Ee,f=Ut();if(Ce){if(s===void 0)throw Error(r(407));s=s()}else{if(s=a(),qe===null)throw Error(r(349));(Oe&127)!==0||sp(o,a,s)}f.memoizedState=s;var m={value:s,getSnapshot:a};return f.queue=m,Sp(op.bind(null,o,m,e),[e]),o.flags|=2048,hr(9,{destroy:void 0},lp.bind(null,o,m,s,a),null),s},useId:function(){var e=Ut(),a=qe.identifierPrefix;if(Ce){var s=$n,o=Bn;s=(o&~(1<<32-Fe(o)-1)).toString(32)+s,a="_"+a+"R_"+s,s=fo++,0<s&&(a+="H"+s.toString(32)),a+="_"}else s=iS++,a="_"+a+"r_"+s.toString(32)+"_";return e.memoizedState=a},useHostTransitionStatus:of,useFormState:yp,useActionState:yp,useOptimistic:function(e){var a=Ut();a.memoizedState=a.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=s,a=uf.bind(null,Ee,!0,s),s.dispatch=a,[e,a]},useMemoCache:Fc,useCacheRefresh:function(){return Ut().memoizedState=cS.bind(null,Ee)},useEffectEvent:function(e){var a=Ut(),s={impl:e};return a.memoizedState=s,function(){if((De&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},cf={readContext:Nt,use:mo,useCallback:Rp,useContext:Nt,useEffect:af,useImperativeHandle:Np,useInsertionEffect:xp,useLayoutEffect:Tp,useMemo:Op,useReducer:po,useRef:wp,useState:function(){return po(ta)},useDebugValue:rf,useDeferredValue:function(e,a){var s=lt();return kp(s,$e.memoizedState,e,a)},useTransition:function(){var e=po(ta)[0],a=lt().memoizedState;return[typeof e=="boolean"?e:Ts(e),a]},useSyncExternalStore:rp,useId:Dp,useHostTransitionStatus:of,useFormState:vp,useActionState:vp,useOptimistic:function(e,a){var s=lt();return fp(s,$e,e,a)},useMemoCache:Fc,useCacheRefresh:zp};cf.useEffectEvent=Ep;var Hp={readContext:Nt,use:mo,useCallback:Rp,useContext:Nt,useEffect:af,useImperativeHandle:Np,useInsertionEffect:xp,useLayoutEffect:Tp,useMemo:Op,useReducer:ef,useRef:wp,useState:function(){return ef(ta)},useDebugValue:rf,useDeferredValue:function(e,a){var s=lt();return $e===null?sf(s,e,a):kp(s,$e.memoizedState,e,a)},useTransition:function(){var e=ef(ta)[0],a=lt().memoizedState;return[typeof e=="boolean"?e:Ts(e),a]},useSyncExternalStore:rp,useId:Dp,useHostTransitionStatus:of,useFormState:_p,useActionState:_p,useOptimistic:function(e,a){var s=lt();return $e!==null?fp(s,$e,e,a):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Fc,useCacheRefresh:zp};Hp.useEffectEvent=Ep;function ff(e,a,s,o){a=e.memoizedState,s=s(o,a),s=s==null?a:y({},a,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var df={enqueueSetState:function(e,a,s){e=e._reactInternals;var o=Wt(),f=za(o);f.payload=a,s!=null&&(f.callback=s),a=Ua(e,f,o),a!==null&&(Vt(a,e,o),ws(a,e,o))},enqueueReplaceState:function(e,a,s){e=e._reactInternals;var o=Wt(),f=za(o);f.tag=1,f.payload=a,s!=null&&(f.callback=s),a=Ua(e,f,o),a!==null&&(Vt(a,e,o),ws(a,e,o))},enqueueForceUpdate:function(e,a){e=e._reactInternals;var s=Wt(),o=za(s);o.tag=2,a!=null&&(o.callback=a),a=Ua(e,o,s),a!==null&&(Vt(a,e,s),ws(a,e,s))}};function qp(e,a,s,o,f,m,b){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,m,b):a.prototype&&a.prototype.isPureReactComponent?!hs(s,o)||!hs(f,m):!0}function Vp(e,a,s,o){e=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(s,o),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(s,o),a.state!==e&&df.enqueueReplaceState(a,a.state,null)}function Ri(e,a){var s=a;if("ref"in a){s={};for(var o in a)o!=="ref"&&(s[o]=a[o])}if(e=e.defaultProps){s===a&&(s=y({},s));for(var f in e)s[f]===void 0&&(s[f]=e[f])}return s}function Pp(e){Ql(e)}function Gp(e){console.error(e)}function Yp(e){Ql(e)}function bo(e,a){try{var s=e.onUncaughtError;s(a.value,{componentStack:a.stack})}catch(o){setTimeout(function(){throw o})}}function Ip(e,a,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function hf(e,a,s){return s=za(s),s.tag=3,s.payload={element:null},s.callback=function(){bo(e,a)},s}function Kp(e){return e=za(e),e.tag=3,e}function Xp(e,a,s,o){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var m=o.value;e.payload=function(){return f(m)},e.callback=function(){Ip(a,s,o)}}var b=s.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(e.callback=function(){Ip(a,s,o),typeof f!="function"&&(Va===null?Va=new Set([this]):Va.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function dS(e,a,s,o,f){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(a=s.alternate,a!==null&&rr(a,s,f,!0),s=Qt.current,s!==null){switch(s.tag){case 31:case 13:return mn===null?Co():s.alternate===null&&at===0&&(at=3),s.flags&=-257,s.flags|=65536,s.lanes=f,o===ro?s.flags|=16384:(a=s.updateQueue,a===null?s.updateQueue=new Set([o]):a.add(o),$f(e,o,f)),!1;case 22:return s.flags|=65536,o===ro?s.flags|=16384:(a=s.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=a):(s=a.retryQueue,s===null?a.retryQueue=new Set([o]):s.add(o)),$f(e,o,f)),!1}throw Error(r(435,s.tag))}return $f(e,o,f),Co(),!1}if(Ce)return a=Qt.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=f,o!==Cc&&(e=Error(r(422),{cause:o}),gs(cn(e,s)))):(o!==Cc&&(a=Error(r(423),{cause:o}),gs(cn(a,s))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,o=cn(o,s),f=hf(e.stateNode,o,f),Vc(e,f),at!==4&&(at=2)),!1;var m=Error(r(520),{cause:o});if(m=cn(m,s),zs===null?zs=[m]:zs.push(m),at!==4&&(at=2),a===null)return!0;o=cn(o,s),s=a;do{switch(s.tag){case 3:return s.flags|=65536,e=f&-f,s.lanes|=e,e=hf(s.stateNode,o,e),Vc(s,e),!1;case 1:if(a=s.type,m=s.stateNode,(s.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Va===null||!Va.has(m))))return s.flags|=65536,f&=-f,s.lanes|=f,f=Kp(f),Xp(f,e,s,o),Vc(s,f),!1}s=s.return}while(s!==null);return!1}var mf=Error(r(461)),dt=!1;function Rt(e,a,s,o){a.child=e===null?Fm(a,null,s,o):Ai(a,e.child,s,o)}function Qp(e,a,s,o,f){s=s.render;var m=a.ref;if("ref"in o){var b={};for(var T in o)T!=="ref"&&(b[T]=o[T])}else b=o;return Si(a),o=Xc(e,a,s,b,m,f),T=Qc(),e!==null&&!dt?(Zc(e,a,f),na(e,a,f)):(Ce&&T&&Oc(a),a.flags|=1,Rt(e,a,o,f),a.child)}function Zp(e,a,s,o,f){if(e===null){var m=s.type;return typeof m=="function"&&!Ac(m)&&m.defaultProps===void 0&&s.compare===null?(a.tag=15,a.type=m,Jp(e,a,m,o,f)):(e=Wl(s.type,null,o,a,a.mode,f),e.ref=a.ref,e.return=a,a.child=e)}if(m=e.child,!Sf(e,f)){var b=m.memoizedProps;if(s=s.compare,s=s!==null?s:hs,s(b,o)&&e.ref===a.ref)return na(e,a,f)}return a.flags|=1,e=Zn(m,o),e.ref=a.ref,e.return=a,a.child=e}function Jp(e,a,s,o,f){if(e!==null){var m=e.memoizedProps;if(hs(m,o)&&e.ref===a.ref)if(dt=!1,a.pendingProps=o=m,Sf(e,f))(e.flags&131072)!==0&&(dt=!0);else return a.lanes=e.lanes,na(e,a,f)}return pf(e,a,s,o,f)}function Fp(e,a,s,o){var f=o.children,m=e!==null?e.memoizedState:null;if(e===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((a.flags&128)!==0){if(m=m!==null?m.baseLanes|s:s,e!==null){for(o=a.child=e.child,f=0;o!==null;)f=f|o.lanes|o.childLanes,o=o.sibling;o=f&~m}else o=0,a.child=null;return Wp(e,a,m,s,o)}if((s&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},e!==null&&ao(a,m!==null?m.cachePool:null),m!==null?tp(a,m):Gc(),np(a);else return o=a.lanes=536870912,Wp(e,a,m!==null?m.baseLanes|s:s,s,o)}else m!==null?(ao(a,m.cachePool),tp(a,m),$a(),a.memoizedState=null):(e!==null&&ao(a,null),Gc(),$a());return Rt(e,a,f,s),a.child}function Rs(e,a){return e!==null&&e.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Wp(e,a,s,o,f){var m=$c();return m=m===null?null:{parent:ct._currentValue,pool:m},a.memoizedState={baseLanes:s,cachePool:m},e!==null&&ao(a,null),Gc(),np(a),e!==null&&rr(e,a,o,!0),a.childLanes=f,null}function _o(e,a){return a=So({mode:a.mode,children:a.children},e.mode),a.ref=e.ref,e.child=a,a.return=e,a}function eg(e,a,s){return Ai(a,e.child,null,s),e=_o(a,a.pendingProps),e.flags|=2,Zt(a),a.memoizedState=null,e}function hS(e,a,s){var o=a.pendingProps,f=(a.flags&128)!==0;if(a.flags&=-129,e===null){if(Ce){if(o.mode==="hidden")return e=_o(a,o),a.lanes=536870912,Rs(null,e);if(Ic(a),(e=Ye)?(e=dy(e,hn),e=e!==null&&e.data==="&"?e:null,e!==null&&(a.memoizedState={dehydrated:e,treeContext:ka!==null?{id:Bn,overflow:$n}:null,retryLane:536870912,hydrationErrors:null},s=Bm(e),s.return=a,a.child=s,At=a,Ye=null)):e=null,e===null)throw ja(a);return a.lanes=536870912,null}return _o(a,o)}var m=e.memoizedState;if(m!==null){var b=m.dehydrated;if(Ic(a),f)if(a.flags&256)a.flags&=-257,a=eg(e,a,s);else if(a.memoizedState!==null)a.child=e.child,a.flags|=128,a=null;else throw Error(r(558));else if(dt||rr(e,a,s,!1),f=(s&e.childLanes)!==0,dt||f){if(o=qe,o!==null&&(b=Cl(o,s),b!==0&&b!==m.retryLane))throw m.retryLane=b,vi(e,b),Vt(o,e,b),mf;Co(),a=eg(e,a,s)}else e=m.treeContext,Ye=pn(b.nextSibling),At=a,Ce=!0,Ca=null,hn=!1,e!==null&&Hm(a,e),a=_o(a,o),a.flags|=4096;return a}return e=Zn(e.child,{mode:o.mode,children:o.children}),e.ref=a.ref,a.child=e,e.return=a,e}function wo(e,a){var s=a.ref;if(s===null)e!==null&&e.ref!==null&&(a.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(e===null||e.ref!==s)&&(a.flags|=4194816)}}function pf(e,a,s,o,f){return Si(a),s=Xc(e,a,s,o,void 0,f),o=Qc(),e!==null&&!dt?(Zc(e,a,f),na(e,a,f)):(Ce&&o&&Oc(a),a.flags|=1,Rt(e,a,s,f),a.child)}function tg(e,a,s,o,f,m){return Si(a),a.updateQueue=null,s=ip(a,o,s,f),ap(e),o=Qc(),e!==null&&!dt?(Zc(e,a,m),na(e,a,m)):(Ce&&o&&Oc(a),a.flags|=1,Rt(e,a,s,m),a.child)}function ng(e,a,s,o,f){if(Si(a),a.stateNode===null){var m=tr,b=s.contextType;typeof b=="object"&&b!==null&&(m=Nt(b)),m=new s(o,m),a.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=df,a.stateNode=m,m._reactInternals=a,m=a.stateNode,m.props=o,m.state=a.memoizedState,m.refs={},Hc(a),b=s.contextType,m.context=typeof b=="object"&&b!==null?Nt(b):tr,m.state=a.memoizedState,b=s.getDerivedStateFromProps,typeof b=="function"&&(ff(a,s,b,o),m.state=a.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(b=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),b!==m.state&&df.enqueueReplaceState(m,m.state,null),Es(a,o,m,f),Ss(),m.state=a.memoizedState),typeof m.componentDidMount=="function"&&(a.flags|=4194308),o=!0}else if(e===null){m=a.stateNode;var T=a.memoizedProps,D=Ri(s,T);m.props=D;var I=m.context,ee=s.contextType;b=tr,typeof ee=="object"&&ee!==null&&(b=Nt(ee));var ae=s.getDerivedStateFromProps;ee=typeof ae=="function"||typeof m.getSnapshotBeforeUpdate=="function",T=a.pendingProps!==T,ee||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T||I!==b)&&Vp(a,m,o,b),Da=!1;var K=a.memoizedState;m.state=K,Es(a,o,m,f),Ss(),I=a.memoizedState,T||K!==I||Da?(typeof ae=="function"&&(ff(a,s,ae,o),I=a.memoizedState),(D=Da||qp(a,s,D,o,K,I,b))?(ee||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(a.flags|=4194308)):(typeof m.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=o,a.memoizedState=I),m.props=o,m.state=I,m.context=b,o=D):(typeof m.componentDidMount=="function"&&(a.flags|=4194308),o=!1)}else{m=a.stateNode,qc(e,a),b=a.memoizedProps,ee=Ri(s,b),m.props=ee,ae=a.pendingProps,K=m.context,I=s.contextType,D=tr,typeof I=="object"&&I!==null&&(D=Nt(I)),T=s.getDerivedStateFromProps,(I=typeof T=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==ae||K!==D)&&Vp(a,m,o,D),Da=!1,K=a.memoizedState,m.state=K,Es(a,o,m,f),Ss();var Q=a.memoizedState;b!==ae||K!==Q||Da||e!==null&&e.dependencies!==null&&to(e.dependencies)?(typeof T=="function"&&(ff(a,s,T,o),Q=a.memoizedState),(ee=Da||qp(a,s,ee,o,K,Q,D)||e!==null&&e.dependencies!==null&&to(e.dependencies))?(I||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,Q,D),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,Q,D)),typeof m.componentDidUpdate=="function"&&(a.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===e.memoizedProps&&K===e.memoizedState||(a.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&K===e.memoizedState||(a.flags|=1024),a.memoizedProps=o,a.memoizedState=Q),m.props=o,m.state=Q,m.context=D,o=ee):(typeof m.componentDidUpdate!="function"||b===e.memoizedProps&&K===e.memoizedState||(a.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&K===e.memoizedState||(a.flags|=1024),o=!1)}return m=o,wo(e,a),o=(a.flags&128)!==0,m||o?(m=a.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:m.render(),a.flags|=1,e!==null&&o?(a.child=Ai(a,e.child,null,f),a.child=Ai(a,null,s,f)):Rt(e,a,s,f),a.memoizedState=m.state,e=a.child):e=na(e,a,f),e}function ag(e,a,s,o){return _i(),a.flags|=256,Rt(e,a,s,o),a.child}var gf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yf(e){return{baseLanes:e,cachePool:Im()}}function vf(e,a,s){return e=e!==null?e.childLanes&~s:0,a&&(e|=Ft),e}function ig(e,a,s){var o=a.pendingProps,f=!1,m=(a.flags&128)!==0,b;if((b=m)||(b=e!==null&&e.memoizedState===null?!1:(st.current&2)!==0),b&&(f=!0,a.flags&=-129),b=(a.flags&32)!==0,a.flags&=-33,e===null){if(Ce){if(f?Ba(a):$a(),(e=Ye)?(e=dy(e,hn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(a.memoizedState={dehydrated:e,treeContext:ka!==null?{id:Bn,overflow:$n}:null,retryLane:536870912,hydrationErrors:null},s=Bm(e),s.return=a,a.child=s,At=a,Ye=null)):e=null,e===null)throw ja(a);return ed(e)?a.lanes=32:a.lanes=536870912,null}var T=o.children;return o=o.fallback,f?($a(),f=a.mode,T=So({mode:"hidden",children:T},f),o=bi(o,f,s,null),T.return=a,o.return=a,T.sibling=o,a.child=T,o=a.child,o.memoizedState=yf(s),o.childLanes=vf(e,b,s),a.memoizedState=gf,Rs(null,o)):(Ba(a),bf(a,T))}var D=e.memoizedState;if(D!==null&&(T=D.dehydrated,T!==null)){if(m)a.flags&256?(Ba(a),a.flags&=-257,a=_f(e,a,s)):a.memoizedState!==null?($a(),a.child=e.child,a.flags|=128,a=null):($a(),T=o.fallback,f=a.mode,o=So({mode:"visible",children:o.children},f),T=bi(T,f,s,null),T.flags|=2,o.return=a,T.return=a,o.sibling=T,a.child=o,Ai(a,e.child,null,s),o=a.child,o.memoizedState=yf(s),o.childLanes=vf(e,b,s),a.memoizedState=gf,a=Rs(null,o));else if(Ba(a),ed(T)){if(b=T.nextSibling&&T.nextSibling.dataset,b)var I=b.dgst;b=I,o=Error(r(419)),o.stack="",o.digest=b,gs({value:o,source:null,stack:null}),a=_f(e,a,s)}else if(dt||rr(e,a,s,!1),b=(s&e.childLanes)!==0,dt||b){if(b=qe,b!==null&&(o=Cl(b,s),o!==0&&o!==D.retryLane))throw D.retryLane=o,vi(e,o),Vt(b,e,o),mf;Wf(T)||Co(),a=_f(e,a,s)}else Wf(T)?(a.flags|=192,a.child=e.child,a=null):(e=D.treeContext,Ye=pn(T.nextSibling),At=a,Ce=!0,Ca=null,hn=!1,e!==null&&Hm(a,e),a=bf(a,o.children),a.flags|=4096);return a}return f?($a(),T=o.fallback,f=a.mode,D=e.child,I=D.sibling,o=Zn(D,{mode:"hidden",children:o.children}),o.subtreeFlags=D.subtreeFlags&65011712,I!==null?T=Zn(I,T):(T=bi(T,f,s,null),T.flags|=2),T.return=a,o.return=a,o.sibling=T,a.child=o,Rs(null,o),o=a.child,T=e.child.memoizedState,T===null?T=yf(s):(f=T.cachePool,f!==null?(D=ct._currentValue,f=f.parent!==D?{parent:D,pool:D}:f):f=Im(),T={baseLanes:T.baseLanes|s,cachePool:f}),o.memoizedState=T,o.childLanes=vf(e,b,s),a.memoizedState=gf,Rs(e.child,o)):(Ba(a),s=e.child,e=s.sibling,s=Zn(s,{mode:"visible",children:o.children}),s.return=a,s.sibling=null,e!==null&&(b=a.deletions,b===null?(a.deletions=[e],a.flags|=16):b.push(e)),a.child=s,a.memoizedState=null,s)}function bf(e,a){return a=So({mode:"visible",children:a},e.mode),a.return=e,e.child=a}function So(e,a){return e=Xt(22,e,null,a),e.lanes=0,e}function _f(e,a,s){return Ai(a,e.child,null,s),e=bf(a,a.pendingProps.children),e.flags|=2,a.memoizedState=null,e}function rg(e,a,s){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a),Dc(e.return,a,s)}function wf(e,a,s,o,f,m){var b=e.memoizedState;b===null?e.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:f,treeForkCount:m}:(b.isBackwards=a,b.rendering=null,b.renderingStartTime=0,b.last=o,b.tail=s,b.tailMode=f,b.treeForkCount=m)}function sg(e,a,s){var o=a.pendingProps,f=o.revealOrder,m=o.tail;o=o.children;var b=st.current,T=(b&2)!==0;if(T?(b=b&1|2,a.flags|=128):b&=1,Z(st,b),Rt(e,a,o,s),o=Ce?ps:0,!T&&e!==null&&(e.flags&128)!==0)e:for(e=a.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&rg(e,s,a);else if(e.tag===19)rg(e,s,a);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===a)break e;for(;e.sibling===null;){if(e.return===null||e.return===a)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(s=a.child,f=null;s!==null;)e=s.alternate,e!==null&&uo(e)===null&&(f=s),s=s.sibling;s=f,s===null?(f=a.child,a.child=null):(f=s.sibling,s.sibling=null),wf(a,!1,f,s,m,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,f=a.child,a.child=null;f!==null;){if(e=f.alternate,e!==null&&uo(e)===null){a.child=f;break}e=f.sibling,f.sibling=s,s=f,f=e}wf(a,!0,s,null,m,o);break;case"together":wf(a,!1,null,null,void 0,o);break;default:a.memoizedState=null}return a.child}function na(e,a,s){if(e!==null&&(a.dependencies=e.dependencies),qa|=a.lanes,(s&a.childLanes)===0)if(e!==null){if(rr(e,a,s,!1),(s&a.childLanes)===0)return null}else return null;if(e!==null&&a.child!==e.child)throw Error(r(153));if(a.child!==null){for(e=a.child,s=Zn(e,e.pendingProps),a.child=s,s.return=a;e.sibling!==null;)e=e.sibling,s=s.sibling=Zn(e,e.pendingProps),s.return=a;s.sibling=null}return a.child}function Sf(e,a){return(e.lanes&a)!==0?!0:(e=e.dependencies,!!(e!==null&&to(e)))}function mS(e,a,s){switch(a.tag){case 3:we(a,a.stateNode.containerInfo),Ma(a,ct,e.memoizedState.cache),_i();break;case 27:case 5:Te(a);break;case 4:we(a,a.stateNode.containerInfo);break;case 10:Ma(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Ic(a),null;break;case 13:var o=a.memoizedState;if(o!==null)return o.dehydrated!==null?(Ba(a),a.flags|=128,null):(s&a.child.childLanes)!==0?ig(e,a,s):(Ba(a),e=na(e,a,s),e!==null?e.sibling:null);Ba(a);break;case 19:var f=(e.flags&128)!==0;if(o=(s&a.childLanes)!==0,o||(rr(e,a,s,!1),o=(s&a.childLanes)!==0),f){if(o)return sg(e,a,s);a.flags|=128}if(f=a.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Z(st,st.current),o)break;return null;case 22:return a.lanes=0,Fp(e,a,s,a.pendingProps);case 24:Ma(a,ct,e.memoizedState.cache)}return na(e,a,s)}function lg(e,a,s){if(e!==null)if(e.memoizedProps!==a.pendingProps)dt=!0;else{if(!Sf(e,s)&&(a.flags&128)===0)return dt=!1,mS(e,a,s);dt=(e.flags&131072)!==0}else dt=!1,Ce&&(a.flags&1048576)!==0&&Lm(a,ps,a.index);switch(a.lanes=0,a.tag){case 16:e:{var o=a.pendingProps;if(e=xi(a.elementType),a.type=e,typeof e=="function")Ac(e)?(o=Ri(e,o),a.tag=1,a=ng(null,a,e,o,s)):(a.tag=0,a=pf(null,a,e,o,s));else{if(e!=null){var f=e.$$typeof;if(f===M){a.tag=11,a=Qp(null,a,e,o,s);break e}else if(f===V){a.tag=14,a=Zp(null,a,e,o,s);break e}}throw a=O(e)||e,Error(r(306,a,""))}}return a;case 0:return pf(e,a,a.type,a.pendingProps,s);case 1:return o=a.type,f=Ri(o,a.pendingProps),ng(e,a,o,f,s);case 3:e:{if(we(a,a.stateNode.containerInfo),e===null)throw Error(r(387));o=a.pendingProps;var m=a.memoizedState;f=m.element,qc(e,a),Es(a,o,null,s);var b=a.memoizedState;if(o=b.cache,Ma(a,ct,o),o!==m.cache&&zc(a,[ct],s,!0),Ss(),o=b.element,m.isDehydrated)if(m={element:o,isDehydrated:!1,cache:b.cache},a.updateQueue.baseState=m,a.memoizedState=m,a.flags&256){a=ag(e,a,o,s);break e}else if(o!==f){f=cn(Error(r(424)),a),gs(f),a=ag(e,a,o,s);break e}else{switch(e=a.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ye=pn(e.firstChild),At=a,Ce=!0,Ca=null,hn=!0,s=Fm(a,null,o,s),a.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(_i(),o===f){a=na(e,a,s);break e}Rt(e,a,o,s)}a=a.child}return a;case 26:return wo(e,a),e===null?(s=vy(a.type,null,a.pendingProps,null))?a.memoizedState=s:Ce||(s=a.type,e=a.pendingProps,o=$o(ue.current).createElement(s),o[gt]=a,o[Tt]=e,Ot(o,s,e),ut(o),a.stateNode=o):a.memoizedState=vy(a.type,e.memoizedProps,a.pendingProps,e.memoizedState),null;case 27:return Te(a),e===null&&Ce&&(o=a.stateNode=py(a.type,a.pendingProps,ue.current),At=a,hn=!0,f=Ye,Ia(a.type)?(td=f,Ye=pn(o.firstChild)):Ye=f),Rt(e,a,a.pendingProps.children,s),wo(e,a),e===null&&(a.flags|=4194304),a.child;case 5:return e===null&&Ce&&((f=o=Ye)&&(o=GS(o,a.type,a.pendingProps,hn),o!==null?(a.stateNode=o,At=a,Ye=pn(o.firstChild),hn=!1,f=!0):f=!1),f||ja(a)),Te(a),f=a.type,m=a.pendingProps,b=e!==null?e.memoizedProps:null,o=m.children,Zf(f,m)?o=null:b!==null&&Zf(f,b)&&(a.flags|=32),a.memoizedState!==null&&(f=Xc(e,a,rS,null,null,s),Ps._currentValue=f),wo(e,a),Rt(e,a,o,s),a.child;case 6:return e===null&&Ce&&((e=s=Ye)&&(s=YS(s,a.pendingProps,hn),s!==null?(a.stateNode=s,At=a,Ye=null,e=!0):e=!1),e||ja(a)),null;case 13:return ig(e,a,s);case 4:return we(a,a.stateNode.containerInfo),o=a.pendingProps,e===null?a.child=Ai(a,null,o,s):Rt(e,a,o,s),a.child;case 11:return Qp(e,a,a.type,a.pendingProps,s);case 7:return Rt(e,a,a.pendingProps,s),a.child;case 8:return Rt(e,a,a.pendingProps.children,s),a.child;case 12:return Rt(e,a,a.pendingProps.children,s),a.child;case 10:return o=a.pendingProps,Ma(a,a.type,o.value),Rt(e,a,o.children,s),a.child;case 9:return f=a.type._context,o=a.pendingProps.children,Si(a),f=Nt(f),o=o(f),a.flags|=1,Rt(e,a,o,s),a.child;case 14:return Zp(e,a,a.type,a.pendingProps,s);case 15:return Jp(e,a,a.type,a.pendingProps,s);case 19:return sg(e,a,s);case 31:return hS(e,a,s);case 22:return Fp(e,a,s,a.pendingProps);case 24:return Si(a),o=Nt(ct),e===null?(f=$c(),f===null&&(f=qe,m=Uc(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=s),f=m),a.memoizedState={parent:o,cache:f},Hc(a),Ma(a,ct,f)):((e.lanes&s)!==0&&(qc(e,a),Es(a,null,null,s),Ss()),f=e.memoizedState,m=a.memoizedState,f.parent!==o?(f={parent:o,cache:o},a.memoizedState=f,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=f),Ma(a,ct,o)):(o=m.cache,Ma(a,ct,o),o!==f.cache&&zc(a,[ct],s,!0))),Rt(e,a,a.pendingProps.children,s),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function aa(e){e.flags|=4}function Ef(e,a,s,o,f){if((a=(e.mode&32)!==0)&&(a=!1),a){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(Dg())e.flags|=8192;else throw Ti=ro,Lc}else e.flags&=-16777217}function og(e,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Ey(a))if(Dg())e.flags|=8192;else throw Ti=ro,Lc}function Eo(e,a){a!==null&&(e.flags|=4),e.flags&16384&&(a=e.tag!==22?Rl():536870912,e.lanes|=a,yr|=a)}function Os(e,a){if(!Ce)switch(e.tailMode){case"hidden":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?a||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Ie(e){var a=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(a)for(var f=e.child;f!==null;)s|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)s|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=o,e.childLanes=s,a}function pS(e,a,s){var o=a.pendingProps;switch(kc(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ie(a),null;case 1:return Ie(a),null;case 3:return s=a.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),Wn(ct),ve(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ir(a)?aa(a):e===null||e.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,jc())),Ie(a),null;case 26:var f=a.type,m=a.memoizedState;return e===null?(aa(a),m!==null?(Ie(a),og(a,m)):(Ie(a),Ef(a,f,null,o,s))):m?m!==e.memoizedState?(aa(a),Ie(a),og(a,m)):(Ie(a),a.flags&=-16777217):(e=e.memoizedProps,e!==o&&aa(a),Ie(a),Ef(a,f,e,o,s)),null;case 27:if(tt(a),s=ue.current,f=a.type,e!==null&&a.stateNode!=null)e.memoizedProps!==o&&aa(a);else{if(!o){if(a.stateNode===null)throw Error(r(166));return Ie(a),null}e=W.current,ir(a)?qm(a):(e=py(f,o,s),a.stateNode=e,aa(a))}return Ie(a),null;case 5:if(tt(a),f=a.type,e!==null&&a.stateNode!=null)e.memoizedProps!==o&&aa(a);else{if(!o){if(a.stateNode===null)throw Error(r(166));return Ie(a),null}if(m=W.current,ir(a))qm(a);else{var b=$o(ue.current);switch(m){case 1:m=b.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=b.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=b.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof o.is=="string"?b.createElement("select",{is:o.is}):b.createElement("select"),o.multiple?m.multiple=!0:o.size&&(m.size=o.size);break;default:m=typeof o.is=="string"?b.createElement(f,{is:o.is}):b.createElement(f)}}m[gt]=a,m[Tt]=o;e:for(b=a.child;b!==null;){if(b.tag===5||b.tag===6)m.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===a)break e;for(;b.sibling===null;){if(b.return===null||b.return===a)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}a.stateNode=m;e:switch(Ot(m,f,o),f){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&aa(a)}}return Ie(a),Ef(a,a.type,e===null?null:e.memoizedProps,a.pendingProps,s),null;case 6:if(e&&a.stateNode!=null)e.memoizedProps!==o&&aa(a);else{if(typeof o!="string"&&a.stateNode===null)throw Error(r(166));if(e=ue.current,ir(a)){if(e=a.stateNode,s=a.memoizedProps,o=null,f=At,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}e[gt]=a,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||iy(e.nodeValue,s)),e||ja(a,!0)}else e=$o(e).createTextNode(o),e[gt]=a,a.stateNode=e}return Ie(a),null;case 31:if(s=a.memoizedState,e===null||e.memoizedState!==null){if(o=ir(a),s!==null){if(e===null){if(!o)throw Error(r(318));if(e=a.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[gt]=a}else _i(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Ie(a),e=!1}else s=jc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return a.flags&256?(Zt(a),a):(Zt(a),null);if((a.flags&128)!==0)throw Error(r(558))}return Ie(a),null;case 13:if(o=a.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=ir(a),o!==null&&o.dehydrated!==null){if(e===null){if(!f)throw Error(r(318));if(f=a.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[gt]=a}else _i(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Ie(a),f=!1}else f=jc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return a.flags&256?(Zt(a),a):(Zt(a),null)}return Zt(a),(a.flags&128)!==0?(a.lanes=s,a):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=a.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==f&&(o.flags|=2048)),s!==e&&s&&(a.child.flags|=8192),Eo(a,a.updateQueue),Ie(a),null);case 4:return ve(),e===null&&Yf(a.stateNode.containerInfo),Ie(a),null;case 10:return Wn(a.type),Ie(a),null;case 19:if(U(st),o=a.memoizedState,o===null)return Ie(a),null;if(f=(a.flags&128)!==0,m=o.rendering,m===null)if(f)Os(o,!1);else{if(at!==0||e!==null&&(e.flags&128)!==0)for(e=a.child;e!==null;){if(m=uo(e),m!==null){for(a.flags|=128,Os(o,!1),e=m.updateQueue,a.updateQueue=e,Eo(a,e),a.subtreeFlags=0,e=s,s=a.child;s!==null;)Um(s,e),s=s.sibling;return Z(st,st.current&1|2),Ce&&Jn(a,o.treeForkCount),a.child}e=e.sibling}o.tail!==null&&Je()>Ro&&(a.flags|=128,f=!0,Os(o,!1),a.lanes=4194304)}else{if(!f)if(e=uo(m),e!==null){if(a.flags|=128,f=!0,e=e.updateQueue,a.updateQueue=e,Eo(a,e),Os(o,!0),o.tail===null&&o.tailMode==="hidden"&&!m.alternate&&!Ce)return Ie(a),null}else 2*Je()-o.renderingStartTime>Ro&&s!==536870912&&(a.flags|=128,f=!0,Os(o,!1),a.lanes=4194304);o.isBackwards?(m.sibling=a.child,a.child=m):(e=o.last,e!==null?e.sibling=m:a.child=m,o.last=m)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Je(),e.sibling=null,s=st.current,Z(st,f?s&1|2:s&1),Ce&&Jn(a,o.treeForkCount),e):(Ie(a),null);case 22:case 23:return Zt(a),Yc(),o=a.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(a.flags|=8192):o&&(a.flags|=8192),o?(s&536870912)!==0&&(a.flags&128)===0&&(Ie(a),a.subtreeFlags&6&&(a.flags|=8192)):Ie(a),s=a.updateQueue,s!==null&&Eo(a,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(o=a.memoizedState.cachePool.pool),o!==s&&(a.flags|=2048),e!==null&&U(Ei),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),a.memoizedState.cache!==s&&(a.flags|=2048),Wn(ct),Ie(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function gS(e,a){switch(kc(a),a.tag){case 1:return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 3:return Wn(ct),ve(),e=a.flags,(e&65536)!==0&&(e&128)===0?(a.flags=e&-65537|128,a):null;case 26:case 27:case 5:return tt(a),null;case 31:if(a.memoizedState!==null){if(Zt(a),a.alternate===null)throw Error(r(340));_i()}return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 13:if(Zt(a),e=a.memoizedState,e!==null&&e.dehydrated!==null){if(a.alternate===null)throw Error(r(340));_i()}return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 19:return U(st),null;case 4:return ve(),null;case 10:return Wn(a.type),null;case 22:case 23:return Zt(a),Yc(),e!==null&&U(Ei),e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 24:return Wn(ct),null;case 25:return null;default:return null}}function ug(e,a){switch(kc(a),a.tag){case 3:Wn(ct),ve();break;case 26:case 27:case 5:tt(a);break;case 4:ve();break;case 31:a.memoizedState!==null&&Zt(a);break;case 13:Zt(a);break;case 19:U(st);break;case 10:Wn(a.type);break;case 22:case 23:Zt(a),Yc(),e!==null&&U(Ei);break;case 24:Wn(ct)}}function ks(e,a){try{var s=a.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var f=o.next;s=f;do{if((s.tag&e)===e){o=void 0;var m=s.create,b=s.inst;o=m(),b.destroy=o}s=s.next}while(s!==f)}}catch(T){Be(a,a.return,T)}}function La(e,a,s){try{var o=a.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var m=f.next;o=m;do{if((o.tag&e)===e){var b=o.inst,T=b.destroy;if(T!==void 0){b.destroy=void 0,f=a;var D=s,I=T;try{I()}catch(ee){Be(f,D,ee)}}}o=o.next}while(o!==m)}}catch(ee){Be(a,a.return,ee)}}function cg(e){var a=e.updateQueue;if(a!==null){var s=e.stateNode;try{ep(a,s)}catch(o){Be(e,e.return,o)}}}function fg(e,a,s){s.props=Ri(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Be(e,a,o)}}function Cs(e,a){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(f){Be(e,a,f)}}function Ln(e,a){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(f){Be(e,a,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){Be(e,a,f)}else s.current=null}function dg(e){var a=e.type,s=e.memoizedProps,o=e.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break e;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(f){Be(e,e.return,f)}}function xf(e,a,s){try{var o=e.stateNode;$S(o,e.type,s,a),o[Tt]=a}catch(f){Be(e,e.return,f)}}function hg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ia(e.type)||e.tag===4}function Tf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||hg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ia(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Af(e,a,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,a?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,a):(a=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,a.appendChild(e),s=s._reactRootContainer,s!=null||a.onclick!==null||(a.onclick=Xn));else if(o!==4&&(o===27&&Ia(e.type)&&(s=e.stateNode,a=null),e=e.child,e!==null))for(Af(e,a,s),e=e.sibling;e!==null;)Af(e,a,s),e=e.sibling}function xo(e,a,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,a?s.insertBefore(e,a):s.appendChild(e);else if(o!==4&&(o===27&&Ia(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(xo(e,a,s),e=e.sibling;e!==null;)xo(e,a,s),e=e.sibling}function mg(e){var a=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,f=a.attributes;f.length;)a.removeAttributeNode(f[0]);Ot(a,o,s),a[gt]=e,a[Tt]=s}catch(m){Be(e,e.return,m)}}var ia=!1,ht=!1,Nf=!1,pg=typeof WeakSet=="function"?WeakSet:Set,St=null;function yS(e,a){if(e=e.containerInfo,Xf=Yo,e=Nm(e),bc(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var f=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{s.nodeType,m.nodeType}catch{s=null;break e}var b=0,T=-1,D=-1,I=0,ee=0,ae=e,K=null;t:for(;;){for(var Q;ae!==s||f!==0&&ae.nodeType!==3||(T=b+f),ae!==m||o!==0&&ae.nodeType!==3||(D=b+o),ae.nodeType===3&&(b+=ae.nodeValue.length),(Q=ae.firstChild)!==null;)K=ae,ae=Q;for(;;){if(ae===e)break t;if(K===s&&++I===f&&(T=b),K===m&&++ee===o&&(D=b),(Q=ae.nextSibling)!==null)break;ae=K,K=ae.parentNode}ae=Q}s=T===-1||D===-1?null:{start:T,end:D}}else s=null}s=s||{start:0,end:0}}else s=null;for(Qf={focusedElem:e,selectionRange:s},Yo=!1,St=a;St!==null;)if(a=St,e=a.child,(a.subtreeFlags&1028)!==0&&e!==null)e.return=a,St=e;else for(;St!==null;){switch(a=St,m=a.alternate,e=a.flags,a.tag){case 0:if((e&4)!==0&&(e=a.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)f=e[s],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,s=a,f=m.memoizedProps,m=m.memoizedState,o=s.stateNode;try{var de=Ri(s.type,f);e=o.getSnapshotBeforeUpdate(de,m),o.__reactInternalSnapshotBeforeUpdate=e}catch(be){Be(s,s.return,be)}}break;case 3:if((e&1024)!==0){if(e=a.stateNode.containerInfo,s=e.nodeType,s===9)Ff(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ff(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=a.sibling,e!==null){e.return=a.return,St=e;break}St=a.return}}function gg(e,a,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:sa(e,s),o&4&&ks(5,s);break;case 1:if(sa(e,s),o&4)if(e=s.stateNode,a===null)try{e.componentDidMount()}catch(b){Be(s,s.return,b)}else{var f=Ri(s.type,a.memoizedProps);a=a.memoizedState;try{e.componentDidUpdate(f,a,e.__reactInternalSnapshotBeforeUpdate)}catch(b){Be(s,s.return,b)}}o&64&&cg(s),o&512&&Cs(s,s.return);break;case 3:if(sa(e,s),o&64&&(e=s.updateQueue,e!==null)){if(a=null,s.child!==null)switch(s.child.tag){case 27:case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}try{ep(e,a)}catch(b){Be(s,s.return,b)}}break;case 27:a===null&&o&4&&mg(s);case 26:case 5:sa(e,s),a===null&&o&4&&dg(s),o&512&&Cs(s,s.return);break;case 12:sa(e,s);break;case 31:sa(e,s),o&4&&bg(e,s);break;case 13:sa(e,s),o&4&&_g(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=AS.bind(null,s),IS(e,s))));break;case 22:if(o=s.memoizedState!==null||ia,!o){a=a!==null&&a.memoizedState!==null||ht,f=ia;var m=ht;ia=o,(ht=a)&&!m?la(e,s,(s.subtreeFlags&8772)!==0):sa(e,s),ia=f,ht=m}break;case 30:break;default:sa(e,s)}}function yg(e){var a=e.alternate;a!==null&&(e.alternate=null,yg(a)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(a=e.stateNode,a!==null&&is(a)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Xe=null,$t=!1;function ra(e,a,s){for(s=s.child;s!==null;)vg(e,a,s),s=s.sibling}function vg(e,a,s){if(rt&&typeof rt.onCommitFiberUnmount=="function")try{rt.onCommitFiberUnmount(It,s)}catch{}switch(s.tag){case 26:ht||Ln(s,a),ra(e,a,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:ht||Ln(s,a);var o=Xe,f=$t;Ia(s.type)&&(Xe=s.stateNode,$t=!1),ra(e,a,s),Hs(s.stateNode),Xe=o,$t=f;break;case 5:ht||Ln(s,a);case 6:if(o=Xe,f=$t,Xe=null,ra(e,a,s),Xe=o,$t=f,Xe!==null)if($t)try{(Xe.nodeType===9?Xe.body:Xe.nodeName==="HTML"?Xe.ownerDocument.body:Xe).removeChild(s.stateNode)}catch(m){Be(s,a,m)}else try{Xe.removeChild(s.stateNode)}catch(m){Be(s,a,m)}break;case 18:Xe!==null&&($t?(e=Xe,cy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Tr(e)):cy(Xe,s.stateNode));break;case 4:o=Xe,f=$t,Xe=s.stateNode.containerInfo,$t=!0,ra(e,a,s),Xe=o,$t=f;break;case 0:case 11:case 14:case 15:La(2,s,a),ht||La(4,s,a),ra(e,a,s);break;case 1:ht||(Ln(s,a),o=s.stateNode,typeof o.componentWillUnmount=="function"&&fg(s,a,o)),ra(e,a,s);break;case 21:ra(e,a,s);break;case 22:ht=(o=ht)||s.memoizedState!==null,ra(e,a,s),ht=o;break;default:ra(e,a,s)}}function bg(e,a){if(a.memoizedState===null&&(e=a.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Tr(e)}catch(s){Be(a,a.return,s)}}}function _g(e,a){if(a.memoizedState===null&&(e=a.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Tr(e)}catch(s){Be(a,a.return,s)}}function vS(e){switch(e.tag){case 31:case 13:case 19:var a=e.stateNode;return a===null&&(a=e.stateNode=new pg),a;case 22:return e=e.stateNode,a=e._retryCache,a===null&&(a=e._retryCache=new pg),a;default:throw Error(r(435,e.tag))}}function To(e,a){var s=vS(e);a.forEach(function(o){if(!s.has(o)){s.add(o);var f=NS.bind(null,e,o);o.then(f,f)}})}function Lt(e,a){var s=a.deletions;if(s!==null)for(var o=0;o<s.length;o++){var f=s[o],m=e,b=a,T=b;e:for(;T!==null;){switch(T.tag){case 27:if(Ia(T.type)){Xe=T.stateNode,$t=!1;break e}break;case 5:Xe=T.stateNode,$t=!1;break e;case 3:case 4:Xe=T.stateNode.containerInfo,$t=!0;break e}T=T.return}if(Xe===null)throw Error(r(160));vg(m,b,f),Xe=null,$t=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)wg(a,e),a=a.sibling}var wn=null;function wg(e,a){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Lt(a,e),Ht(e),o&4&&(La(3,e,e.return),ks(3,e),La(5,e,e.return));break;case 1:Lt(a,e),Ht(e),o&512&&(ht||s===null||Ln(s,s.return)),o&64&&ia&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var f=wn;if(Lt(a,e),Ht(e),o&512&&(ht||s===null||Ln(s,s.return)),o&4){var m=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){e:{o=e.type,s=e.memoizedProps,f=f.ownerDocument||f;t:switch(o){case"title":m=f.getElementsByTagName("title")[0],(!m||m[hi]||m[gt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(o),f.head.insertBefore(m,f.querySelector("head > title"))),Ot(m,o,s),m[gt]=e,ut(m),o=m;break e;case"link":var b=wy("link","href",f).get(o+(s.href||""));if(b){for(var T=0;T<b.length;T++)if(m=b[T],m.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&m.getAttribute("rel")===(s.rel==null?null:s.rel)&&m.getAttribute("title")===(s.title==null?null:s.title)&&m.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){b.splice(T,1);break t}}m=f.createElement(o),Ot(m,o,s),f.head.appendChild(m);break;case"meta":if(b=wy("meta","content",f).get(o+(s.content||""))){for(T=0;T<b.length;T++)if(m=b[T],m.getAttribute("content")===(s.content==null?null:""+s.content)&&m.getAttribute("name")===(s.name==null?null:s.name)&&m.getAttribute("property")===(s.property==null?null:s.property)&&m.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&m.getAttribute("charset")===(s.charSet==null?null:s.charSet)){b.splice(T,1);break t}}m=f.createElement(o),Ot(m,o,s),f.head.appendChild(m);break;default:throw Error(r(468,o))}m[gt]=e,ut(m),o=m}e.stateNode=o}else Sy(f,e.type,e.stateNode);else e.stateNode=_y(f,o,e.memoizedProps);else m!==o?(m===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):m.count--,o===null?Sy(f,e.type,e.stateNode):_y(f,o,e.memoizedProps)):o===null&&e.stateNode!==null&&xf(e,e.memoizedProps,s.memoizedProps)}break;case 27:Lt(a,e),Ht(e),o&512&&(ht||s===null||Ln(s,s.return)),s!==null&&o&4&&xf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(Lt(a,e),Ht(e),o&512&&(ht||s===null||Ln(s,s.return)),e.flags&32){f=e.stateNode;try{Xi(f,"")}catch(de){Be(e,e.return,de)}}o&4&&e.stateNode!=null&&(f=e.memoizedProps,xf(e,f,s!==null?s.memoizedProps:f)),o&1024&&(Nf=!0);break;case 6:if(Lt(a,e),Ht(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(de){Be(e,e.return,de)}}break;case 3:if(qo=null,f=wn,wn=Lo(a.containerInfo),Lt(a,e),wn=f,Ht(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Tr(a.containerInfo)}catch(de){Be(e,e.return,de)}Nf&&(Nf=!1,Sg(e));break;case 4:o=wn,wn=Lo(e.stateNode.containerInfo),Lt(a,e),Ht(e),wn=o;break;case 12:Lt(a,e),Ht(e);break;case 31:Lt(a,e),Ht(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,To(e,o)));break;case 13:Lt(a,e),Ht(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(No=Je()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,To(e,o)));break;case 22:f=e.memoizedState!==null;var D=s!==null&&s.memoizedState!==null,I=ia,ee=ht;if(ia=I||f,ht=ee||D,Lt(a,e),ht=ee,ia=I,Ht(e),o&8192)e:for(a=e.stateNode,a._visibility=f?a._visibility&-2:a._visibility|1,f&&(s===null||D||ia||ht||Oi(e)),s=null,a=e;;){if(a.tag===5||a.tag===26){if(s===null){D=s=a;try{if(m=D.stateNode,f)b=m.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{T=D.stateNode;var ae=D.memoizedProps.style,K=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;T.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(de){Be(D,D.return,de)}}}else if(a.tag===6){if(s===null){D=a;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(de){Be(D,D.return,de)}}}else if(a.tag===18){if(s===null){D=a;try{var Q=D.stateNode;f?fy(Q,!0):fy(D.stateNode,!1)}catch(de){Be(D,D.return,de)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===e)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;s===a&&(s=null),a=a.return}s===a&&(s=null),a.sibling.return=a.return,a=a.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,To(e,s))));break;case 19:Lt(a,e),Ht(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,To(e,o)));break;case 30:break;case 21:break;default:Lt(a,e),Ht(e)}}function Ht(e){var a=e.flags;if(a&2){try{for(var s,o=e.return;o!==null;){if(hg(o)){s=o;break}o=o.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var f=s.stateNode,m=Tf(e);xo(e,m,f);break;case 5:var b=s.stateNode;s.flags&32&&(Xi(b,""),s.flags&=-33);var T=Tf(e);xo(e,T,b);break;case 3:case 4:var D=s.stateNode.containerInfo,I=Tf(e);Af(e,I,D);break;default:throw Error(r(161))}}catch(ee){Be(e,e.return,ee)}e.flags&=-3}a&4096&&(e.flags&=-4097)}function Sg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var a=e;Sg(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),e=e.sibling}}function sa(e,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)gg(e,a.alternate,a),a=a.sibling}function Oi(e){for(e=e.child;e!==null;){var a=e;switch(a.tag){case 0:case 11:case 14:case 15:La(4,a,a.return),Oi(a);break;case 1:Ln(a,a.return);var s=a.stateNode;typeof s.componentWillUnmount=="function"&&fg(a,a.return,s),Oi(a);break;case 27:Hs(a.stateNode);case 26:case 5:Ln(a,a.return),Oi(a);break;case 22:a.memoizedState===null&&Oi(a);break;case 30:Oi(a);break;default:Oi(a)}e=e.sibling}}function la(e,a,s){for(s=s&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var o=a.alternate,f=e,m=a,b=m.flags;switch(m.tag){case 0:case 11:case 15:la(f,m,s),ks(4,m);break;case 1:if(la(f,m,s),o=m,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(I){Be(o,o.return,I)}if(o=m,f=o.updateQueue,f!==null){var T=o.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)Wm(D[f],T)}catch(I){Be(o,o.return,I)}}s&&b&64&&cg(m),Cs(m,m.return);break;case 27:mg(m);case 26:case 5:la(f,m,s),s&&o===null&&b&4&&dg(m),Cs(m,m.return);break;case 12:la(f,m,s);break;case 31:la(f,m,s),s&&b&4&&bg(f,m);break;case 13:la(f,m,s),s&&b&4&&_g(f,m);break;case 22:m.memoizedState===null&&la(f,m,s),Cs(m,m.return);break;case 30:break;default:la(f,m,s)}a=a.sibling}}function Rf(e,a){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(e=a.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&ys(s))}function Of(e,a){e=null,a.alternate!==null&&(e=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==e&&(a.refCount++,e!=null&&ys(e))}function Sn(e,a,s,o){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Eg(e,a,s,o),a=a.sibling}function Eg(e,a,s,o){var f=a.flags;switch(a.tag){case 0:case 11:case 15:Sn(e,a,s,o),f&2048&&ks(9,a);break;case 1:Sn(e,a,s,o);break;case 3:Sn(e,a,s,o),f&2048&&(e=null,a.alternate!==null&&(e=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==e&&(a.refCount++,e!=null&&ys(e)));break;case 12:if(f&2048){Sn(e,a,s,o),e=a.stateNode;try{var m=a.memoizedProps,b=m.id,T=m.onPostCommit;typeof T=="function"&&T(b,a.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(D){Be(a,a.return,D)}}else Sn(e,a,s,o);break;case 31:Sn(e,a,s,o);break;case 13:Sn(e,a,s,o);break;case 23:break;case 22:m=a.stateNode,b=a.alternate,a.memoizedState!==null?m._visibility&2?Sn(e,a,s,o):js(e,a):m._visibility&2?Sn(e,a,s,o):(m._visibility|=2,mr(e,a,s,o,(a.subtreeFlags&10256)!==0||!1)),f&2048&&Rf(b,a);break;case 24:Sn(e,a,s,o),f&2048&&Of(a.alternate,a);break;default:Sn(e,a,s,o)}}function mr(e,a,s,o,f){for(f=f&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var m=e,b=a,T=s,D=o,I=b.flags;switch(b.tag){case 0:case 11:case 15:mr(m,b,T,D,f),ks(8,b);break;case 23:break;case 22:var ee=b.stateNode;b.memoizedState!==null?ee._visibility&2?mr(m,b,T,D,f):js(m,b):(ee._visibility|=2,mr(m,b,T,D,f)),f&&I&2048&&Rf(b.alternate,b);break;case 24:mr(m,b,T,D,f),f&&I&2048&&Of(b.alternate,b);break;default:mr(m,b,T,D,f)}a=a.sibling}}function js(e,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var s=e,o=a,f=o.flags;switch(o.tag){case 22:js(s,o),f&2048&&Rf(o.alternate,o);break;case 24:js(s,o),f&2048&&Of(o.alternate,o);break;default:js(s,o)}a=a.sibling}}var Ms=8192;function pr(e,a,s){if(e.subtreeFlags&Ms)for(e=e.child;e!==null;)xg(e,a,s),e=e.sibling}function xg(e,a,s){switch(e.tag){case 26:pr(e,a,s),e.flags&Ms&&e.memoizedState!==null&&iE(s,wn,e.memoizedState,e.memoizedProps);break;case 5:pr(e,a,s);break;case 3:case 4:var o=wn;wn=Lo(e.stateNode.containerInfo),pr(e,a,s),wn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Ms,Ms=16777216,pr(e,a,s),Ms=o):pr(e,a,s));break;default:pr(e,a,s)}}function Tg(e){var a=e.alternate;if(a!==null&&(e=a.child,e!==null)){a.child=null;do a=e.sibling,e.sibling=null,e=a;while(e!==null)}}function Ds(e){var a=e.deletions;if((e.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var o=a[s];St=o,Ng(o,e)}Tg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ag(e),e=e.sibling}function Ag(e){switch(e.tag){case 0:case 11:case 15:Ds(e),e.flags&2048&&La(9,e,e.return);break;case 3:Ds(e);break;case 12:Ds(e);break;case 22:var a=e.stateNode;e.memoizedState!==null&&a._visibility&2&&(e.return===null||e.return.tag!==13)?(a._visibility&=-3,Ao(e)):Ds(e);break;default:Ds(e)}}function Ao(e){var a=e.deletions;if((e.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var o=a[s];St=o,Ng(o,e)}Tg(e)}for(e=e.child;e!==null;){switch(a=e,a.tag){case 0:case 11:case 15:La(8,a,a.return),Ao(a);break;case 22:s=a.stateNode,s._visibility&2&&(s._visibility&=-3,Ao(a));break;default:Ao(a)}e=e.sibling}}function Ng(e,a){for(;St!==null;){var s=St;switch(s.tag){case 0:case 11:case 15:La(8,s,a);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:ys(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,St=o;else e:for(s=e;St!==null;){o=St;var f=o.sibling,m=o.return;if(yg(o),o===s){St=null;break e}if(f!==null){f.return=m,St=f;break e}St=m}}}var bS={getCacheForType:function(e){var a=Nt(ct),s=a.data.get(e);return s===void 0&&(s=e(),a.data.set(e,s)),s},cacheSignal:function(){return Nt(ct).controller.signal}},_S=typeof WeakMap=="function"?WeakMap:Map,De=0,qe=null,Ne=null,Oe=0,Ue=0,Jt=null,Ha=!1,gr=!1,kf=!1,oa=0,at=0,qa=0,ki=0,Cf=0,Ft=0,yr=0,zs=null,qt=null,jf=!1,No=0,Rg=0,Ro=1/0,Oo=null,Va=null,yt=0,Pa=null,vr=null,ua=0,Mf=0,Df=null,Og=null,Us=0,zf=null;function Wt(){return(De&2)!==0&&Oe!==0?Oe&-Oe:k.T!==null?qf():jl()}function kg(){if(Ft===0)if((Oe&536870912)===0||Ce){var e=Ta;Ta<<=1,(Ta&3932160)===0&&(Ta=262144),Ft=e}else Ft=536870912;return e=Qt.current,e!==null&&(e.flags|=32),Ft}function Vt(e,a,s){(e===qe&&(Ue===2||Ue===9)||e.cancelPendingCommit!==null)&&(br(e,0),Ga(e,Oe,Ft,!1)),di(e,s),((De&2)===0||e!==qe)&&(e===qe&&((De&2)===0&&(ki|=s),at===4&&Ga(e,Oe,Ft,!1)),Hn(e))}function Cg(e,a,s){if((De&6)!==0)throw Error(r(327));var o=!s&&(a&127)===0&&(a&e.expiredLanes)===0||fi(e,a),f=o?ES(e,a):Bf(e,a,!0),m=o;do{if(f===0){gr&&!o&&Ga(e,a,0,!1);break}else{if(s=e.current.alternate,m&&!wS(s)){f=Bf(e,a,!1),m=!1;continue}if(f===2){if(m=a,e.errorRecoveryDisabledLanes&m)var b=0;else b=e.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){a=b;e:{var T=e;f=zs;var D=T.current.memoizedState.isDehydrated;if(D&&(br(T,b).flags|=256),b=Bf(T,b,!1),b!==2){if(kf&&!D){T.errorRecoveryDisabledLanes|=m,ki|=m,f=4;break e}m=qt,qt=f,m!==null&&(qt===null?qt=m:qt.push.apply(qt,m))}f=b}if(m=!1,f!==2)continue}}if(f===1){br(e,0),Ga(e,a,0,!0);break}e:{switch(o=e,m=f,m){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:Ga(o,a,Ft,!Ha);break e;case 2:qt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(f=No+300-Je(),10<f)){if(Ga(o,a,Ft,!Ha),Ii(o,0,!0)!==0)break e;ua=a,o.timeoutHandle=oy(jg.bind(null,o,s,qt,Oo,jf,a,Ft,ki,yr,Ha,m,"Throttled",-0,0),f);break e}jg(o,s,qt,Oo,jf,a,Ft,ki,yr,Ha,m,null,-0,0)}}break}while(!0);Hn(e)}function jg(e,a,s,o,f,m,b,T,D,I,ee,ae,K,Q){if(e.timeoutHandle=-1,ae=a.subtreeFlags,ae&8192||(ae&16785408)===16785408){ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Xn},xg(a,m,ae);var de=(m&62914560)===m?No-Je():(m&4194048)===m?Rg-Je():0;if(de=rE(ae,de),de!==null){ua=m,e.cancelPendingCommit=de(Hg.bind(null,e,a,m,s,o,f,b,T,D,ee,ae,null,K,Q)),Ga(e,m,b,!I);return}}Hg(e,a,m,s,o,f,b,T,D)}function wS(e){for(var a=e;;){var s=a.tag;if((s===0||s===11||s===15)&&a.flags&16384&&(s=a.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var f=s[o],m=f.getSnapshot;f=f.value;try{if(!Kt(m(),f))return!1}catch{return!1}}if(s=a.child,a.subtreeFlags&16384&&s!==null)s.return=a,a=s;else{if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ga(e,a,s,o){a&=~Cf,a&=~ki,e.suspendedLanes|=a,e.pingedLanes&=~a,o&&(e.warmLanes|=a),o=e.expirationTimes;for(var f=a;0<f;){var m=31-Fe(f),b=1<<m;o[m]=-1,f&=~b}s!==0&&Ol(e,s,a)}function ko(){return(De&6)===0?(Bs(0),!1):!0}function Uf(){if(Ne!==null){if(Ue===0)var e=Ne.return;else e=Ne,Fn=wi=null,Jc(e),ur=null,bs=0,e=Ne;for(;e!==null;)ug(e.alternate,e),e=e.return;Ne=null}}function br(e,a){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,qS(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),ua=0,Uf(),qe=e,Ne=s=Zn(e.current,null),Oe=a,Ue=0,Jt=null,Ha=!1,gr=fi(e,a),kf=!1,yr=Ft=Cf=ki=qa=at=0,qt=zs=null,jf=!1,(a&8)!==0&&(a|=a&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=a;0<o;){var f=31-Fe(o),m=1<<f;a|=e[f],o&=~m}return oa=a,Zl(),s}function Mg(e,a){Ee=null,k.H=Ns,a===or||a===io?(a=Qm(),Ue=3):a===Lc?(a=Qm(),Ue=4):Ue=a===mf?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Jt=a,Ne===null&&(at=1,bo(e,cn(a,e.current)))}function Dg(){var e=Qt.current;return e===null?!0:(Oe&4194048)===Oe?mn===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?e===mn:!1}function zg(){var e=k.H;return k.H=Ns,e===null?Ns:e}function Ug(){var e=k.A;return k.A=bS,e}function Co(){at=4,Ha||(Oe&4194048)!==Oe&&Qt.current!==null||(gr=!0),(qa&134217727)===0&&(ki&134217727)===0||qe===null||Ga(qe,Oe,Ft,!1)}function Bf(e,a,s){var o=De;De|=2;var f=zg(),m=Ug();(qe!==e||Oe!==a)&&(Oo=null,br(e,a)),a=!1;var b=at;e:do try{if(Ue!==0&&Ne!==null){var T=Ne,D=Jt;switch(Ue){case 8:Uf(),b=6;break e;case 3:case 2:case 9:case 6:Qt.current===null&&(a=!0);var I=Ue;if(Ue=0,Jt=null,_r(e,T,D,I),s&&gr){b=0;break e}break;default:I=Ue,Ue=0,Jt=null,_r(e,T,D,I)}}SS(),b=at;break}catch(ee){Mg(e,ee)}while(!0);return a&&e.shellSuspendCounter++,Fn=wi=null,De=o,k.H=f,k.A=m,Ne===null&&(qe=null,Oe=0,Zl()),b}function SS(){for(;Ne!==null;)Bg(Ne)}function ES(e,a){var s=De;De|=2;var o=zg(),f=Ug();qe!==e||Oe!==a?(Oo=null,Ro=Je()+500,br(e,a)):gr=fi(e,a);e:do try{if(Ue!==0&&Ne!==null){a=Ne;var m=Jt;t:switch(Ue){case 1:Ue=0,Jt=null,_r(e,a,m,1);break;case 2:case 9:if(Km(m)){Ue=0,Jt=null,$g(a);break}a=function(){Ue!==2&&Ue!==9||qe!==e||(Ue=7),Hn(e)},m.then(a,a);break e;case 3:Ue=7;break e;case 4:Ue=5;break e;case 7:Km(m)?(Ue=0,Jt=null,$g(a)):(Ue=0,Jt=null,_r(e,a,m,7));break;case 5:var b=null;switch(Ne.tag){case 26:b=Ne.memoizedState;case 5:case 27:var T=Ne;if(b?Ey(b):T.stateNode.complete){Ue=0,Jt=null;var D=T.sibling;if(D!==null)Ne=D;else{var I=T.return;I!==null?(Ne=I,jo(I)):Ne=null}break t}}Ue=0,Jt=null,_r(e,a,m,5);break;case 6:Ue=0,Jt=null,_r(e,a,m,6);break;case 8:Uf(),at=6;break e;default:throw Error(r(462))}}xS();break}catch(ee){Mg(e,ee)}while(!0);return Fn=wi=null,k.H=o,k.A=f,De=s,Ne!==null?0:(qe=null,Oe=0,Zl(),at)}function xS(){for(;Ne!==null&&!_a();)Bg(Ne)}function Bg(e){var a=lg(e.alternate,e,oa);e.memoizedProps=e.pendingProps,a===null?jo(e):Ne=a}function $g(e){var a=e,s=a.alternate;switch(a.tag){case 15:case 0:a=tg(s,a,a.pendingProps,a.type,void 0,Oe);break;case 11:a=tg(s,a,a.pendingProps,a.type.render,a.ref,Oe);break;case 5:Jc(a);default:ug(s,a),a=Ne=Um(a,oa),a=lg(s,a,oa)}e.memoizedProps=e.pendingProps,a===null?jo(e):Ne=a}function _r(e,a,s,o){Fn=wi=null,Jc(a),ur=null,bs=0;var f=a.return;try{if(dS(e,f,a,s,Oe)){at=1,bo(e,cn(s,e.current)),Ne=null;return}}catch(m){if(f!==null)throw Ne=f,m;at=1,bo(e,cn(s,e.current)),Ne=null;return}a.flags&32768?(Ce||o===1?e=!0:gr||(Oe&536870912)!==0?e=!1:(Ha=e=!0,(o===2||o===9||o===3||o===6)&&(o=Qt.current,o!==null&&o.tag===13&&(o.flags|=16384))),Lg(a,e)):jo(a)}function jo(e){var a=e;do{if((a.flags&32768)!==0){Lg(a,Ha);return}e=a.return;var s=pS(a.alternate,a,oa);if(s!==null){Ne=s;return}if(a=a.sibling,a!==null){Ne=a;return}Ne=a=e}while(a!==null);at===0&&(at=5)}function Lg(e,a){do{var s=gS(e.alternate,e);if(s!==null){s.flags&=32767,Ne=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!a&&(e=e.sibling,e!==null)){Ne=e;return}Ne=e=s}while(e!==null);at=6,Ne=null}function Hg(e,a,s,o,f,m,b,T,D){e.cancelPendingCommit=null;do Mo();while(yt!==0);if((De&6)!==0)throw Error(r(327));if(a!==null){if(a===e.current)throw Error(r(177));if(m=a.lanes|a.childLanes,m|=xc,Wu(e,s,m,b,T,D),e===qe&&(Ne=qe=null,Oe=0),vr=a,Pa=e,ua=s,Mf=m,Df=f,Og=o,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,RS(bn,function(){return Yg(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||o){o=k.T,k.T=null,f=z.p,z.p=2,b=De,De|=4;try{yS(e,a,s)}finally{De=b,z.p=f,k.T=o}}yt=1,qg(),Vg(),Pg()}}function qg(){if(yt===1){yt=0;var e=Pa,a=vr,s=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||s){s=k.T,k.T=null;var o=z.p;z.p=2;var f=De;De|=4;try{wg(a,e);var m=Qf,b=Nm(e.containerInfo),T=m.focusedElem,D=m.selectionRange;if(b!==T&&T&&T.ownerDocument&&Am(T.ownerDocument.documentElement,T)){if(D!==null&&bc(T)){var I=D.start,ee=D.end;if(ee===void 0&&(ee=I),"selectionStart"in T)T.selectionStart=I,T.selectionEnd=Math.min(ee,T.value.length);else{var ae=T.ownerDocument||document,K=ae&&ae.defaultView||window;if(K.getSelection){var Q=K.getSelection(),de=T.textContent.length,be=Math.min(D.start,de),He=D.end===void 0?be:Math.min(D.end,de);!Q.extend&&be>He&&(b=He,He=be,be=b);var H=Tm(T,be),B=Tm(T,He);if(H&&B&&(Q.rangeCount!==1||Q.anchorNode!==H.node||Q.anchorOffset!==H.offset||Q.focusNode!==B.node||Q.focusOffset!==B.offset)){var Y=ae.createRange();Y.setStart(H.node,H.offset),Q.removeAllRanges(),be>He?(Q.addRange(Y),Q.extend(B.node,B.offset)):(Y.setEnd(B.node,B.offset),Q.addRange(Y))}}}}for(ae=[],Q=T;Q=Q.parentNode;)Q.nodeType===1&&ae.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ae.length;T++){var ne=ae[T];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}Yo=!!Xf,Qf=Xf=null}finally{De=f,z.p=o,k.T=s}}e.current=a,yt=2}}function Vg(){if(yt===2){yt=0;var e=Pa,a=vr,s=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||s){s=k.T,k.T=null;var o=z.p;z.p=2;var f=De;De|=4;try{gg(e,a.alternate,a)}finally{De=f,z.p=o,k.T=s}}yt=3}}function Pg(){if(yt===4||yt===3){yt=0,wa();var e=Pa,a=vr,s=ua,o=Og;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?yt=5:(yt=0,vr=Pa=null,Gg(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Va=null),ns(s),a=a.stateNode,rt&&typeof rt.onCommitFiberRoot=="function")try{rt.onCommitFiberRoot(It,a,void 0,(a.current.flags&128)===128)}catch{}if(o!==null){a=k.T,f=z.p,z.p=2,k.T=null;try{for(var m=e.onRecoverableError,b=0;b<o.length;b++){var T=o[b];m(T.value,{componentStack:T.stack})}}finally{k.T=a,z.p=f}}(ua&3)!==0&&Mo(),Hn(e),f=e.pendingLanes,(s&261930)!==0&&(f&42)!==0?e===zf?Us++:(Us=0,zf=e):Us=0,Bs(0)}}function Gg(e,a){(e.pooledCacheLanes&=a)===0&&(a=e.pooledCache,a!=null&&(e.pooledCache=null,ys(a)))}function Mo(){return qg(),Vg(),Pg(),Yg()}function Yg(){if(yt!==5)return!1;var e=Pa,a=Mf;Mf=0;var s=ns(ua),o=k.T,f=z.p;try{z.p=32>s?32:s,k.T=null,s=Df,Df=null;var m=Pa,b=ua;if(yt=0,vr=Pa=null,ua=0,(De&6)!==0)throw Error(r(331));var T=De;if(De|=4,Ag(m.current),Eg(m,m.current,b,s),De=T,Bs(0,!1),rt&&typeof rt.onPostCommitFiberRoot=="function")try{rt.onPostCommitFiberRoot(It,m)}catch{}return!0}finally{z.p=f,k.T=o,Gg(e,a)}}function Ig(e,a,s){a=cn(s,a),a=hf(e.stateNode,a,2),e=Ua(e,a,2),e!==null&&(di(e,2),Hn(e))}function Be(e,a,s){if(e.tag===3)Ig(e,e,s);else for(;a!==null;){if(a.tag===3){Ig(a,e,s);break}else if(a.tag===1){var o=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Va===null||!Va.has(o))){e=cn(s,e),s=Kp(2),o=Ua(a,s,2),o!==null&&(Xp(s,o,a,e),di(o,2),Hn(o));break}}a=a.return}}function $f(e,a,s){var o=e.pingCache;if(o===null){o=e.pingCache=new _S;var f=new Set;o.set(a,f)}else f=o.get(a),f===void 0&&(f=new Set,o.set(a,f));f.has(s)||(kf=!0,f.add(s),e=TS.bind(null,e,a,s),a.then(e,e))}function TS(e,a,s){var o=e.pingCache;o!==null&&o.delete(a),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,qe===e&&(Oe&s)===s&&(at===4||at===3&&(Oe&62914560)===Oe&&300>Je()-No?(De&2)===0&&br(e,0):Cf|=s,yr===Oe&&(yr=0)),Hn(e)}function Kg(e,a){a===0&&(a=Rl()),e=vi(e,a),e!==null&&(di(e,a),Hn(e))}function AS(e){var a=e.memoizedState,s=0;a!==null&&(s=a.retryLane),Kg(e,s)}function NS(e,a){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,f=e.memoizedState;f!==null&&(s=f.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(a),Kg(e,s)}function RS(e,a){return Gt(e,a)}var Do=null,wr=null,Lf=!1,zo=!1,Hf=!1,Ya=0;function Hn(e){e!==wr&&e.next===null&&(wr===null?Do=wr=e:wr=wr.next=e),zo=!0,Lf||(Lf=!0,kS())}function Bs(e,a){if(!Hf&&zo){Hf=!0;do for(var s=!1,o=Do;o!==null;){if(e!==0){var f=o.pendingLanes;if(f===0)var m=0;else{var b=o.suspendedLanes,T=o.pingedLanes;m=(1<<31-Fe(42|e)+1)-1,m&=f&~(b&~T),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(s=!0,Jg(o,m))}else m=Oe,m=Ii(o,o===qe?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(m&3)===0||fi(o,m)||(s=!0,Jg(o,m));o=o.next}while(s);Hf=!1}}function OS(){Xg()}function Xg(){zo=Lf=!1;var e=0;Ya!==0&&HS()&&(e=Ya);for(var a=Je(),s=null,o=Do;o!==null;){var f=o.next,m=Qg(o,a);m===0?(o.next=null,s===null?Do=f:s.next=f,f===null&&(wr=s)):(s=o,(e!==0||(m&3)!==0)&&(zo=!0)),o=f}yt!==0&&yt!==5||Bs(e),Ya!==0&&(Ya=0)}function Qg(e,a){for(var s=e.suspendedLanes,o=e.pingedLanes,f=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var b=31-Fe(m),T=1<<b,D=f[b];D===-1?((T&s)===0||(T&o)!==0)&&(f[b]=Fu(T,a)):D<=a&&(e.expiredLanes|=T),m&=~T}if(a=qe,s=Oe,s=Ii(e,e===a?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===a&&(Ue===2||Ue===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Pn(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||fi(e,s)){if(a=s&-s,a===e.callbackPriority)return a;switch(o!==null&&Pn(o),ns(s)){case 2:case 8:s=Dn;break;case 32:s=bn;break;case 268435456:s=xa;break;default:s=bn}return o=Zg.bind(null,e),s=Gt(s,o),e.callbackPriority=a,e.callbackNode=s,a}return o!==null&&o!==null&&Pn(o),e.callbackPriority=2,e.callbackNode=null,2}function Zg(e,a){if(yt!==0&&yt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Mo()&&e.callbackNode!==s)return null;var o=Oe;return o=Ii(e,e===qe?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Cg(e,o,a),Qg(e,Je()),e.callbackNode!=null&&e.callbackNode===s?Zg.bind(null,e):null)}function Jg(e,a){if(Mo())return null;Cg(e,a,!0)}function kS(){VS(function(){(De&6)!==0?Gt(Mn,OS):Xg()})}function qf(){if(Ya===0){var e=sr;e===0&&(e=zn,zn<<=1,(zn&261888)===0&&(zn=256)),Ya=e}return Ya}function Fg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Vl(""+e)}function Wg(e,a){var s=a.ownerDocument.createElement("input");return s.name=a.name,s.value=a.value,e.id&&s.setAttribute("form",e.id),a.parentNode.insertBefore(s,a),e=new FormData(e),s.parentNode.removeChild(s),e}function CS(e,a,s,o,f){if(a==="submit"&&s&&s.stateNode===f){var m=Fg((f[Tt]||null).action),b=o.submitter;b&&(a=(a=b[Tt]||null)?Fg(a.formAction):b.getAttribute("formAction"),a!==null&&(m=a,b=null));var T=new Il("action","action",null,o,f);e.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ya!==0){var D=b?Wg(f,b):new FormData(f);lf(s,{pending:!0,data:D,method:f.method,action:m},null,D)}}else typeof m=="function"&&(T.preventDefault(),D=b?Wg(f,b):new FormData(f),lf(s,{pending:!0,data:D,method:f.method,action:m},m,D))},currentTarget:f}]})}}for(var Vf=0;Vf<Ec.length;Vf++){var Pf=Ec[Vf],jS=Pf.toLowerCase(),MS=Pf[0].toUpperCase()+Pf.slice(1);_n(jS,"on"+MS)}_n(km,"onAnimationEnd"),_n(Cm,"onAnimationIteration"),_n(jm,"onAnimationStart"),_n("dblclick","onDoubleClick"),_n("focusin","onFocus"),_n("focusout","onBlur"),_n(Qw,"onTransitionRun"),_n(Zw,"onTransitionStart"),_n(Jw,"onTransitionCancel"),_n(Mm,"onTransitionEnd"),In("onMouseEnter",["mouseout","mouseover"]),In("onMouseLeave",["mouseout","mouseover"]),In("onPointerEnter",["pointerout","pointerover"]),In("onPointerLeave",["pointerout","pointerover"]),Yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $s="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($s));function ey(e,a){a=(a&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],f=o.event;o=o.listeners;e:{var m=void 0;if(a)for(var b=o.length-1;0<=b;b--){var T=o[b],D=T.instance,I=T.currentTarget;if(T=T.listener,D!==m&&f.isPropagationStopped())break e;m=T,f.currentTarget=I;try{m(f)}catch(ee){Ql(ee)}f.currentTarget=null,m=D}else for(b=0;b<o.length;b++){if(T=o[b],D=T.instance,I=T.currentTarget,T=T.listener,D!==m&&f.isPropagationStopped())break e;m=T,f.currentTarget=I;try{m(f)}catch(ee){Ql(ee)}f.currentTarget=null,m=D}}}}function Re(e,a){var s=a[as];s===void 0&&(s=a[as]=new Set);var o=e+"__bubble";s.has(o)||(ty(a,e,2,!1),s.add(o))}function Gf(e,a,s){var o=0;a&&(o|=4),ty(s,e,o,a)}var Uo="_reactListening"+Math.random().toString(36).slice(2);function Yf(e){if(!e[Uo]){e[Uo]=!0,zl.forEach(function(s){s!=="selectionchange"&&(DS.has(s)||Gf(s,!1,e),Gf(s,!0,e))});var a=e.nodeType===9?e:e.ownerDocument;a===null||a[Uo]||(a[Uo]=!0,Gf("selectionchange",!1,a))}}function ty(e,a,s,o){switch(ky(a)){case 2:var f=oE;break;case 8:f=uE;break;default:f=sd}s=f.bind(null,a,s,e),f=void 0,!cc||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(f=!0),o?f!==void 0?e.addEventListener(a,s,{capture:!0,passive:f}):e.addEventListener(a,s,!0):f!==void 0?e.addEventListener(a,s,{passive:f}):e.addEventListener(a,s,!1)}function If(e,a,s,o,f){var m=o;if((a&1)===0&&(a&2)===0&&o!==null)e:for(;;){if(o===null)return;var b=o.tag;if(b===3||b===4){var T=o.stateNode.containerInfo;if(T===f)break;if(b===4)for(b=o.return;b!==null;){var D=b.tag;if((D===3||D===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;T!==null;){if(b=Na(T),b===null)return;if(D=b.tag,D===5||D===6||D===26||D===27){o=m=b;continue e}T=T.parentNode}}o=o.return}sm(function(){var I=m,ee=oc(s),ae=[];e:{var K=Dm.get(e);if(K!==void 0){var Q=Il,de=e;switch(e){case"keypress":if(Gl(s)===0)break e;case"keydown":case"keyup":Q=Nw;break;case"focusin":de="focus",Q=mc;break;case"focusout":de="blur",Q=mc;break;case"beforeblur":case"afterblur":Q=mc;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=um;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=pw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=kw;break;case km:case Cm:case jm:Q=vw;break;case Mm:Q=jw;break;case"scroll":case"scrollend":Q=hw;break;case"wheel":Q=Dw;break;case"copy":case"cut":case"paste":Q=_w;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=fm;break;case"toggle":case"beforetoggle":Q=Uw}var be=(a&4)!==0,He=!be&&(e==="scroll"||e==="scrollend"),H=be?K!==null?K+"Capture":null:K;be=[];for(var B=I,Y;B!==null;){var ne=B;if(Y=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||Y===null||H===null||(ne=ss(B,H),ne!=null&&be.push(Ls(B,ne,Y))),He)break;B=B.return}0<be.length&&(K=new Q(K,de,null,s,ee),ae.push({event:K,listeners:be}))}}if((a&7)===0){e:{if(K=e==="mouseover"||e==="pointerover",Q=e==="mouseout"||e==="pointerout",K&&s!==lc&&(de=s.relatedTarget||s.fromElement)&&(Na(de)||de[Aa]))break e;if((Q||K)&&(K=ee.window===ee?ee:(K=ee.ownerDocument)?K.defaultView||K.parentWindow:window,Q?(de=s.relatedTarget||s.toElement,Q=I,de=de?Na(de):null,de!==null&&(He=u(de),be=de.tag,de!==He||be!==5&&be!==27&&be!==6)&&(de=null)):(Q=null,de=I),Q!==de)){if(be=um,ne="onMouseLeave",H="onMouseEnter",B="mouse",(e==="pointerout"||e==="pointerover")&&(be=fm,ne="onPointerLeave",H="onPointerEnter",B="pointer"),He=Q==null?K:mi(Q),Y=de==null?K:mi(de),K=new be(ne,B+"leave",Q,s,ee),K.target=He,K.relatedTarget=Y,ne=null,Na(ee)===I&&(be=new be(H,B+"enter",de,s,ee),be.target=Y,be.relatedTarget=He,ne=be),He=ne,Q&&de)t:{for(be=zS,H=Q,B=de,Y=0,ne=H;ne;ne=be(ne))Y++;ne=0;for(var ye=B;ye;ye=be(ye))ne++;for(;0<Y-ne;)H=be(H),Y--;for(;0<ne-Y;)B=be(B),ne--;for(;Y--;){if(H===B||B!==null&&H===B.alternate){be=H;break t}H=be(H),B=be(B)}be=null}else be=null;Q!==null&&ny(ae,K,Q,be,!1),de!==null&&He!==null&&ny(ae,He,de,be,!0)}}e:{if(K=I?mi(I):window,Q=K.nodeName&&K.nodeName.toLowerCase(),Q==="select"||Q==="input"&&K.type==="file")var je=bm;else if(ym(K))if(_m)je=Iw;else{je=Gw;var me=Pw}else Q=K.nodeName,!Q||Q.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?I&&sc(I.elementType)&&(je=bm):je=Yw;if(je&&(je=je(e,I))){vm(ae,je,s,ee);break e}me&&me(e,K,I),e==="focusout"&&I&&K.type==="number"&&I.memoizedProps.value!=null&&rc(K,"number",K.value)}switch(me=I?mi(I):window,e){case"focusin":(ym(me)||me.contentEditable==="true")&&(Fi=me,_c=I,ms=null);break;case"focusout":ms=_c=Fi=null;break;case"mousedown":wc=!0;break;case"contextmenu":case"mouseup":case"dragend":wc=!1,Rm(ae,s,ee);break;case"selectionchange":if(Xw)break;case"keydown":case"keyup":Rm(ae,s,ee)}var xe;if(gc)e:{switch(e){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else Ji?pm(e,s)&&(ke="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(ke="onCompositionStart");ke&&(dm&&s.locale!=="ko"&&(Ji||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&Ji&&(xe=lm()):(Oa=ee,fc="value"in Oa?Oa.value:Oa.textContent,Ji=!0)),me=Bo(I,ke),0<me.length&&(ke=new cm(ke,e,null,s,ee),ae.push({event:ke,listeners:me}),xe?ke.data=xe:(xe=gm(s),xe!==null&&(ke.data=xe)))),(xe=$w?Lw(e,s):Hw(e,s))&&(ke=Bo(I,"onBeforeInput"),0<ke.length&&(me=new cm("onBeforeInput","beforeinput",null,s,ee),ae.push({event:me,listeners:ke}),me.data=xe)),CS(ae,e,I,s,ee)}ey(ae,a)})}function Ls(e,a,s){return{instance:e,listener:a,currentTarget:s}}function Bo(e,a){for(var s=a+"Capture",o=[];e!==null;){var f=e,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=ss(e,s),f!=null&&o.unshift(Ls(e,f,m)),f=ss(e,a),f!=null&&o.push(Ls(e,f,m))),e.tag===3)return o;e=e.return}return[]}function zS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function ny(e,a,s,o,f){for(var m=a._reactName,b=[];s!==null&&s!==o;){var T=s,D=T.alternate,I=T.stateNode;if(T=T.tag,D!==null&&D===o)break;T!==5&&T!==26&&T!==27||I===null||(D=I,f?(I=ss(s,m),I!=null&&b.unshift(Ls(s,I,D))):f||(I=ss(s,m),I!=null&&b.push(Ls(s,I,D)))),s=s.return}b.length!==0&&e.push({event:a,listeners:b})}var US=/\r\n?/g,BS=/\u0000|\uFFFD/g;function ay(e){return(typeof e=="string"?e:""+e).replace(US,`
`).replace(BS,"")}function iy(e,a){return a=ay(a),ay(e)===a}function Le(e,a,s,o,f,m){switch(s){case"children":typeof o=="string"?a==="body"||a==="textarea"&&o===""||Xi(e,o):(typeof o=="number"||typeof o=="bigint")&&a!=="body"&&Xi(e,""+o);break;case"className":Hl(e,"class",o);break;case"tabIndex":Hl(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Hl(e,s,o);break;case"style":im(e,o,m);break;case"data":if(a!=="object"){Hl(e,"data",o);break}case"src":case"href":if(o===""&&(a!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=Vl(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(s==="formAction"?(a!=="input"&&Le(e,a,"name",f.name,f,null),Le(e,a,"formEncType",f.formEncType,f,null),Le(e,a,"formMethod",f.formMethod,f,null),Le(e,a,"formTarget",f.formTarget,f,null)):(Le(e,a,"encType",f.encType,f,null),Le(e,a,"method",f.method,f,null),Le(e,a,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=Vl(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=Xn);break;case"onScroll":o!=null&&Re("scroll",e);break;case"onScrollEnd":o!=null&&Re("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(s=o.__html,s!=null){if(f.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=Vl(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Re("beforetoggle",e),Re("toggle",e),Ll(e,"popover",o);break;case"xlinkActuate":Kn(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Kn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Kn(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Kn(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Kn(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Kn(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Kn(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Kn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Kn(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Ll(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=fw.get(s)||s,Ll(e,s,o))}}function Kf(e,a,s,o,f,m){switch(s){case"style":im(e,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(s=o.__html,s!=null){if(f.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"children":typeof o=="string"?Xi(e,o):(typeof o=="number"||typeof o=="bigint")&&Xi(e,""+o);break;case"onScroll":o!=null&&Re("scroll",e);break;case"onScrollEnd":o!=null&&Re("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Xn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ul.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),a=s.slice(2,f?s.length-7:void 0),m=e[Tt]||null,m=m!=null?m[s]:null,typeof m=="function"&&e.removeEventListener(a,m,f),typeof o=="function")){typeof m!="function"&&m!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(a,o,f);break e}s in e?e[s]=o:o===!0?e.setAttribute(s,""):Ll(e,s,o)}}}function Ot(e,a,s){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Re("error",e),Re("load",e);var o=!1,f=!1,m;for(m in s)if(s.hasOwnProperty(m)){var b=s[m];if(b!=null)switch(m){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Le(e,a,m,b,s,null)}}f&&Le(e,a,"srcSet",s.srcSet,s,null),o&&Le(e,a,"src",s.src,s,null);return;case"input":Re("invalid",e);var T=m=b=f=null,D=null,I=null;for(o in s)if(s.hasOwnProperty(o)){var ee=s[o];if(ee!=null)switch(o){case"name":f=ee;break;case"type":b=ee;break;case"checked":D=ee;break;case"defaultChecked":I=ee;break;case"value":m=ee;break;case"defaultValue":T=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,a));break;default:Le(e,a,o,ee,s,null)}}em(e,m,T,D,I,b,f,!1);return;case"select":Re("invalid",e),o=b=m=null;for(f in s)if(s.hasOwnProperty(f)&&(T=s[f],T!=null))switch(f){case"value":m=T;break;case"defaultValue":b=T;break;case"multiple":o=T;default:Le(e,a,f,T,s,null)}a=m,s=b,e.multiple=!!o,a!=null?Ki(e,!!o,a,!1):s!=null&&Ki(e,!!o,s,!0);return;case"textarea":Re("invalid",e),m=f=o=null;for(b in s)if(s.hasOwnProperty(b)&&(T=s[b],T!=null))switch(b){case"value":o=T;break;case"defaultValue":f=T;break;case"children":m=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:Le(e,a,b,T,s,null)}nm(e,o,f,m);return;case"option":for(D in s)if(s.hasOwnProperty(D)&&(o=s[D],o!=null))switch(D){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Le(e,a,D,o,s,null)}return;case"dialog":Re("beforetoggle",e),Re("toggle",e),Re("cancel",e),Re("close",e);break;case"iframe":case"object":Re("load",e);break;case"video":case"audio":for(o=0;o<$s.length;o++)Re($s[o],e);break;case"image":Re("error",e),Re("load",e);break;case"details":Re("toggle",e);break;case"embed":case"source":case"link":Re("error",e),Re("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(I in s)if(s.hasOwnProperty(I)&&(o=s[I],o!=null))switch(I){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Le(e,a,I,o,s,null)}return;default:if(sc(a)){for(ee in s)s.hasOwnProperty(ee)&&(o=s[ee],o!==void 0&&Kf(e,a,ee,o,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(o=s[T],o!=null&&Le(e,a,T,o,s,null))}function $S(e,a,s,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,b=null,T=null,D=null,I=null,ee=null;for(Q in s){var ae=s[Q];if(s.hasOwnProperty(Q)&&ae!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":D=ae;default:o.hasOwnProperty(Q)||Le(e,a,Q,null,o,ae)}}for(var K in o){var Q=o[K];if(ae=s[K],o.hasOwnProperty(K)&&(Q!=null||ae!=null))switch(K){case"type":m=Q;break;case"name":f=Q;break;case"checked":I=Q;break;case"defaultChecked":ee=Q;break;case"value":b=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,a));break;default:Q!==ae&&Le(e,a,K,Q,o,ae)}}ic(e,b,T,D,I,ee,m,f);return;case"select":Q=b=T=K=null;for(m in s)if(D=s[m],s.hasOwnProperty(m)&&D!=null)switch(m){case"value":break;case"multiple":Q=D;default:o.hasOwnProperty(m)||Le(e,a,m,null,o,D)}for(f in o)if(m=o[f],D=s[f],o.hasOwnProperty(f)&&(m!=null||D!=null))switch(f){case"value":K=m;break;case"defaultValue":T=m;break;case"multiple":b=m;default:m!==D&&Le(e,a,f,m,o,D)}a=T,s=b,o=Q,K!=null?Ki(e,!!s,K,!1):!!o!=!!s&&(a!=null?Ki(e,!!s,a,!0):Ki(e,!!s,s?[]:"",!1));return;case"textarea":Q=K=null;for(T in s)if(f=s[T],s.hasOwnProperty(T)&&f!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Le(e,a,T,null,o,f)}for(b in o)if(f=o[b],m=s[b],o.hasOwnProperty(b)&&(f!=null||m!=null))switch(b){case"value":K=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==m&&Le(e,a,b,f,o,m)}tm(e,K,Q);return;case"option":for(var de in s)if(K=s[de],s.hasOwnProperty(de)&&K!=null&&!o.hasOwnProperty(de))switch(de){case"selected":e.selected=!1;break;default:Le(e,a,de,null,o,K)}for(D in o)if(K=o[D],Q=s[D],o.hasOwnProperty(D)&&K!==Q&&(K!=null||Q!=null))switch(D){case"selected":e.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:Le(e,a,D,K,o,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in s)K=s[be],s.hasOwnProperty(be)&&K!=null&&!o.hasOwnProperty(be)&&Le(e,a,be,null,o,K);for(I in o)if(K=o[I],Q=s[I],o.hasOwnProperty(I)&&K!==Q&&(K!=null||Q!=null))switch(I){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,a));break;default:Le(e,a,I,K,o,Q)}return;default:if(sc(a)){for(var He in s)K=s[He],s.hasOwnProperty(He)&&K!==void 0&&!o.hasOwnProperty(He)&&Kf(e,a,He,void 0,o,K);for(ee in o)K=o[ee],Q=s[ee],!o.hasOwnProperty(ee)||K===Q||K===void 0&&Q===void 0||Kf(e,a,ee,K,o,Q);return}}for(var H in s)K=s[H],s.hasOwnProperty(H)&&K!=null&&!o.hasOwnProperty(H)&&Le(e,a,H,null,o,K);for(ae in o)K=o[ae],Q=s[ae],!o.hasOwnProperty(ae)||K===Q||K==null&&Q==null||Le(e,a,ae,K,o,Q)}function ry(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function LS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,a=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var f=s[o],m=f.transferSize,b=f.initiatorType,T=f.duration;if(m&&T&&ry(b)){for(b=0,T=f.responseEnd,o+=1;o<s.length;o++){var D=s[o],I=D.startTime;if(I>T)break;var ee=D.transferSize,ae=D.initiatorType;ee&&ry(ae)&&(D=D.responseEnd,b+=ee*(D<T?1:(T-I)/(D-I)))}if(--o,a+=8*(m+b)/(f.duration/1e3),e++,10<e)break}}if(0<e)return a/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Xf=null,Qf=null;function $o(e){return e.nodeType===9?e:e.ownerDocument}function sy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ly(e,a){if(e===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&a==="foreignObject"?0:e}function Zf(e,a){return e==="textarea"||e==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Jf=null;function HS(){var e=window.event;return e&&e.type==="popstate"?e===Jf?!1:(Jf=e,!0):(Jf=null,!1)}var oy=typeof setTimeout=="function"?setTimeout:void 0,qS=typeof clearTimeout=="function"?clearTimeout:void 0,uy=typeof Promise=="function"?Promise:void 0,VS=typeof queueMicrotask=="function"?queueMicrotask:typeof uy<"u"?function(e){return uy.resolve(null).then(e).catch(PS)}:oy;function PS(e){setTimeout(function(){throw e})}function Ia(e){return e==="head"}function cy(e,a){var s=a,o=0;do{var f=s.nextSibling;if(e.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(f),Tr(a);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")Hs(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,Hs(s);for(var m=s.firstChild;m;){var b=m.nextSibling,T=m.nodeName;m[hi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&m.rel.toLowerCase()==="stylesheet"||s.removeChild(m),m=b}}else s==="body"&&Hs(e.ownerDocument.body);s=f}while(s);Tr(a)}function fy(e,a){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?a?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(a?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function Ff(e){var a=e.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var s=a;switch(a=a.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Ff(s),is(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function GS(e,a,s,o){for(;e.nodeType===1;){var f=s;if(e.nodeName.toLowerCase()!==a.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[hi])switch(a){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(a==="input"&&e.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=pn(e.nextSibling),e===null)break}return null}function YS(e,a,s){if(a==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=pn(e.nextSibling),e===null))return null;return e}function dy(e,a){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=pn(e.nextSibling),e===null))return null;return e}function Wf(e){return e.data==="$?"||e.data==="$~"}function ed(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function IS(e,a){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=a;else if(e.data!=="$?"||s.readyState!=="loading")a();else{var o=function(){a(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function pn(e){for(;e!=null;e=e.nextSibling){var a=e.nodeType;if(a===1||a===3)break;if(a===8){if(a=e.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return e}var td=null;function hy(e){e=e.nextSibling;for(var a=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(a===0)return pn(e.nextSibling);a--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||a++}e=e.nextSibling}return null}function my(e){e=e.previousSibling;for(var a=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(a===0)return e;a--}else s!=="/$"&&s!=="/&"||a++}e=e.previousSibling}return null}function py(e,a,s){switch(a=$o(s),e){case"html":if(e=a.documentElement,!e)throw Error(r(452));return e;case"head":if(e=a.head,!e)throw Error(r(453));return e;case"body":if(e=a.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Hs(e){for(var a=e.attributes;a.length;)e.removeAttributeNode(a[0]);is(e)}var gn=new Map,gy=new Set;function Lo(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ca=z.d;z.d={f:KS,r:XS,D:QS,C:ZS,L:JS,m:FS,X:eE,S:WS,M:tE};function KS(){var e=ca.f(),a=ko();return e||a}function XS(e){var a=Gn(e);a!==null&&a.tag===5&&a.type==="form"?Mp(a):ca.r(e)}var Sr=typeof document>"u"?null:document;function yy(e,a,s){var o=Sr;if(o&&typeof a=="string"&&a){var f=on(a);f='link[rel="'+e+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),gy.has(f)||(gy.add(f),e={rel:e,crossOrigin:s,href:a},o.querySelector(f)===null&&(a=o.createElement("link"),Ot(a,"link",e),ut(a),o.head.appendChild(a)))}}function QS(e){ca.D(e),yy("dns-prefetch",e,null)}function ZS(e,a){ca.C(e,a),yy("preconnect",e,a)}function JS(e,a,s){ca.L(e,a,s);var o=Sr;if(o&&e&&a){var f='link[rel="preload"][as="'+on(a)+'"]';a==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+on(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+on(s.imageSizes)+'"]')):f+='[href="'+on(e)+'"]';var m=f;switch(a){case"style":m=Er(e);break;case"script":m=xr(e)}gn.has(m)||(e=y({rel:"preload",href:a==="image"&&s&&s.imageSrcSet?void 0:e,as:a},s),gn.set(m,e),o.querySelector(f)!==null||a==="style"&&o.querySelector(qs(m))||a==="script"&&o.querySelector(Vs(m))||(a=o.createElement("link"),Ot(a,"link",e),ut(a),o.head.appendChild(a)))}}function FS(e,a){ca.m(e,a);var s=Sr;if(s&&e){var o=a&&typeof a.as=="string"?a.as:"script",f='link[rel="modulepreload"][as="'+on(o)+'"][href="'+on(e)+'"]',m=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=xr(e)}if(!gn.has(m)&&(e=y({rel:"modulepreload",href:e},a),gn.set(m,e),s.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Vs(m)))return}o=s.createElement("link"),Ot(o,"link",e),ut(o),s.head.appendChild(o)}}}function WS(e,a,s){ca.S(e,a,s);var o=Sr;if(o&&e){var f=Ra(o).hoistableStyles,m=Er(e);a=a||"default";var b=f.get(m);if(!b){var T={loading:0,preload:null};if(b=o.querySelector(qs(m)))T.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":a},s),(s=gn.get(m))&&nd(e,s);var D=b=o.createElement("link");ut(D),Ot(D,"link",e),D._p=new Promise(function(I,ee){D.onload=I,D.onerror=ee}),D.addEventListener("load",function(){T.loading|=1}),D.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Ho(b,a,o)}b={type:"stylesheet",instance:b,count:1,state:T},f.set(m,b)}}}function eE(e,a){ca.X(e,a);var s=Sr;if(s&&e){var o=Ra(s).hoistableScripts,f=xr(e),m=o.get(f);m||(m=s.querySelector(Vs(f)),m||(e=y({src:e,async:!0},a),(a=gn.get(f))&&ad(e,a),m=s.createElement("script"),ut(m),Ot(m,"link",e),s.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(f,m))}}function tE(e,a){ca.M(e,a);var s=Sr;if(s&&e){var o=Ra(s).hoistableScripts,f=xr(e),m=o.get(f);m||(m=s.querySelector(Vs(f)),m||(e=y({src:e,async:!0,type:"module"},a),(a=gn.get(f))&&ad(e,a),m=s.createElement("script"),ut(m),Ot(m,"link",e),s.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(f,m))}}function vy(e,a,s,o){var f=(f=ue.current)?Lo(f):null;if(!f)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(a=Er(s.href),s=Ra(f).hoistableStyles,o=s.get(a),o||(o={type:"style",instance:null,count:0,state:null},s.set(a,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Er(s.href);var m=Ra(f).hoistableStyles,b=m.get(e);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,b),(m=f.querySelector(qs(e)))&&!m._p&&(b.instance=m,b.state.loading=5),gn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},gn.set(e,s),m||nE(f,e,s,b.state))),a&&o===null)throw Error(r(528,""));return b}if(a&&o!==null)throw Error(r(529,""));return null;case"script":return a=s.async,s=s.src,typeof s=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=xr(s),s=Ra(f).hoistableScripts,o=s.get(a),o||(o={type:"script",instance:null,count:0,state:null},s.set(a,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Er(e){return'href="'+on(e)+'"'}function qs(e){return'link[rel="stylesheet"]['+e+"]"}function by(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function nE(e,a,s,o){e.querySelector('link[rel="preload"][as="style"]['+a+"]")?o.loading=1:(a=e.createElement("link"),o.preload=a,a.addEventListener("load",function(){return o.loading|=1}),a.addEventListener("error",function(){return o.loading|=2}),Ot(a,"link",s),ut(a),e.head.appendChild(a))}function xr(e){return'[src="'+on(e)+'"]'}function Vs(e){return"script[async]"+e}function _y(e,a,s){if(a.count++,a.instance===null)switch(a.type){case"style":var o=e.querySelector('style[data-href~="'+on(s.href)+'"]');if(o)return a.instance=o,ut(o),o;var f=y({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ut(o),Ot(o,"style",f),Ho(o,s.precedence,e),a.instance=o;case"stylesheet":f=Er(s.href);var m=e.querySelector(qs(f));if(m)return a.state.loading|=4,a.instance=m,ut(m),m;o=by(s),(f=gn.get(f))&&nd(o,f),m=(e.ownerDocument||e).createElement("link"),ut(m);var b=m;return b._p=new Promise(function(T,D){b.onload=T,b.onerror=D}),Ot(m,"link",o),a.state.loading|=4,Ho(m,s.precedence,e),a.instance=m;case"script":return m=xr(s.src),(f=e.querySelector(Vs(m)))?(a.instance=f,ut(f),f):(o=s,(f=gn.get(m))&&(o=y({},s),ad(o,f)),e=e.ownerDocument||e,f=e.createElement("script"),ut(f),Ot(f,"link",o),e.head.appendChild(f),a.instance=f);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(o=a.instance,a.state.loading|=4,Ho(o,s.precedence,e));return a.instance}function Ho(e,a,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,m=f,b=0;b<o.length;b++){var T=o[b];if(T.dataset.precedence===a)m=T;else if(m!==f)break}m?m.parentNode.insertBefore(e,m.nextSibling):(a=s.nodeType===9?s.head:s,a.insertBefore(e,a.firstChild))}function nd(e,a){e.crossOrigin==null&&(e.crossOrigin=a.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=a.referrerPolicy),e.title==null&&(e.title=a.title)}function ad(e,a){e.crossOrigin==null&&(e.crossOrigin=a.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=a.referrerPolicy),e.integrity==null&&(e.integrity=a.integrity)}var qo=null;function wy(e,a,s){if(qo===null){var o=new Map,f=qo=new Map;f.set(s,o)}else f=qo,o=f.get(s),o||(o=new Map,f.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),f=0;f<s.length;f++){var m=s[f];if(!(m[hi]||m[gt]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var b=m.getAttribute(a)||"";b=e+b;var T=o.get(b);T?T.push(m):o.set(b,[m])}}return o}function Sy(e,a,s){e=e.ownerDocument||e,e.head.insertBefore(s,a==="title"?e.querySelector("head > title"):null)}function aE(e,a,s){if(s===1||a.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return e=a.disabled,typeof a.precedence=="string"&&e==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Ey(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function iE(e,a,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=Er(o.href),m=a.querySelector(qs(f));if(m){a=m._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(e.count++,e=Vo.bind(e),a.then(e,e)),s.state.loading|=4,s.instance=m,ut(m);return}m=a.ownerDocument||a,o=by(o),(f=gn.get(f))&&nd(o,f),m=m.createElement("link"),ut(m);var b=m;b._p=new Promise(function(T,D){b.onload=T,b.onerror=D}),Ot(m,"link",o),s.instance=m}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,a),(a=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=Vo.bind(e),a.addEventListener("load",s),a.addEventListener("error",s))}}var id=0;function rE(e,a){return e.stylesheets&&e.count===0&&Go(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&Go(e,e.stylesheets),e.unsuspend){var m=e.unsuspend;e.unsuspend=null,m()}},6e4+a);0<e.imgBytes&&id===0&&(id=62500*LS());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Go(e,e.stylesheets),e.unsuspend)){var m=e.unsuspend;e.unsuspend=null,m()}},(e.imgBytes>id?50:800)+a);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(f)}}:null}function Vo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Go(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Po=null;function Go(e,a){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Po=new Map,a.forEach(sE,e),Po=null,Vo.call(e))}function sE(e,a){if(!(a.state.loading&4)){var s=Po.get(e);if(s)var o=s.get(null);else{s=new Map,Po.set(e,s);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var b=f[m];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(s.set(b.dataset.precedence,b),o=b)}o&&s.set(null,o)}f=a.instance,b=f.getAttribute("data-precedence"),m=s.get(b)||o,m===o&&s.set(null,f),s.set(b,f),this.count++,o=Vo.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),m?m.parentNode.insertBefore(f,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),a.state.loading|=4}}var Ps={$$typeof:N,Provider:null,Consumer:null,_currentValue:G,_currentValue2:G,_threadCount:0};function lE(e,a,s,o,f,m,b,T,D){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=es(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=es(0),this.hiddenUpdates=es(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function xy(e,a,s,o,f,m,b,T,D,I,ee,ae){return e=new lE(e,a,s,b,D,I,ee,ae,T),a=1,m===!0&&(a|=24),m=Xt(3,null,null,a),e.current=m,m.stateNode=e,a=Uc(),a.refCount++,e.pooledCache=a,a.refCount++,m.memoizedState={element:o,isDehydrated:s,cache:a},Hc(m),e}function Ty(e){return e?(e=tr,e):tr}function Ay(e,a,s,o,f,m){f=Ty(f),o.context===null?o.context=f:o.pendingContext=f,o=za(a),o.payload={element:s},m=m===void 0?null:m,m!==null&&(o.callback=m),s=Ua(e,o,a),s!==null&&(Vt(s,e,a),ws(s,e,a))}function Ny(e,a){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<a?s:a}}function rd(e,a){Ny(e,a),(e=e.alternate)&&Ny(e,a)}function Ry(e){if(e.tag===13||e.tag===31){var a=vi(e,67108864);a!==null&&Vt(a,e,67108864),rd(e,67108864)}}function Oy(e){if(e.tag===13||e.tag===31){var a=Wt();a=ts(a);var s=vi(e,a);s!==null&&Vt(s,e,a),rd(e,a)}}var Yo=!0;function oE(e,a,s,o){var f=k.T;k.T=null;var m=z.p;try{z.p=2,sd(e,a,s,o)}finally{z.p=m,k.T=f}}function uE(e,a,s,o){var f=k.T;k.T=null;var m=z.p;try{z.p=8,sd(e,a,s,o)}finally{z.p=m,k.T=f}}function sd(e,a,s,o){if(Yo){var f=ld(o);if(f===null)If(e,a,o,Io,s),Cy(e,o);else if(fE(f,e,a,s,o))o.stopPropagation();else if(Cy(e,o),a&4&&-1<cE.indexOf(e)){for(;f!==null;){var m=Gn(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var b=zt(m.pendingLanes);if(b!==0){var T=m;for(T.pendingLanes|=2,T.entangledLanes|=2;b;){var D=1<<31-Fe(b);T.entanglements[1]|=D,b&=~D}Hn(m),(De&6)===0&&(Ro=Je()+500,Bs(0))}}break;case 31:case 13:T=vi(m,2),T!==null&&Vt(T,m,2),ko(),rd(m,2)}if(m=ld(o),m===null&&If(e,a,o,Io,s),m===f)break;f=m}f!==null&&o.stopPropagation()}else If(e,a,o,null,s)}}function ld(e){return e=oc(e),od(e)}var Io=null;function od(e){if(Io=null,e=Na(e),e!==null){var a=u(e);if(a===null)e=null;else{var s=a.tag;if(s===13){if(e=c(a),e!==null)return e;e=null}else if(s===31){if(e=d(a),e!==null)return e;e=null}else if(s===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;e=null}else a!==e&&(e=null)}}return Io=e,null}function ky(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Sa()){case Mn:return 2;case Dn:return 8;case bn:case Ea:return 32;case xa:return 268435456;default:return 32}default:return 32}}var ud=!1,Ka=null,Xa=null,Qa=null,Gs=new Map,Ys=new Map,Za=[],cE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Cy(e,a){switch(e){case"focusin":case"focusout":Ka=null;break;case"dragenter":case"dragleave":Xa=null;break;case"mouseover":case"mouseout":Qa=null;break;case"pointerover":case"pointerout":Gs.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ys.delete(a.pointerId)}}function Is(e,a,s,o,f,m){return e===null||e.nativeEvent!==m?(e={blockedOn:a,domEventName:s,eventSystemFlags:o,nativeEvent:m,targetContainers:[f]},a!==null&&(a=Gn(a),a!==null&&Ry(a)),e):(e.eventSystemFlags|=o,a=e.targetContainers,f!==null&&a.indexOf(f)===-1&&a.push(f),e)}function fE(e,a,s,o,f){switch(a){case"focusin":return Ka=Is(Ka,e,a,s,o,f),!0;case"dragenter":return Xa=Is(Xa,e,a,s,o,f),!0;case"mouseover":return Qa=Is(Qa,e,a,s,o,f),!0;case"pointerover":var m=f.pointerId;return Gs.set(m,Is(Gs.get(m)||null,e,a,s,o,f)),!0;case"gotpointercapture":return m=f.pointerId,Ys.set(m,Is(Ys.get(m)||null,e,a,s,o,f)),!0}return!1}function jy(e){var a=Na(e.target);if(a!==null){var s=u(a);if(s!==null){if(a=s.tag,a===13){if(a=c(s),a!==null){e.blockedOn=a,Ml(e.priority,function(){Oy(s)});return}}else if(a===31){if(a=d(s),a!==null){e.blockedOn=a,Ml(e.priority,function(){Oy(s)});return}}else if(a===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ko(e){if(e.blockedOn!==null)return!1;for(var a=e.targetContainers;0<a.length;){var s=ld(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);lc=o,s.target.dispatchEvent(o),lc=null}else return a=Gn(s),a!==null&&Ry(a),e.blockedOn=s,!1;a.shift()}return!0}function My(e,a,s){Ko(e)&&s.delete(a)}function dE(){ud=!1,Ka!==null&&Ko(Ka)&&(Ka=null),Xa!==null&&Ko(Xa)&&(Xa=null),Qa!==null&&Ko(Qa)&&(Qa=null),Gs.forEach(My),Ys.forEach(My)}function Xo(e,a){e.blockedOn===a&&(e.blockedOn=null,ud||(ud=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,dE)))}var Qo=null;function Dy(e){Qo!==e&&(Qo=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Qo===e&&(Qo=null);for(var a=0;a<e.length;a+=3){var s=e[a],o=e[a+1],f=e[a+2];if(typeof o!="function"){if(od(o||s)===null)continue;break}var m=Gn(s);m!==null&&(e.splice(a,3),a-=3,lf(m,{pending:!0,data:f,method:s.method,action:o},o,f))}}))}function Tr(e){function a(D){return Xo(D,e)}Ka!==null&&Xo(Ka,e),Xa!==null&&Xo(Xa,e),Qa!==null&&Xo(Qa,e),Gs.forEach(a),Ys.forEach(a);for(var s=0;s<Za.length;s++){var o=Za[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Za.length&&(s=Za[0],s.blockedOn===null);)jy(s),s.blockedOn===null&&Za.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var f=s[o],m=s[o+1],b=f[Tt]||null;if(typeof m=="function")b||Dy(s);else if(b){var T=null;if(m&&m.hasAttribute("formAction")){if(f=m,b=m[Tt]||null)T=b.formAction;else if(od(f)!==null)continue}else T=b.action;typeof T=="function"?s[o+1]=T:(s.splice(o,3),o-=3),Dy(s)}}}function zy(){function e(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(b){return f=b})},focusReset:"manual",scroll:"manual"})}function a(){f!==null&&(f(),f=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),f!==null&&(f(),f=null)}}}function cd(e){this._internalRoot=e}Zo.prototype.render=cd.prototype.render=function(e){var a=this._internalRoot;if(a===null)throw Error(r(409));var s=a.current,o=Wt();Ay(s,o,e,a,null,null)},Zo.prototype.unmount=cd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var a=e.containerInfo;Ay(e.current,2,null,e,null,null),ko(),a[Aa]=null}};function Zo(e){this._internalRoot=e}Zo.prototype.unstable_scheduleHydration=function(e){if(e){var a=jl();e={blockedOn:null,target:e,priority:a};for(var s=0;s<Za.length&&a!==0&&a<Za[s].priority;s++);Za.splice(s,0,e),s===0&&jy(e)}};var Uy=n.version;if(Uy!=="19.2.0")throw Error(r(527,Uy,"19.2.0"));z.findDOMNode=function(e){var a=e._reactInternals;if(a===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=p(a),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var hE={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jo.isDisabled&&Jo.supportsFiber)try{It=Jo.inject(hE),rt=Jo}catch{}}return Xs.createRoot=function(e,a){if(!l(e))throw Error(r(299));var s=!1,o="",f=Pp,m=Gp,b=Yp;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(m=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError)),a=xy(e,1,!1,null,null,s,o,null,f,m,b,zy),e[Aa]=a.current,Yf(e),new cd(a)},Xs.hydrateRoot=function(e,a,s){if(!l(e))throw Error(r(299));var o=!1,f="",m=Pp,b=Gp,T=Yp,D=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(b=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.formState!==void 0&&(D=s.formState)),a=xy(e,1,!0,a,s??null,o,f,D,m,b,T,zy),a.context=Ty(null),s=a.current,o=Wt(),o=ts(o),f=za(o),f.callback=null,Ua(s,f,o),s=o,a.current.lanes=s,di(a,s),Hn(a),e[Aa]=a.current,Yf(e),new Zo(a)},Xs.version="19.2.0",Xs}var Iy;function xE(){if(Iy)return hd.exports;Iy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}return t(),hd.exports=EE(),hd.exports}var TE=xE();const AE=Lu(TE);/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Ky="popstate";function NE(t={}){function n(r,l){let{pathname:u,search:c,hash:d}=r.location;return Vd("",{pathname:u,search:c,hash:d},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function i(r,l){return typeof l=="string"?l:ll(l)}return OE(n,i,null,t)}function Qe(t,n){if(t===!1||t===null||typeof t>"u")throw new Error(n)}function an(t,n){if(!t){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function RE(){return Math.random().toString(36).substring(2,10)}function Xy(t,n){return{usr:t.state,key:t.key,idx:n}}function Vd(t,n,i=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof n=="string"?Xr(n):n,state:i,key:n&&n.key||r||RE()}}function ll({pathname:t="/",search:n="",hash:i=""}){return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function Xr(t){let n={};if(t){let i=t.indexOf("#");i>=0&&(n.hash=t.substring(i),t=t.substring(0,i));let r=t.indexOf("?");r>=0&&(n.search=t.substring(r),t=t.substring(0,r)),t&&(n.pathname=t)}return n}function OE(t,n,i,r={}){let{window:l=document.defaultView,v5Compat:u=!1}=r,c=l.history,d="POP",h=null,p=g();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function g(){return(c.state||{idx:null}).idx}function y(){d="POP";let E=g(),A=E==null?null:E-p;p=E,h&&h({action:d,location:w.location,delta:A})}function _(E,A){d="PUSH";let j=Vd(w.location,E,A);p=g()+1;let N=Xy(j,p),M=w.createHref(j);try{c.pushState(N,"",M)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;l.location.assign(M)}u&&h&&h({action:d,location:w.location,delta:1})}function v(E,A){d="REPLACE";let j=Vd(w.location,E,A);p=g();let N=Xy(j,p),M=w.createHref(j);c.replaceState(N,"",M),u&&h&&h({action:d,location:w.location,delta:0})}function S(E){return kE(E)}let w={get action(){return d},get location(){return t(l,c)},listen(E){if(h)throw new Error("A history only accepts one active listener");return l.addEventListener(Ky,y),h=E,()=>{l.removeEventListener(Ky,y),h=null}},createHref(E){return n(l,E)},createURL:S,encodeLocation(E){let A=S(E);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:_,replace:v,go(E){return c.go(E)}};return w}function kE(t,n=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),Qe(i,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:ll(t);return r=r.replace(/ $/,"%20"),!n&&r.startsWith("//")&&(r=i+r),new URL(r,i)}function xv(t,n,i="/"){return CE(t,n,i,!1)}function CE(t,n,i,r){let l=typeof n=="string"?Xr(n):n,u=ga(l.pathname||"/",i);if(u==null)return null;let c=Tv(t);jE(c);let d=null;for(let h=0;d==null&&h<c.length;++h){let p=PE(u);d=qE(c[h],p,r)}return d}function Tv(t,n=[],i=[],r="",l=!1){let u=(c,d,h=l,p)=>{let g={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(r)&&h)return;Qe(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length)}let y=ma([r,g.relativePath]),_=i.concat(g);c.children&&c.children.length>0&&(Qe(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Tv(c.children,n,_,y,h)),!(c.path==null&&!c.index)&&n.push({path:y,score:LE(y,c.index),routesMeta:_})};return t.forEach((c,d)=>{var h;if(c.path===""||!((h=c.path)!=null&&h.includes("?")))u(c,d);else for(let p of Av(c.path))u(c,d,!0,p)}),n}function Av(t){let n=t.split("/");if(n.length===0)return[];let[i,...r]=n,l=i.endsWith("?"),u=i.replace(/\?$/,"");if(r.length===0)return l?[u,""]:[u];let c=Av(r.join("/")),d=[];return d.push(...c.map(h=>h===""?u:[u,h].join("/"))),l&&d.push(...c),d.map(h=>t.startsWith("/")&&h===""?"/":h)}function jE(t){t.sort((n,i)=>n.score!==i.score?i.score-n.score:HE(n.routesMeta.map(r=>r.childrenIndex),i.routesMeta.map(r=>r.childrenIndex)))}var ME=/^:[\w-]+$/,DE=3,zE=2,UE=1,BE=10,$E=-2,Qy=t=>t==="*";function LE(t,n){let i=t.split("/"),r=i.length;return i.some(Qy)&&(r+=$E),n&&(r+=zE),i.filter(l=>!Qy(l)).reduce((l,u)=>l+(ME.test(u)?DE:u===""?UE:BE),r)}function HE(t,n){return t.length===n.length&&t.slice(0,-1).every((r,l)=>r===n[l])?t[t.length-1]-n[n.length-1]:0}function qE(t,n,i=!1){let{routesMeta:r}=t,l={},u="/",c=[];for(let d=0;d<r.length;++d){let h=r[d],p=d===r.length-1,g=u==="/"?n:n.slice(u.length)||"/",y=Tu({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},g),_=h.route;if(!y&&p&&i&&!r[r.length-1].route.index&&(y=Tu({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!y)return null;Object.assign(l,y.params),c.push({params:l,pathname:ma([u,y.pathname]),pathnameBase:XE(ma([u,y.pathnameBase])),route:_}),y.pathnameBase!=="/"&&(u=ma([u,y.pathnameBase]))}return c}function Tu(t,n){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[i,r]=VE(t.path,t.caseSensitive,t.end),l=n.match(i);if(!l)return null;let u=l[0],c=u.replace(/(.)\/+$/,"$1"),d=l.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:y},_)=>{if(g==="*"){let S=d[_]||"";c=u.slice(0,u.length-S.length).replace(/(.)\/+$/,"$1")}const v=d[_];return y&&!v?p[g]=void 0:p[g]=(v||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:c,pattern:t}}function VE(t,n=!1,i=!0){an(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],l="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,h)=>(r.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),l+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?l+="\\/*$":t!==""&&t!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,n?void 0:"i"),r]}function PE(t){try{return t.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return an(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),t}}function ga(t,n){if(n==="/")return t;if(!t.toLowerCase().startsWith(n.toLowerCase()))return null;let i=n.endsWith("/")?n.length-1:n.length,r=t.charAt(i);return r&&r!=="/"?null:t.slice(i)||"/"}var GE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,YE=t=>GE.test(t);function IE(t,n="/"){let{pathname:i,search:r="",hash:l=""}=typeof t=="string"?Xr(t):t,u;if(i)if(YE(i))u=i;else{if(i.includes("//")){let c=i;i=i.replace(/\/\/+/g,"/"),an(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${i}`)}i.startsWith("/")?u=Zy(i.substring(1),"/"):u=Zy(i,n)}else u=n;return{pathname:u,search:QE(r),hash:ZE(l)}}function Zy(t,n){let i=n.replace(/\/+$/,"").split("/");return t.split("/").forEach(l=>{l===".."?i.length>1&&i.pop():l!=="."&&i.push(l)}),i.length>1?i.join("/"):"/"}function yd(t,n,i,r){return`Cannot include a '${t}' character in a manually specified \`to.${n}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function KE(t){return t.filter((n,i)=>i===0||n.route.path&&n.route.path.length>0)}function _h(t){let n=KE(t);return n.map((i,r)=>r===n.length-1?i.pathname:i.pathnameBase)}function wh(t,n,i,r=!1){let l;typeof t=="string"?l=Xr(t):(l={...t},Qe(!l.pathname||!l.pathname.includes("?"),yd("?","pathname","search",l)),Qe(!l.pathname||!l.pathname.includes("#"),yd("#","pathname","hash",l)),Qe(!l.search||!l.search.includes("#"),yd("#","search","hash",l)));let u=t===""||l.pathname==="",c=u?"/":l.pathname,d;if(c==null)d=i;else{let y=n.length-1;if(!r&&c.startsWith("..")){let _=c.split("/");for(;_[0]==="..";)_.shift(),y-=1;l.pathname=_.join("/")}d=y>=0?n[y]:"/"}let h=IE(l,d),p=c&&c!=="/"&&c.endsWith("/"),g=(u||c===".")&&i.endsWith("/");return!h.pathname.endsWith("/")&&(p||g)&&(h.pathname+="/"),h}var ma=t=>t.join("/").replace(/\/\/+/g,"/"),XE=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),QE=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ZE=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function JE(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Nv=["POST","PUT","PATCH","DELETE"];new Set(Nv);var FE=["GET",...Nv];new Set(FE);var Qr=R.createContext(null);Qr.displayName="DataRouter";var Hu=R.createContext(null);Hu.displayName="DataRouterState";R.createContext(!1);var Rv=R.createContext({isTransitioning:!1});Rv.displayName="ViewTransition";var WE=R.createContext(new Map);WE.displayName="Fetchers";var e1=R.createContext(null);e1.displayName="Await";var On=R.createContext(null);On.displayName="Navigation";var Sl=R.createContext(null);Sl.displayName="Location";var kn=R.createContext({outlet:null,matches:[],isDataRoute:!1});kn.displayName="Route";var Sh=R.createContext(null);Sh.displayName="RouteError";function t1(t,{relative:n}={}){Qe(Zr(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:r}=R.useContext(On),{hash:l,pathname:u,search:c}=El(t,{relative:n}),d=u;return i!=="/"&&(d=u==="/"?i:ma([i,u])),r.createHref({pathname:d,search:c,hash:l})}function Zr(){return R.useContext(Sl)!=null}function ba(){return Qe(Zr(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(Sl).location}var Ov="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function kv(t){R.useContext(On).static||R.useLayoutEffect(t)}function Cn(){let{isDataRoute:t}=R.useContext(kn);return t?m1():n1()}function n1(){Qe(Zr(),"useNavigate() may be used only in the context of a <Router> component.");let t=R.useContext(Qr),{basename:n,navigator:i}=R.useContext(On),{matches:r}=R.useContext(kn),{pathname:l}=ba(),u=JSON.stringify(_h(r)),c=R.useRef(!1);return kv(()=>{c.current=!0}),R.useCallback((h,p={})=>{if(an(c.current,Ov),!c.current)return;if(typeof h=="number"){i.go(h);return}let g=wh(h,JSON.parse(u),l,p.relative==="path");t==null&&n!=="/"&&(g.pathname=g.pathname==="/"?n:ma([n,g.pathname])),(p.replace?i.replace:i.push)(g,p.state,p)},[n,i,u,l,t])}R.createContext(null);function Cv(){let{matches:t}=R.useContext(kn),n=t[t.length-1];return n?n.params:{}}function El(t,{relative:n}={}){let{matches:i}=R.useContext(kn),{pathname:r}=ba(),l=JSON.stringify(_h(i));return R.useMemo(()=>wh(t,JSON.parse(l),r,n==="path"),[t,l,r,n])}function a1(t,n){return jv(t,n)}function jv(t,n,i,r,l){var j;Qe(Zr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=R.useContext(On),{matches:c}=R.useContext(kn),d=c[c.length-1],h=d?d.params:{},p=d?d.pathname:"/",g=d?d.pathnameBase:"/",y=d&&d.route;{let N=y&&y.path||"";Mv(p,!y||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let _=ba(),v;if(n){let N=typeof n=="string"?Xr(n):n;Qe(g==="/"||((j=N.pathname)==null?void 0:j.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${N.pathname}" was given in the \`location\` prop.`),v=N}else v=_;let S=v.pathname||"/",w=S;if(g!=="/"){let N=g.replace(/^\//,"").split("/");w="/"+S.replace(/^\//,"").split("/").slice(N.length).join("/")}let E=xv(t,{pathname:w});an(y||E!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),an(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=o1(E&&E.map(N=>Object.assign({},N,{params:Object.assign({},h,N.params),pathname:ma([g,u.encodeLocation?u.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?g:ma([g,u.encodeLocation?u.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),c,i,r,l);return n&&A?R.createElement(Sl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},A):A}function i1(){let t=h1(),n=JE(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),i=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:u},"ErrorBoundary")," or"," ",R.createElement("code",{style:u},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},n),i?R.createElement("pre",{style:l},i):null,c)}var r1=R.createElement(i1,null),s1=class extends R.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){this.props.onError?this.props.onError(t,n):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?R.createElement(kn.Provider,{value:this.props.routeContext},R.createElement(Sh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function l1({routeContext:t,match:n,children:i}){let r=R.useContext(Qr);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),R.createElement(kn.Provider,{value:t},i)}function o1(t,n=[],i=null,r=null,l=null){if(t==null){if(!i)return null;if(i.errors)t=i.matches;else if(n.length===0&&!i.initialized&&i.matches.length>0)t=i.matches;else return null}let u=t,c=i==null?void 0:i.errors;if(c!=null){let g=u.findIndex(y=>y.route.id&&(c==null?void 0:c[y.route.id])!==void 0);Qe(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let d=!1,h=-1;if(i)for(let g=0;g<u.length;g++){let y=u[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(h=g),y.route.id){let{loaderData:_,errors:v}=i,S=y.route.loader&&!_.hasOwnProperty(y.route.id)&&(!v||v[y.route.id]===void 0);if(y.route.lazy||S){d=!0,h>=0?u=u.slice(0,h+1):u=[u[0]];break}}}let p=i&&r?(g,y)=>{var _,v;r(g,{location:i.location,params:((v=(_=i.matches)==null?void 0:_[0])==null?void 0:v.params)??{},errorInfo:y})}:void 0;return u.reduceRight((g,y,_)=>{let v,S=!1,w=null,E=null;i&&(v=c&&y.route.id?c[y.route.id]:void 0,w=y.route.errorElement||r1,d&&(h<0&&_===0?(Mv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,E=null):h===_&&(S=!0,E=y.route.hydrateFallbackElement||null)));let A=n.concat(u.slice(0,_+1)),j=()=>{let N;return v?N=w:S?N=E:y.route.Component?N=R.createElement(y.route.Component,null):y.route.element?N=y.route.element:N=g,R.createElement(l1,{match:y,routeContext:{outlet:g,matches:A,isDataRoute:i!=null},children:N})};return i&&(y.route.ErrorBoundary||y.route.errorElement||_===0)?R.createElement(s1,{location:i.location,revalidation:i.revalidation,component:w,error:v,children:j(),routeContext:{outlet:null,matches:A,isDataRoute:!0},onError:p}):j()},null)}function Eh(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function u1(t){let n=R.useContext(Qr);return Qe(n,Eh(t)),n}function c1(t){let n=R.useContext(Hu);return Qe(n,Eh(t)),n}function f1(t){let n=R.useContext(kn);return Qe(n,Eh(t)),n}function xh(t){let n=f1(t),i=n.matches[n.matches.length-1];return Qe(i.route.id,`${t} can only be used on routes that contain a unique "id"`),i.route.id}function d1(){return xh("useRouteId")}function h1(){var r;let t=R.useContext(Sh),n=c1("useRouteError"),i=xh("useRouteError");return t!==void 0?t:(r=n.errors)==null?void 0:r[i]}function m1(){let{router:t}=u1("useNavigate"),n=xh("useNavigate"),i=R.useRef(!1);return kv(()=>{i.current=!0}),R.useCallback(async(l,u={})=>{an(i.current,Ov),i.current&&(typeof l=="number"?t.navigate(l):await t.navigate(l,{fromRouteId:n,...u}))},[t,n])}var Jy={};function Mv(t,n,i){!n&&!Jy[t]&&(Jy[t]=!0,an(!1,i))}R.memo(p1);function p1({routes:t,future:n,state:i,unstable_onError:r}){return jv(t,void 0,i,r,n)}function g1({to:t,replace:n,state:i,relative:r}){Qe(Zr(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=R.useContext(On);an(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=R.useContext(kn),{pathname:c}=ba(),d=Cn(),h=wh(t,_h(u),c,r==="path"),p=JSON.stringify(h);return R.useEffect(()=>{d(JSON.parse(p),{replace:n,state:i,relative:r})},[d,p,r,n,i]),null}function ei(t){Qe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function y1({basename:t="/",children:n=null,location:i,navigationType:r="POP",navigator:l,static:u=!1}){Qe(!Zr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=R.useMemo(()=>({basename:c,navigator:l,static:u,future:{}}),[c,l,u]);typeof i=="string"&&(i=Xr(i));let{pathname:h="/",search:p="",hash:g="",state:y=null,key:_="default"}=i,v=R.useMemo(()=>{let S=ga(h,c);return S==null?null:{location:{pathname:S,search:p,hash:g,state:y,key:_},navigationType:r}},[c,h,p,g,y,_,r]);return an(v!=null,`<Router basename="${c}"> is not able to match the URL "${h}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:R.createElement(On.Provider,{value:d},R.createElement(Sl.Provider,{children:n,value:v}))}function v1({children:t,location:n}){return a1(Pd(t),n)}function Pd(t,n=[]){let i=[];return R.Children.forEach(t,(r,l)=>{if(!R.isValidElement(r))return;let u=[...n,l];if(r.type===R.Fragment){i.push.apply(i,Pd(r.props.children,u));return}Qe(r.type===ei,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Qe(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Pd(r.props.children,u)),i.push(c)}),i}var bu="get",_u="application/x-www-form-urlencoded";function qu(t){return t!=null&&typeof t.tagName=="string"}function b1(t){return qu(t)&&t.tagName.toLowerCase()==="button"}function _1(t){return qu(t)&&t.tagName.toLowerCase()==="form"}function w1(t){return qu(t)&&t.tagName.toLowerCase()==="input"}function S1(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function E1(t,n){return t.button===0&&(!n||n==="_self")&&!S1(t)}function Gd(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((n,i)=>{let r=t[i];return n.concat(Array.isArray(r)?r.map(l=>[i,l]):[[i,r]])},[]))}function x1(t,n){let i=Gd(t);return n&&n.forEach((r,l)=>{i.has(l)||n.getAll(l).forEach(u=>{i.append(l,u)})}),i}var Fo=null;function T1(){if(Fo===null)try{new FormData(document.createElement("form"),0),Fo=!1}catch{Fo=!0}return Fo}var A1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vd(t){return t!=null&&!A1.has(t)?(an(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_u}"`),null):t}function N1(t,n){let i,r,l,u,c;if(_1(t)){let d=t.getAttribute("action");r=d?ga(d,n):null,i=t.getAttribute("method")||bu,l=vd(t.getAttribute("enctype"))||_u,u=new FormData(t)}else if(b1(t)||w1(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||d.getAttribute("action");if(r=h?ga(h,n):null,i=t.getAttribute("formmethod")||d.getAttribute("method")||bu,l=vd(t.getAttribute("formenctype"))||vd(d.getAttribute("enctype"))||_u,u=new FormData(d,t),!T1()){let{name:p,type:g,value:y}=t;if(g==="image"){let _=p?`${p}.`:"";u.append(`${_}x`,"0"),u.append(`${_}y`,"0")}else p&&u.append(p,y)}}else{if(qu(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=bu,r=null,l=_u,c=t}return u&&l==="text/plain"&&(c=u,u=void 0),{action:r,method:i.toLowerCase(),encType:l,formData:u,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Th(t,n){if(t===!1||t===null||typeof t>"u")throw new Error(n)}function R1(t,n,i){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${i}`:n&&ga(r.pathname,n)==="/"?r.pathname=`${n.replace(/\/$/,"")}/_root.${i}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${i}`,r}async function O1(t,n){if(t.id in n)return n[t.id];try{let i=await import(t.module);return n[t.id]=i,i}catch(i){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function k1(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function C1(t,n,i){let r=await Promise.all(t.map(async l=>{let u=n.routes[l.route.id];if(u){let c=await O1(u,i);return c.links?c.links():[]}return[]}));return z1(r.flat(1).filter(k1).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Fy(t,n,i,r,l,u){let c=(h,p)=>i[p]?h.route.id!==i[p].route.id:!0,d=(h,p)=>{var g;return i[p].pathname!==h.pathname||((g=i[p].route.path)==null?void 0:g.endsWith("*"))&&i[p].params["*"]!==h.params["*"]};return u==="assets"?n.filter((h,p)=>c(h,p)||d(h,p)):u==="data"?n.filter((h,p)=>{var y;let g=r.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(c(h,p)||d(h,p))return!0;if(h.route.shouldRevalidate){let _=h.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((y=i[0])==null?void 0:y.params)||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function j1(t,n,{includeHydrateFallback:i}={}){return M1(t.map(r=>{let l=n.routes[r.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),i&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function M1(t){return[...new Set(t)]}function D1(t){let n={},i=Object.keys(t).sort();for(let r of i)n[r]=t[r];return n}function z1(t,n){let i=new Set;return new Set(n),t.reduce((r,l)=>{let u=JSON.stringify(D1(l));return i.has(u)||(i.add(u),r.push({key:u,link:l})),r},[])}function Dv(){let t=R.useContext(Qr);return Th(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function U1(){let t=R.useContext(Hu);return Th(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Ah=R.createContext(void 0);Ah.displayName="FrameworkContext";function zv(){let t=R.useContext(Ah);return Th(t,"You must render this element inside a <HydratedRouter> element"),t}function B1(t,n){let i=R.useContext(Ah),[r,l]=R.useState(!1),[u,c]=R.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:p,onMouseLeave:g,onTouchStart:y}=n,_=R.useRef(null);R.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let w=A=>{A.forEach(j=>{c(j.isIntersecting)})},E=new IntersectionObserver(w,{threshold:.5});return _.current&&E.observe(_.current),()=>{E.disconnect()}}},[t]),R.useEffect(()=>{if(r){let w=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(w)}}},[r]);let v=()=>{l(!0)},S=()=>{l(!1),c(!1)};return i?t!=="intent"?[u,_,{}]:[u,_,{onFocus:Qs(d,v),onBlur:Qs(h,S),onMouseEnter:Qs(p,v),onMouseLeave:Qs(g,S),onTouchStart:Qs(y,v)}]:[!1,_,{}]}function Qs(t,n){return i=>{t&&t(i),i.defaultPrevented||n(i)}}function $1({page:t,...n}){let{router:i}=Dv(),r=R.useMemo(()=>xv(i.routes,t,i.basename),[i.routes,t,i.basename]);return r?R.createElement(H1,{page:t,matches:r,...n}):null}function L1(t){let{manifest:n,routeModules:i}=zv(),[r,l]=R.useState([]);return R.useEffect(()=>{let u=!1;return C1(t,n,i).then(c=>{u||l(c)}),()=>{u=!0}},[t,n,i]),r}function H1({page:t,matches:n,...i}){let r=ba(),{manifest:l,routeModules:u}=zv(),{basename:c}=Dv(),{loaderData:d,matches:h}=U1(),p=R.useMemo(()=>Fy(t,n,h,l,r,"data"),[t,n,h,l,r]),g=R.useMemo(()=>Fy(t,n,h,l,r,"assets"),[t,n,h,l,r]),y=R.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let S=new Set,w=!1;if(n.forEach(A=>{var N;let j=l.routes[A.route.id];!j||!j.hasLoader||(!p.some(M=>M.route.id===A.route.id)&&A.route.id in d&&((N=u[A.route.id])!=null&&N.shouldRevalidate)||j.hasClientLoader?w=!0:S.add(A.route.id))}),S.size===0)return[];let E=R1(t,c,"data");return w&&S.size>0&&E.searchParams.set("_routes",n.filter(A=>S.has(A.route.id)).map(A=>A.route.id).join(",")),[E.pathname+E.search]},[c,d,r,l,p,n,t,u]),_=R.useMemo(()=>j1(g,l),[g,l]),v=L1(g);return R.createElement(R.Fragment,null,y.map(S=>R.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...i})),_.map(S=>R.createElement("link",{key:S,rel:"modulepreload",href:S,...i})),v.map(({key:S,link:w})=>R.createElement("link",{key:S,nonce:i.nonce,...w})))}function q1(...t){return n=>{t.forEach(i=>{typeof i=="function"?i(n):i!=null&&(i.current=n)})}}var Uv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Uv&&(window.__reactRouterVersion="7.9.6")}catch{}function V1({basename:t,children:n,window:i}){let r=R.useRef();r.current==null&&(r.current=NE({window:i,v5Compat:!0}));let l=r.current,[u,c]=R.useState({action:l.action,location:l.location}),d=R.useCallback(h=>{R.startTransition(()=>c(h))},[c]);return R.useLayoutEffect(()=>l.listen(d),[l,d]),R.createElement(y1,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:l})}var Bv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$v=R.forwardRef(function({onClick:n,discover:i="render",prefetch:r="none",relative:l,reloadDocument:u,replace:c,state:d,target:h,to:p,preventScrollReset:g,viewTransition:y,..._},v){let{basename:S}=R.useContext(On),w=typeof p=="string"&&Bv.test(p),E,A=!1;if(typeof p=="string"&&w&&(E=p,Uv))try{let X=new URL(window.location.href),re=p.startsWith("//")?new URL(X.protocol+p):new URL(p),ie=ga(re.pathname,S);re.origin===X.origin&&ie!=null?p=ie+re.search+re.hash:A=!0}catch{an(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=t1(p,{relative:l}),[N,M,$]=B1(r,_),q=I1(p,{replace:c,state:d,target:h,preventScrollReset:g,relative:l,viewTransition:y});function V(X){n&&n(X),X.defaultPrevented||q(X)}let te=R.createElement("a",{..._,...$,href:E||j,onClick:A||u?n:V,ref:q1(v,M),target:h,"data-discover":!w&&i==="render"?"true":void 0});return N&&!w?R.createElement(R.Fragment,null,te,R.createElement($1,{page:j})):te});$v.displayName="Link";var P1=R.forwardRef(function({"aria-current":n="page",caseSensitive:i=!1,className:r="",end:l=!1,style:u,to:c,viewTransition:d,children:h,...p},g){let y=El(c,{relative:p.relative}),_=ba(),v=R.useContext(Hu),{navigator:S,basename:w}=R.useContext(On),E=v!=null&&F1(y)&&d===!0,A=S.encodeLocation?S.encodeLocation(y).pathname:y.pathname,j=_.pathname,N=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;i||(j=j.toLowerCase(),N=N?N.toLowerCase():null,A=A.toLowerCase()),N&&w&&(N=ga(N,w)||N);const M=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let $=j===A||!l&&j.startsWith(A)&&j.charAt(M)==="/",q=N!=null&&(N===A||!l&&N.startsWith(A)&&N.charAt(A.length)==="/"),V={isActive:$,isPending:q,isTransitioning:E},te=$?n:void 0,X;typeof r=="function"?X=r(V):X=[r,$?"active":null,q?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let re=typeof u=="function"?u(V):u;return R.createElement($v,{...p,"aria-current":te,className:X,ref:g,style:re,to:c,viewTransition:d},typeof h=="function"?h(V):h)});P1.displayName="NavLink";var G1=R.forwardRef(({discover:t="render",fetcherKey:n,navigate:i,reloadDocument:r,replace:l,state:u,method:c=bu,action:d,onSubmit:h,relative:p,preventScrollReset:g,viewTransition:y,..._},v)=>{let S=Z1(),w=J1(d,{relative:p}),E=c.toLowerCase()==="get"?"get":"post",A=typeof d=="string"&&Bv.test(d),j=N=>{if(h&&h(N),N.defaultPrevented)return;N.preventDefault();let M=N.nativeEvent.submitter,$=(M==null?void 0:M.getAttribute("formmethod"))||c;S(M||N.currentTarget,{fetcherKey:n,method:$,navigate:i,replace:l,state:u,relative:p,preventScrollReset:g,viewTransition:y})};return R.createElement("form",{ref:v,method:E,action:w,onSubmit:r?h:j,..._,"data-discover":!A&&t==="render"?"true":void 0})});G1.displayName="Form";function Y1(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Lv(t){let n=R.useContext(Qr);return Qe(n,Y1(t)),n}function I1(t,{target:n,replace:i,state:r,preventScrollReset:l,relative:u,viewTransition:c}={}){let d=Cn(),h=ba(),p=El(t,{relative:u});return R.useCallback(g=>{if(E1(g,n)){g.preventDefault();let y=i!==void 0?i:ll(h)===ll(p);d(t,{replace:y,state:r,preventScrollReset:l,relative:u,viewTransition:c})}},[h,d,p,i,r,n,t,l,u,c])}function K1(t){an(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let n=R.useRef(Gd(t)),i=R.useRef(!1),r=ba(),l=R.useMemo(()=>x1(r.search,i.current?null:n.current),[r.search]),u=Cn(),c=R.useCallback((d,h)=>{const p=Gd(typeof d=="function"?d(new URLSearchParams(l)):d);i.current=!0,u("?"+p,h)},[u,l]);return[l,c]}var X1=0,Q1=()=>`__${String(++X1)}__`;function Z1(){let{router:t}=Lv("useSubmit"),{basename:n}=R.useContext(On),i=d1();return R.useCallback(async(r,l={})=>{let{action:u,method:c,encType:d,formData:h,body:p}=N1(r,n);if(l.navigate===!1){let g=l.fetcherKey||Q1();await t.fetch(g,i,l.action||u,{preventScrollReset:l.preventScrollReset,formData:h,body:p,formMethod:l.method||c,formEncType:l.encType||d,flushSync:l.flushSync})}else await t.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:h,body:p,formMethod:l.method||c,formEncType:l.encType||d,replace:l.replace,state:l.state,fromRouteId:i,flushSync:l.flushSync,viewTransition:l.viewTransition})},[t,n,i])}function J1(t,{relative:n}={}){let{basename:i}=R.useContext(On),r=R.useContext(kn);Qe(r,"useFormAction must be used inside a RouteContext");let[l]=r.matches.slice(-1),u={...El(t||".",{relative:n})},c=ba();if(t==null){u.search=c.search;let d=new URLSearchParams(u.search),h=d.getAll("index");if(h.some(g=>g==="")){d.delete("index"),h.filter(y=>y).forEach(y=>d.append("index",y));let g=d.toString();u.search=g?`?${g}`:""}}return(!t||t===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(u.pathname=u.pathname==="/"?i:ma([i,u.pathname])),ll(u)}function F1(t,{relative:n}={}){let i=R.useContext(Rv);Qe(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Lv("useViewTransitionState"),l=El(t,{relative:n});if(!i.isTransitioning)return!1;let u=ga(i.currentLocation.pathname,r)||i.currentLocation.pathname,c=ga(i.nextLocation.pathname,r)||i.nextLocation.pathname;return Tu(l.pathname,c)!=null||Tu(l.pathname,u)!=null}Ev();var Yd=function(t,n){return Yd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(i[l]=r[l])},Yd(t,n)};function Hv(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");Yd(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}var Au=function(){return Au=Object.assign||function(n){for(var i,r=1,l=arguments.length;r<l;r++){i=arguments[r];for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])}return n},Au.apply(this,arguments)};function Jr(t,n){var i={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(i[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,r=Object.getOwnPropertySymbols(t);l<r.length;l++)n.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(t,r[l])&&(i[r[l]]=t[r[l]]);return i}function qv(t,n,i,r){var l=arguments.length,u=l<3?n:r===null?r=Object.getOwnPropertyDescriptor(n,i):r,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(t,n,i,r);else for(var d=t.length-1;d>=0;d--)(c=t[d])&&(u=(l<3?c(u):l>3?c(n,i,u):c(n,i))||u);return l>3&&u&&Object.defineProperty(n,i,u),u}function Vv(t,n){return function(i,r){n(i,r,t)}}function Pv(t,n,i,r,l,u){function c(A){if(A!==void 0&&typeof A!="function")throw new TypeError("Function expected");return A}for(var d=r.kind,h=d==="getter"?"get":d==="setter"?"set":"value",p=!n&&t?r.static?t:t.prototype:null,g=n||(p?Object.getOwnPropertyDescriptor(p,r.name):{}),y,_=!1,v=i.length-1;v>=0;v--){var S={};for(var w in r)S[w]=w==="access"?{}:r[w];for(var w in r.access)S.access[w]=r.access[w];S.addInitializer=function(A){if(_)throw new TypeError("Cannot add initializers after decoration has completed");u.push(c(A||null))};var E=(0,i[v])(d==="accessor"?{get:g.get,set:g.set}:g[h],S);if(d==="accessor"){if(E===void 0)continue;if(E===null||typeof E!="object")throw new TypeError("Object expected");(y=c(E.get))&&(g.get=y),(y=c(E.set))&&(g.set=y),(y=c(E.init))&&l.unshift(y)}else(y=c(E))&&(d==="field"?l.unshift(y):g[h]=y)}p&&Object.defineProperty(p,r.name,g),_=!0}function Gv(t,n,i){for(var r=arguments.length>2,l=0;l<n.length;l++)i=r?n[l].call(t,i):n[l].call(t);return r?i:void 0}function Yv(t){return typeof t=="symbol"?t:"".concat(t)}function Iv(t,n,i){return typeof n=="symbol"&&(n=n.description?"[".concat(n.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:i?"".concat(i," ",n):n})}function Kv(t,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,n)}function he(t,n,i,r){function l(u){return u instanceof i?u:new i(function(c){c(u)})}return new(i||(i=Promise))(function(u,c){function d(g){try{p(r.next(g))}catch(y){c(y)}}function h(g){try{p(r.throw(g))}catch(y){c(y)}}function p(g){g.done?u(g.value):l(g.value).then(d,h)}p((r=r.apply(t,n||[])).next())})}function Xv(t,n){var i={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},r,l,u,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=d(0),c.throw=d(1),c.return=d(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function d(p){return function(g){return h([p,g])}}function h(p){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(i=0)),i;)try{if(r=1,l&&(u=p[0]&2?l.return:p[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,p[1])).done)return u;switch(l=0,u&&(p=[p[0]&2,u.value]),p[0]){case 0:case 1:u=p;break;case 4:return i.label++,{value:p[1],done:!1};case 5:i.label++,l=p[1],p=[0];continue;case 7:p=i.ops.pop(),i.trys.pop();continue;default:if(u=i.trys,!(u=u.length>0&&u[u.length-1])&&(p[0]===6||p[0]===2)){i=0;continue}if(p[0]===3&&(!u||p[1]>u[0]&&p[1]<u[3])){i.label=p[1];break}if(p[0]===6&&i.label<u[1]){i.label=u[1],u=p;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(p);break}u[2]&&i.ops.pop(),i.trys.pop();continue}p=n.call(t,i)}catch(g){p=[6,g],l=0}finally{r=u=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}var Vu=Object.create?(function(t,n,i,r){r===void 0&&(r=i);var l=Object.getOwnPropertyDescriptor(n,i);(!l||("get"in l?!n.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return n[i]}}),Object.defineProperty(t,r,l)}):(function(t,n,i,r){r===void 0&&(r=i),t[r]=n[i]});function Qv(t,n){for(var i in t)i!=="default"&&!Object.prototype.hasOwnProperty.call(n,i)&&Vu(n,t,i)}function Nu(t){var n=typeof Symbol=="function"&&Symbol.iterator,i=n&&t[n],r=0;if(i)return i.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Nh(t,n){var i=typeof Symbol=="function"&&t[Symbol.iterator];if(!i)return t;var r=i.call(t),l,u=[],c;try{for(;(n===void 0||n-- >0)&&!(l=r.next()).done;)u.push(l.value)}catch(d){c={error:d}}finally{try{l&&!l.done&&(i=r.return)&&i.call(r)}finally{if(c)throw c.error}}return u}function Zv(){for(var t=[],n=0;n<arguments.length;n++)t=t.concat(Nh(arguments[n]));return t}function Jv(){for(var t=0,n=0,i=arguments.length;n<i;n++)t+=arguments[n].length;for(var r=Array(t),l=0,n=0;n<i;n++)for(var u=arguments[n],c=0,d=u.length;c<d;c++,l++)r[l]=u[c];return r}function Fv(t,n,i){if(i||arguments.length===2)for(var r=0,l=n.length,u;r<l;r++)(u||!(r in n))&&(u||(u=Array.prototype.slice.call(n,0,r)),u[r]=n[r]);return t.concat(u||Array.prototype.slice.call(n))}function Gr(t){return this instanceof Gr?(this.v=t,this):new Gr(t)}function Wv(t,n,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=i.apply(t,n||[]),l,u=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",c),l[Symbol.asyncIterator]=function(){return this},l;function c(v){return function(S){return Promise.resolve(S).then(v,y)}}function d(v,S){r[v]&&(l[v]=function(w){return new Promise(function(E,A){u.push([v,w,E,A])>1||h(v,w)})},S&&(l[v]=S(l[v])))}function h(v,S){try{p(r[v](S))}catch(w){_(u[0][3],w)}}function p(v){v.value instanceof Gr?Promise.resolve(v.value.v).then(g,y):_(u[0][2],v)}function g(v){h("next",v)}function y(v){h("throw",v)}function _(v,S){v(S),u.shift(),u.length&&h(u[0][0],u[0][1])}}function eb(t){var n,i;return n={},r("next"),r("throw",function(l){throw l}),r("return"),n[Symbol.iterator]=function(){return this},n;function r(l,u){n[l]=t[l]?function(c){return(i=!i)?{value:Gr(t[l](c)),done:!1}:u?u(c):c}:u}}function tb(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t[Symbol.asyncIterator],i;return n?n.call(t):(t=typeof Nu=="function"?Nu(t):t[Symbol.iterator](),i={},r("next"),r("throw"),r("return"),i[Symbol.asyncIterator]=function(){return this},i);function r(u){i[u]=t[u]&&function(c){return new Promise(function(d,h){c=t[u](c),l(d,h,c.done,c.value)})}}function l(u,c,d,h){Promise.resolve(h).then(function(p){u({value:p,done:d})},c)}}function nb(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t}var W1=Object.create?(function(t,n){Object.defineProperty(t,"default",{enumerable:!0,value:n})}):function(t,n){t.default=n},Id=function(t){return Id=Object.getOwnPropertyNames||function(n){var i=[];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[i.length]=r);return i},Id(t)};function ab(t){if(t&&t.__esModule)return t;var n={};if(t!=null)for(var i=Id(t),r=0;r<i.length;r++)i[r]!=="default"&&Vu(n,t,i[r]);return W1(n,t),n}function ib(t){return t&&t.__esModule?t:{default:t}}function rb(t,n,i,r){if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?t!==n||!r:!n.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?r:i==="a"?r.call(t):r?r.value:n.get(t)}function sb(t,n,i,r,l){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?t!==n||!l:!n.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?l.call(t,i):l?l.value=i:n.set(t,i),i}function lb(t,n){if(n===null||typeof n!="object"&&typeof n!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?n===t:t.has(n)}function ob(t,n,i){if(n!=null){if(typeof n!="object"&&typeof n!="function")throw new TypeError("Object expected.");var r,l;if(i){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=n[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=n[Symbol.dispose],i&&(l=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");l&&(r=function(){try{l.call(this)}catch(u){return Promise.reject(u)}}),t.stack.push({value:n,dispose:r,async:i})}else i&&t.stack.push({async:!0});return n}var ex=typeof SuppressedError=="function"?SuppressedError:function(t,n,i){var r=new Error(i);return r.name="SuppressedError",r.error=t,r.suppressed=n,r};function ub(t){function n(u){t.error=t.hasError?new ex(u,t.error,"An error was suppressed during disposal."):u,t.hasError=!0}var i,r=0;function l(){for(;i=t.stack.pop();)try{if(!i.async&&r===1)return r=0,t.stack.push(i),Promise.resolve().then(l);if(i.dispose){var u=i.dispose.call(i.value);if(i.async)return r|=2,Promise.resolve(u).then(l,function(c){return n(c),l()})}else r|=1}catch(c){n(c)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return l()}function cb(t,n){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(i,r,l,u,c){return r?n?".jsx":".js":l&&(!u||!c)?i:l+u+"."+c.toLowerCase()+"js"}):t}const tx={__extends:Hv,__assign:Au,__rest:Jr,__decorate:qv,__param:Vv,__esDecorate:Pv,__runInitializers:Gv,__propKey:Yv,__setFunctionName:Iv,__metadata:Kv,__awaiter:he,__generator:Xv,__createBinding:Vu,__exportStar:Qv,__values:Nu,__read:Nh,__spread:Zv,__spreadArrays:Jv,__spreadArray:Fv,__await:Gr,__asyncGenerator:Wv,__asyncDelegator:eb,__asyncValues:tb,__makeTemplateObject:nb,__importStar:ab,__importDefault:ib,__classPrivateFieldGet:rb,__classPrivateFieldSet:sb,__classPrivateFieldIn:lb,__addDisposableResource:ob,__disposeResources:ub,__rewriteRelativeImportExtension:cb},nx=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:ob,get __assign(){return Au},__asyncDelegator:eb,__asyncGenerator:Wv,__asyncValues:tb,__await:Gr,__awaiter:he,__classPrivateFieldGet:rb,__classPrivateFieldIn:lb,__classPrivateFieldSet:sb,__createBinding:Vu,__decorate:qv,__disposeResources:ub,__esDecorate:Pv,__exportStar:Qv,__extends:Hv,__generator:Xv,__importDefault:ib,__importStar:ab,__makeTemplateObject:nb,__metadata:Kv,__param:Vv,__propKey:Yv,__read:Nh,__rest:Jr,__rewriteRelativeImportExtension:cb,__runInitializers:Gv,__setFunctionName:Iv,__spread:Zv,__spreadArray:Fv,__spreadArrays:Jv,__values:Nu,default:tx},Symbol.toStringTag,{value:"Module"})),ax=t=>t?(...n)=>t(...n):(...n)=>fetch(...n);class Rh extends Error{constructor(n,i="FunctionsError",r){super(n),this.name=i,this.context=r}}class ix extends Rh{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class Wy extends Rh{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class e0 extends Rh{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var Kd;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Kd||(Kd={}));class rx{constructor(n,{headers:i={},customFetch:r,region:l=Kd.Any}={}){this.url=n,this.headers=i,this.region=l,this.fetch=ax(r)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return he(this,arguments,void 0,function*(i,r={}){var l;let u,c;try{const{headers:d,method:h,body:p,signal:g,timeout:y}=r;let _={},{region:v}=r;v||(v=this.region);const S=new URL(`${this.url}/${i}`);v&&v!=="any"&&(_["x-region"]=v,S.searchParams.set("forceFunctionRegion",v));let w;p&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(_["Content-Type"]="application/octet-stream",w=p):typeof p=="string"?(_["Content-Type"]="text/plain",w=p):typeof FormData<"u"&&p instanceof FormData?w=p:(_["Content-Type"]="application/json",w=JSON.stringify(p)):w=p;let E=g;y&&(c=new AbortController,u=setTimeout(()=>c.abort(),y),g?(E=c.signal,g.addEventListener("abort",()=>c.abort())):E=c.signal);const A=yield this.fetch(S.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},_),this.headers),d),body:w,signal:E}).catch($=>{throw new ix($)}),j=A.headers.get("x-relay-error");if(j&&j==="true")throw new Wy(A);if(!A.ok)throw new e0(A);let N=((l=A.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),M;return N==="application/json"?M=yield A.json():N==="application/octet-stream"||N==="application/pdf"?M=yield A.blob():N==="text/event-stream"?M=A:N==="multipart/form-data"?M=yield A.formData():M=yield A.text(),{data:M,error:null,response:A}}catch(d){return{data:null,error:d,response:d instanceof e0||d instanceof Wy?d.context:void 0}}finally{u&&clearTimeout(u)}})}}var Dt={};const Fr=gE(nx);var Wo={},eu={},tu={},nu={},au={},iu={},t0;function fb(){if(t0)return iu;t0=1,Object.defineProperty(iu,"__esModule",{value:!0});class t extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}}return iu.default=t,iu}var n0;function db(){if(n0)return au;n0=1,Object.defineProperty(au,"__esModule",{value:!0});const n=Fr.__importDefault(fb());class i{constructor(l){var u,c;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(u=l.shouldThrowOnError)!==null&&u!==void 0?u:!1,this.signal=l.signal,this.isMaybeSingle=(c=l.isMaybeSingle)!==null&&c!==void 0?c:!1,l.fetch?this.fetch=l.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,u){return this.headers=new Headers(this.headers),this.headers.set(l,u),this}then(l,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const c=this.fetch;let d=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var p,g,y,_;let v=null,S=null,w=null,E=h.status,A=h.statusText;if(h.ok){if(this.method!=="HEAD"){const $=await h.text();$===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?S=$:S=JSON.parse($))}const N=(g=this.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),M=(y=h.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");N&&M&&M.length>1&&(w=parseInt(M[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(v={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,w=null,E=406,A="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const N=await h.text();try{v=JSON.parse(N),Array.isArray(v)&&h.status===404&&(S=[],v=null,E=200,A="OK")}catch{h.status===404&&N===""?(E=204,A="No Content"):v={message:N}}if(v&&this.isMaybeSingle&&(!((_=v==null?void 0:v.details)===null||_===void 0)&&_.includes("0 rows"))&&(v=null,E=200,A="OK"),v&&this.shouldThrowOnError)throw new n.default(v)}return{error:v,data:S,count:w,status:E,statusText:A}});return this.shouldThrowOnError||(d=d.catch(h=>{var p,g,y,_,v,S;let w="";const E=h==null?void 0:h.cause;if(E){const A=(p=E==null?void 0:E.message)!==null&&p!==void 0?p:"",j=(g=E==null?void 0:E.code)!==null&&g!==void 0?g:"";w=`${(y=h==null?void 0:h.name)!==null&&y!==void 0?y:"FetchError"}: ${h==null?void 0:h.message}`,w+=`

Caused by: ${(_=E==null?void 0:E.name)!==null&&_!==void 0?_:"Error"}: ${A}`,j&&(w+=` (${j})`),E!=null&&E.stack&&(w+=`
${E.stack}`)}else w=(v=h==null?void 0:h.stack)!==null&&v!==void 0?v:"";return{error:{message:`${(S=h==null?void 0:h.name)!==null&&S!==void 0?S:"FetchError"}: ${h==null?void 0:h.message}`,details:w,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),d.then(l,u)}returns(){return this}overrideTypes(){return this}}return au.default=i,au}var a0;function hb(){if(a0)return nu;a0=1,Object.defineProperty(nu,"__esModule",{value:!0});const n=Fr.__importDefault(db());class i extends n.default{select(l){let u=!1;const c=(l??"*").split("").map(d=>/\s/.test(d)&&!u?"":(d==='"'&&(u=!u),d)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(l,{ascending:u=!0,nullsFirst:c,foreignTable:d,referencedTable:h=d}={}){const p=h?`${h}.order`:"order",g=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${g?`${g},`:""}${l}.${u?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:u,referencedTable:c=u}={}){const d=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${l}`),this}range(l,u,{foreignTable:c,referencedTable:d=c}={}){const h=typeof d>"u"?"offset":`${d}.offset`,p=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(h,`${l}`),this.url.searchParams.set(p,`${u-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:l=!1,verbose:u=!1,settings:c=!1,buffers:d=!1,wal:h=!1,format:p="text"}={}){var g;const y=[l?"analyze":null,u?"verbose":null,c?"settings":null,d?"buffers":null,h?"wal":null].filter(Boolean).join("|"),_=(g=this.headers.get("Accept"))!==null&&g!==void 0?g:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${_}"; options=${y};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(l){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${l}`),this}}return nu.default=i,nu}var i0;function Oh(){if(i0)return tu;i0=1,Object.defineProperty(tu,"__esModule",{value:!0});const n=Fr.__importDefault(hb()),i=new RegExp("[,()]");class r extends n.default{eq(u,c){return this.url.searchParams.append(u,`eq.${c}`),this}neq(u,c){return this.url.searchParams.append(u,`neq.${c}`),this}gt(u,c){return this.url.searchParams.append(u,`gt.${c}`),this}gte(u,c){return this.url.searchParams.append(u,`gte.${c}`),this}lt(u,c){return this.url.searchParams.append(u,`lt.${c}`),this}lte(u,c){return this.url.searchParams.append(u,`lte.${c}`),this}like(u,c){return this.url.searchParams.append(u,`like.${c}`),this}likeAllOf(u,c){return this.url.searchParams.append(u,`like(all).{${c.join(",")}}`),this}likeAnyOf(u,c){return this.url.searchParams.append(u,`like(any).{${c.join(",")}}`),this}ilike(u,c){return this.url.searchParams.append(u,`ilike.${c}`),this}ilikeAllOf(u,c){return this.url.searchParams.append(u,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(u,c){return this.url.searchParams.append(u,`ilike(any).{${c.join(",")}}`),this}regexMatch(u,c){return this.url.searchParams.append(u,`match.${c}`),this}regexIMatch(u,c){return this.url.searchParams.append(u,`imatch.${c}`),this}is(u,c){return this.url.searchParams.append(u,`is.${c}`),this}isDistinct(u,c){return this.url.searchParams.append(u,`isdistinct.${c}`),this}in(u,c){const d=Array.from(new Set(c)).map(h=>typeof h=="string"&&i.test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(u,`in.(${d})`),this}contains(u,c){return typeof c=="string"?this.url.searchParams.append(u,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(u,`cs.{${c.join(",")}}`):this.url.searchParams.append(u,`cs.${JSON.stringify(c)}`),this}containedBy(u,c){return typeof c=="string"?this.url.searchParams.append(u,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(u,`cd.{${c.join(",")}}`):this.url.searchParams.append(u,`cd.${JSON.stringify(c)}`),this}rangeGt(u,c){return this.url.searchParams.append(u,`sr.${c}`),this}rangeGte(u,c){return this.url.searchParams.append(u,`nxl.${c}`),this}rangeLt(u,c){return this.url.searchParams.append(u,`sl.${c}`),this}rangeLte(u,c){return this.url.searchParams.append(u,`nxr.${c}`),this}rangeAdjacent(u,c){return this.url.searchParams.append(u,`adj.${c}`),this}overlaps(u,c){return typeof c=="string"?this.url.searchParams.append(u,`ov.${c}`):this.url.searchParams.append(u,`ov.{${c.join(",")}}`),this}textSearch(u,c,{config:d,type:h}={}){let p="";h==="plain"?p="pl":h==="phrase"?p="ph":h==="websearch"&&(p="w");const g=d===void 0?"":`(${d})`;return this.url.searchParams.append(u,`${p}fts${g}.${c}`),this}match(u){return Object.entries(u).forEach(([c,d])=>{this.url.searchParams.append(c,`eq.${d}`)}),this}not(u,c,d){return this.url.searchParams.append(u,`not.${c}.${d}`),this}or(u,{foreignTable:c,referencedTable:d=c}={}){const h=d?`${d}.or`:"or";return this.url.searchParams.append(h,`(${u})`),this}filter(u,c,d){return this.url.searchParams.append(u,`${c}.${d}`),this}}return tu.default=r,tu}var r0;function mb(){if(r0)return eu;r0=1,Object.defineProperty(eu,"__esModule",{value:!0});const n=Fr.__importDefault(Oh());class i{constructor(l,{headers:u={},schema:c,fetch:d}){this.url=l,this.headers=new Headers(u),this.schema=c,this.fetch=d}select(l,u){const{head:c=!1,count:d}=u??{},h=c?"HEAD":"GET";let p=!1;const g=(l??"*").split("").map(y=>/\s/.test(y)&&!p?"":(y==='"'&&(p=!p),y)).join("");return this.url.searchParams.set("select",g),d&&this.headers.append("Prefer",`count=${d}`),new n.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(l,{count:u,defaultToNull:c=!0}={}){var d;const h="POST";if(u&&this.headers.append("Prefer",`count=${u}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const p=l.reduce((g,y)=>g.concat(Object.keys(y)),[]);if(p.length>0){const g=[...new Set(p)].map(y=>`"${y}"`);this.url.searchParams.set("columns",g.join(","))}}return new n.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(l,{onConflict:u,ignoreDuplicates:c=!1,count:d,defaultToNull:h=!0}={}){var p;const g="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),u!==void 0&&this.url.searchParams.set("on_conflict",u),d&&this.headers.append("Prefer",`count=${d}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const y=l.reduce((_,v)=>_.concat(Object.keys(v)),[]);if(y.length>0){const _=[...new Set(y)].map(v=>`"${v}"`);this.url.searchParams.set("columns",_.join(","))}}return new n.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(l,{count:u}={}){var c;const d="PATCH";return u&&this.headers.append("Prefer",`count=${u}`),new n.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:l}={}){var u;const c="DELETE";return l&&this.headers.append("Prefer",`count=${l}`),new n.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return eu.default=i,eu}var s0;function sx(){if(s0)return Wo;s0=1,Object.defineProperty(Wo,"__esModule",{value:!0});const t=Fr,n=t.__importDefault(mb()),i=t.__importDefault(Oh());class r{constructor(u,{headers:c={},schema:d,fetch:h}={}){this.url=u,this.headers=new Headers(c),this.schemaName=d,this.fetch=h}from(u){if(!u||typeof u!="string"||u.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const c=new URL(`${this.url}/${u}`);return new n.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new r(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,c={},{head:d=!1,get:h=!1,count:p}={}){var g;let y;const _=new URL(`${this.url}/rpc/${u}`);let v;d||h?(y=d?"HEAD":"GET",Object.entries(c).filter(([w,E])=>E!==void 0).map(([w,E])=>[w,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([w,E])=>{_.searchParams.append(w,E)})):(y="POST",v=c);const S=new Headers(this.headers);return p&&S.set("Prefer",`count=${p}`),new i.default({method:y,url:_,headers:S,schema:this.schemaName,body:v,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}}return Wo.default=r,Wo}var l0;function lx(){if(l0)return Dt;l0=1,Object.defineProperty(Dt,"__esModule",{value:!0}),Dt.PostgrestError=Dt.PostgrestBuilder=Dt.PostgrestTransformBuilder=Dt.PostgrestFilterBuilder=Dt.PostgrestQueryBuilder=Dt.PostgrestClient=void 0;const t=Fr,n=t.__importDefault(sx());Dt.PostgrestClient=n.default;const i=t.__importDefault(mb());Dt.PostgrestQueryBuilder=i.default;const r=t.__importDefault(Oh());Dt.PostgrestFilterBuilder=r.default;const l=t.__importDefault(hb());Dt.PostgrestTransformBuilder=l.default;const u=t.__importDefault(db());Dt.PostgrestBuilder=u.default;const c=t.__importDefault(fb());return Dt.PostgrestError=c.default,Dt.default={PostgrestClient:n.default,PostgrestQueryBuilder:i.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:l.default,PostgrestBuilder:u.default,PostgrestError:c.default},Dt}var pb=lx();const gb=Lu(pb),ox=pE({__proto__:null,default:gb},[pb]),{PostgrestClient:ux,PostgrestQueryBuilder:tj,PostgrestFilterBuilder:nj,PostgrestTransformBuilder:aj,PostgrestBuilder:ij,PostgrestError:rj}=gb||ox;class cx{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const i=process.versions;if(i&&i.node){const r=i.node,l=parseInt(r.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let i=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(i+=`

Suggested solution: ${n.workaround}`),new Error(i)}static createWebSocket(n,i){const r=this.getWebSocketConstructor();return new r(n,i)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const fx="2.86.0",dx=`realtime-js/${fx}`,yb="1.0.0",hx="2.0.0",o0=yb,Xd=1e4,mx=1e3,px=100;var zi;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(zi||(zi={}));var vt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(vt||(vt={}));var Tn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Tn||(Tn={}));var Qd;(function(t){t.websocket="websocket"})(Qd||(Qd={}));var Ui;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ui||(Ui={}));class gx{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,i){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return i(this._binaryEncodeUserBroadcastPush(n));let r=[n.join_ref,n.ref,n.topic,n.event,n.payload];return i(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(n){var i;return this._isArrayBuffer((i=n.payload)===null||i===void 0?void 0:i.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var i,r;const l=(r=(i=n.payload)===null||i===void 0?void 0:i.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,l)}_encodeJsonUserBroadcastPush(n){var i,r;const l=(r=(i=n.payload)===null||i===void 0?void 0:i.payload)!==null&&r!==void 0?r:{},c=new TextEncoder().encode(JSON.stringify(l)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(n,i,r){var l,u;const c=n.topic,d=(l=n.ref)!==null&&l!==void 0?l:"",h=(u=n.join_ref)!==null&&u!==void 0?u:"",p=n.payload.event,g=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},y=Object.keys(g).length===0?"":JSON.stringify(g);if(h.length>255)throw new Error(`joinRef length ${h.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`ref length ${d.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`metadata length ${y.length} exceeds maximum of 255`);const _=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+d.length+c.length+p.length+y.length,v=new ArrayBuffer(this.HEADER_LENGTH+_);let S=new DataView(v),w=0;S.setUint8(w++,this.KINDS.userBroadcastPush),S.setUint8(w++,h.length),S.setUint8(w++,d.length),S.setUint8(w++,c.length),S.setUint8(w++,p.length),S.setUint8(w++,y.length),S.setUint8(w++,i),Array.from(h,A=>S.setUint8(w++,A.charCodeAt(0))),Array.from(d,A=>S.setUint8(w++,A.charCodeAt(0))),Array.from(c,A=>S.setUint8(w++,A.charCodeAt(0))),Array.from(p,A=>S.setUint8(w++,A.charCodeAt(0))),Array.from(y,A=>S.setUint8(w++,A.charCodeAt(0)));var E=new Uint8Array(v.byteLength+r.byteLength);return E.set(new Uint8Array(v),0),E.set(new Uint8Array(r),v.byteLength),E.buffer}decode(n,i){if(this._isArrayBuffer(n)){let r=this._binaryDecode(n);return i(r)}if(typeof n=="string"){const r=JSON.parse(n),[l,u,c,d,h]=r;return i({join_ref:l,ref:u,topic:c,event:d,payload:h})}return i({})}_binaryDecode(n){const i=new DataView(n),r=i.getUint8(0),l=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(n,i,l)}}_decodeUserBroadcast(n,i,r){const l=i.getUint8(1),u=i.getUint8(2),c=i.getUint8(3),d=i.getUint8(4);let h=this.HEADER_LENGTH+4;const p=r.decode(n.slice(h,h+l));h=h+l;const g=r.decode(n.slice(h,h+u));h=h+u;const y=r.decode(n.slice(h,h+c));h=h+c;const _=n.slice(h,n.byteLength),v=d===this.JSON_ENCODING?JSON.parse(r.decode(_)):_,S={type:this.BROADCAST_EVENT,event:g,payload:v};return c>0&&(S.meta=JSON.parse(y)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:S}}_isArrayBuffer(n){var i;return n instanceof ArrayBuffer||((i=n==null?void 0:n.constructor)===null||i===void 0?void 0:i.name)==="ArrayBuffer"}_pick(n,i){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([r])=>i.includes(r)))}}let vb=class{constructor(n,i){this.callback=n,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Ve;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Ve||(Ve={}));const u0=(t,n,i={})=>{var r;const l=(r=i.skipTypes)!==null&&r!==void 0?r:[];return n?Object.keys(n).reduce((u,c)=>(u[c]=yx(c,t,n,l),u),{}):{}},yx=(t,n,i,r)=>{const l=n.find(d=>d.name===t),u=l==null?void 0:l.type,c=i[t];return u&&!r.includes(u)?bb(u,c):Zd(c)},bb=(t,n)=>{if(t.charAt(0)==="_"){const i=t.slice(1,t.length);return wx(n,i)}switch(t){case Ve.bool:return vx(n);case Ve.float4:case Ve.float8:case Ve.int2:case Ve.int4:case Ve.int8:case Ve.numeric:case Ve.oid:return bx(n);case Ve.json:case Ve.jsonb:return _x(n);case Ve.timestamp:return Sx(n);case Ve.abstime:case Ve.date:case Ve.daterange:case Ve.int4range:case Ve.int8range:case Ve.money:case Ve.reltime:case Ve.text:case Ve.time:case Ve.timestamptz:case Ve.timetz:case Ve.tsrange:case Ve.tstzrange:return Zd(n);default:return Zd(n)}},Zd=t=>t,vx=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},bx=t=>{if(typeof t=="string"){const n=parseFloat(t);if(!Number.isNaN(n))return n}return t},_x=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(n){return console.log(`JSON parse error: ${n}`),t}return t},wx=(t,n)=>{if(typeof t!="string")return t;const i=t.length-1,r=t[i];if(t[0]==="{"&&r==="}"){let u;const c=t.slice(1,i);try{u=JSON.parse("["+c+"]")}catch{u=c?c.split(","):[]}return u.map(d=>bb(n,d))}return t},Sx=t=>typeof t=="string"?t.replace(" ","T"):t,_b=t=>{const n=new URL(t);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class bd{constructor(n,i,r={},l=Xd){this.channel=n,this.event=i,this.payload=r,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,i){var r;return this._hasReceived(n)&&i((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:n,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:i}){this.recHooks.filter(r=>r.status===n).forEach(r=>r.callback(i))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var c0;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(c0||(c0={}));class rl{constructor(n,i){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(i==null?void 0:i.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},l=>{const{onJoin:u,onLeave:c,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=rl.syncState(this.state,l,u,c),this.pendingDiffs.forEach(h=>{this.state=rl.syncDiff(this.state,h,u,c)}),this.pendingDiffs=[],d()}),this.channel._on(r.diff,{},l=>{const{onJoin:u,onLeave:c,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=rl.syncDiff(this.state,l,u,c),d())}),this.onJoin((l,u,c)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:u,newPresences:c})}),this.onLeave((l,u,c)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:u,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,i,r,l){const u=this.cloneDeep(n),c=this.transformState(i),d={},h={};return this.map(u,(p,g)=>{c[p]||(h[p]=g)}),this.map(c,(p,g)=>{const y=u[p];if(y){const _=g.map(E=>E.presence_ref),v=y.map(E=>E.presence_ref),S=g.filter(E=>v.indexOf(E.presence_ref)<0),w=y.filter(E=>_.indexOf(E.presence_ref)<0);S.length>0&&(d[p]=S),w.length>0&&(h[p]=w)}else d[p]=g}),this.syncDiff(u,{joins:d,leaves:h},r,l)}static syncDiff(n,i,r,l){const{joins:u,leaves:c}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return r||(r=()=>{}),l||(l=()=>{}),this.map(u,(d,h)=>{var p;const g=(p=n[d])!==null&&p!==void 0?p:[];if(n[d]=this.cloneDeep(h),g.length>0){const y=n[d].map(v=>v.presence_ref),_=g.filter(v=>y.indexOf(v.presence_ref)<0);n[d].unshift(..._)}r(d,g,h)}),this.map(c,(d,h)=>{let p=n[d];if(!p)return;const g=h.map(y=>y.presence_ref);p=p.filter(y=>g.indexOf(y.presence_ref)<0),n[d]=p,l(d,p,h),p.length===0&&delete n[d]}),n}static map(n,i){return Object.getOwnPropertyNames(n).map(r=>i(r,n[r]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((i,r)=>{const l=n[r];return"metas"in l?i[r]=l.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):i[r]=l,i},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var f0;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(f0||(f0={}));var sl;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(sl||(sl={}));var da;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(da||(da={}));class kh{constructor(n,i={config:{}},r){var l,u;if(this.topic=n,this.params=i,this.socket=r,this.bindings={},this.state=vt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new bd(this,Tn.join,this.params,this.timeout),this.rejoinTimer=new vb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=vt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=vt.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=vt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=vt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=vt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Tn.reply,{},(c,d)=>{this._trigger(this._replyEventName(d),c)}),this.presence=new rl(this),this.broadcastEndpointURL=_b(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(l=this.params.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,i=this.timeout){var r,l,u;if(this.socket.isConnected()||this.socket.connect(),this.state==vt.closed){const{config:{broadcast:c,presence:d,private:h}}=this.params,p=(l=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(v=>v.filter))!==null&&l!==void 0?l:[],g=!!this.bindings[sl.PRESENCE]&&this.bindings[sl.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,y={},_={broadcast:c,presence:Object.assign(Object.assign({},d),{enabled:g}),postgres_changes:p,private:h};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(v=>n==null?void 0:n(da.CHANNEL_ERROR,v)),this._onClose(()=>n==null?void 0:n(da.CLOSED)),this.updateJoinPayload(Object.assign({config:_},y)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:v})=>{var S;if(this.socket.setAuth(),v===void 0){n==null||n(da.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,E=(S=w==null?void 0:w.length)!==null&&S!==void 0?S:0,A=[];for(let j=0;j<E;j++){const N=w[j],{filter:{event:M,schema:$,table:q,filter:V}}=N,te=v&&v[j];if(te&&te.event===M&&te.schema===$&&te.table===q&&te.filter===V)A.push(Object.assign(Object.assign({},N),{id:te.id}));else{this.unsubscribe(),this.state=vt.errored,n==null||n(da.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=A,n&&n(da.SUBSCRIBED);return}}).receive("error",v=>{this.state=vt.errored,n==null||n(da.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{n==null||n(da.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,i={}){return await this.send({type:"presence",event:"track",payload:n},i.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,i,r){return this.state===vt.joined&&n===sl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(n,i,r)}async httpSend(n,i,r={}){var l;const u=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(i==null)return Promise.reject("Payload is required for httpSend()");const c={method:"POST",headers:{Authorization:u,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:i,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(l=r.timeout)!==null&&l!==void 0?l:this.timeout);if(d.status===202)return{success:!0};let h=d.statusText;try{const p=await d.json();h=p.error||p.message||h}catch{}return Promise.reject(new Error(h))}async send(n,i={}){var r,l;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:c}=n,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:c,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(r=i.timeout)!==null&&r!==void 0?r:this.timeout);return await((l=p.body)===null||l===void 0?void 0:l.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var c,d,h;const p=this._push(n.type,n,i.timeout||this.timeout);n.type==="broadcast"&&!(!((h=(d=(c=this.params)===null||c===void 0?void 0:c.config)===null||d===void 0?void 0:d.broadcast)===null||h===void 0)&&h.ack)&&u("ok"),p.receive("ok",()=>u("ok")),p.receive("error",()=>u("error")),p.receive("timeout",()=>u("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=vt.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Tn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(l=>{r=new bd(this,Tn.leave,{},n),r.receive("ok",()=>{i(),l("ok")}).receive("timeout",()=>{i(),l("timed out")}).receive("error",()=>{l("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=vt.closed,this.bindings={}}async _fetchWithTimeout(n,i,r){const l=new AbortController,u=setTimeout(()=>l.abort(),r),c=await this.socket.fetch(n,Object.assign(Object.assign({},i),{signal:l.signal}));return clearTimeout(u),c}_push(n,i,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new bd(this,n,i,r);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>px){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(n,i,r){return i}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,i,r){var l,u;const c=n.toLocaleLowerCase(),{close:d,error:h,leave:p,join:g}=Tn;if(r&&[d,h,p,g].indexOf(c)>=0&&r!==this._joinRef())return;let _=this._onMessage(c,i,r);if(i&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(v=>{var S,w,E;return((S=v.filter)===null||S===void 0?void 0:S.event)==="*"||((E=(w=v.filter)===null||w===void 0?void 0:w.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===c}).map(v=>v.callback(_,r)):(u=this.bindings[c])===null||u===void 0||u.filter(v=>{var S,w,E,A,j,N;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in v){const M=v.id,$=(S=v.filter)===null||S===void 0?void 0:S.event;return M&&((w=i.ids)===null||w===void 0?void 0:w.includes(M))&&($==="*"||($==null?void 0:$.toLocaleLowerCase())===((E=i.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const M=(j=(A=v==null?void 0:v.filter)===null||A===void 0?void 0:A.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return M==="*"||M===((N=i==null?void 0:i.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===c}).map(v=>{if(typeof _=="object"&&"ids"in _){const S=_.data,{schema:w,table:E,commit_timestamp:A,type:j,errors:N}=S;_=Object.assign(Object.assign({},{schema:w,table:E,commit_timestamp:A,eventType:j,new:{},old:{},errors:N}),this._getPayloadRecords(S))}v.callback(_,r)})}_isClosed(){return this.state===vt.closed}_isJoined(){return this.state===vt.joined}_isJoining(){return this.state===vt.joining}_isLeaving(){return this.state===vt.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,i,r){const l=n.toLocaleLowerCase(),u={type:l,filter:i,callback:r};return this.bindings[l]?this.bindings[l].push(u):this.bindings[l]=[u],this}_off(n,i){const r=n.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(l=>{var u;return!(((u=l.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===r&&kh.isEqual(l.filter,i))})),this}static isEqual(n,i){if(Object.keys(n).length!==Object.keys(i).length)return!1;for(const r in n)if(n[r]!==i[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Tn.close,{},n)}_onError(n){this._on(Tn.error,{},i=>n(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=vt.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const i={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(i.new=u0(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(i.old=u0(n.columns,n.old_record)),i}}const _d=()=>{},ru={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Ex=[1e3,2e3,5e3,1e4],xx=1e4,Tx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ax{constructor(n,i){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Xd,this.transport=null,this.heartbeatIntervalMs=ru.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=_d,this.ref=0,this.reconnectTimer=null,this.vsn=o0,this.logger=_d,this.conn=null,this.sendBuffer=[],this.serializer=new gx,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=l=>l?(...u)=>l(...u):(...u)=>fetch(...u),!(!((r=i==null?void 0:i.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${n}/${Qd.websocket}`,this.httpEndpoint=_b(n),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i==null?void 0:i.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=cx.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const i=n.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,i??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const i=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const n=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,i,r){this.logger(n,i,r)}connectionState(){switch(this.conn&&this.conn.readyState){case zi.connecting:return Ui.Connecting;case zi.open:return Ui.Open;case zi.closing:return Ui.Closing;default:return Ui.Closed}}isConnected(){return this.connectionState()===Ui.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,i={config:{}}){const r=`realtime:${n}`,l=this.getChannels().find(u=>u.topic===r);if(l)return l;{const u=new kh(`realtime:${n}`,i,this);return this.channels.push(u),u}}push(n){const{topic:i,event:r,payload:l,ref:u}=n,c=()=>{this.encode(n,d=>{var h;(h=this.conn)===null||h===void 0||h.send(d)})};this.log("push",`${i} ${r} (${u})`,l),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(mx,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},ru.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let i=this.channels.find(r=>r.topic===n&&(r._isJoined()||r._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${n}"`),i.unsubscribe())}_remove(n){this.channels=this.channels.filter(i=>i.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply")try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}i.ref&&i.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:l,payload:u,ref:c}=i,d=c?`(${c})`:"",h=u.status||"";this.log("receive",`${h} ${r} ${l} ${d}`.trim(),u),this.channels.filter(p=>p._isMember(r)).forEach(p=>p._trigger(l,u,c)),this._triggerStateCallbacks("message",i)})}_clearTimer(n){var i;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_teardownConnection(){if(this.conn){if(this.conn.readyState===zi.open||this.conn.readyState===zi.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(i=>{this.log("error","error waiting for auth on connect",i),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this.workerRef.terminate()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){var i;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(Tn.error))}_appendParams(n,i){if(Object.keys(i).length===0)return n;const r=n.match(/\?/)?"&":"?",l=new URLSearchParams(i);return`${n}${r}${l}`}_workerObjectUrl(n){let i;if(n)i=n;else{const r=new Blob([Tx],{type:"application/javascript"});i=URL.createObjectURL(r)}return i}_setConnectionState(n,i=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(n=null){let i;n?i=n:this.accessToken?i=await this.accessToken():i=this.accessTokenValue,this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(r=>{const l={access_token:i,version:dx};i&&r.updateJoinPayload(l),r.joinedOnce&&r._isJoined()&&r._push(Tn.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this.setAuth().catch(i=>{this.log("error",`error setting auth in ${n}`,i)})}_triggerStateCallbacks(n,i){try{this.stateChangeCallbacks[n].forEach(r=>{try{r(i)}catch(l){this.log("error",`error in ${n} callback`,l)}})}catch(r){this.log("error",`error triggering ${n} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new vb(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ru.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var i,r,l,u,c,d,h,p,g,y,_,v;switch(this.transport=(i=n==null?void 0:n.transport)!==null&&i!==void 0?i:null,this.timeout=(r=n==null?void 0:n.timeout)!==null&&r!==void 0?r:Xd,this.heartbeatIntervalMs=(l=n==null?void 0:n.heartbeatIntervalMs)!==null&&l!==void 0?l:ru.HEARTBEAT_INTERVAL,this.worker=(u=n==null?void 0:n.worker)!==null&&u!==void 0?u:!1,this.accessToken=(c=n==null?void 0:n.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(d=n==null?void 0:n.heartbeatCallback)!==null&&d!==void 0?d:_d,this.vsn=(h=n==null?void 0:n.vsn)!==null&&h!==void 0?h:o0,n!=null&&n.params&&(this.params=n.params),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=n==null?void 0:n.reconnectAfterMs)!==null&&p!==void 0?p:(S=>Ex[S-1]||xx),this.vsn){case yb:this.encode=(g=n==null?void 0:n.encode)!==null&&g!==void 0?g:((S,w)=>w(JSON.stringify(S))),this.decode=(y=n==null?void 0:n.decode)!==null&&y!==void 0?y:((S,w)=>w(JSON.parse(S)));break;case hx:this.encode=(_=n==null?void 0:n.encode)!==null&&_!==void 0?_:this.serializer.encode.bind(this.serializer),this.decode=(v=n==null?void 0:n.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n==null?void 0:n.workerUrl}}}class Pu extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function et(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Nx extends Pu{constructor(n,i,r){super(n),this.name="StorageApiError",this.status=i,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Jd extends Pu{constructor(n,i){super(n),this.name="StorageUnknownError",this.originalError=i}}const Ch=t=>t?(...n)=>t(...n):(...n)=>fetch(...n),Rx=()=>Response,Fd=t=>{if(Array.isArray(t))return t.map(i=>Fd(i));if(typeof t=="function"||t!==Object(t))return t;const n={};return Object.entries(t).forEach(([i,r])=>{const l=i.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));n[l]=Fd(r)}),n},Ox=t=>{if(typeof t!="object"||t===null)return!1;const n=Object.getPrototypeOf(t);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},kx=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t),wd=t=>{var n;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(n=t.error)===null||n===void 0?void 0:n.message)||JSON.stringify(t)},Cx=(t,n,i)=>he(void 0,void 0,void 0,function*(){const r=yield Rx();t instanceof r&&!(i!=null&&i.noResolveJson)?t.json().then(l=>{const u=t.status||500,c=(l==null?void 0:l.statusCode)||u+"";n(new Nx(wd(l),u,c))}).catch(l=>{n(new Jd(wd(l),l))}):n(new Jd(wd(t),t))}),jx=(t,n,i,r)=>{const l={method:t,headers:(n==null?void 0:n.headers)||{}};return t==="GET"||!r?l:(Ox(r)?(l.headers=Object.assign({"Content-Type":"application/json"},n==null?void 0:n.headers),l.body=JSON.stringify(r)):l.body=r,n!=null&&n.duplex&&(l.duplex=n.duplex),Object.assign(Object.assign({},l),i))};function xl(t,n,i,r,l,u){return he(this,void 0,void 0,function*(){return new Promise((c,d)=>{t(i,jx(n,r,l,u)).then(h=>{if(!h.ok)throw h;return r!=null&&r.noResolveJson?h:h.json()}).then(h=>c(h)).catch(h=>Cx(h,d,r))})})}function ol(t,n,i,r){return he(this,void 0,void 0,function*(){return xl(t,"GET",n,i,r)})}function xn(t,n,i,r,l){return he(this,void 0,void 0,function*(){return xl(t,"POST",n,r,l,i)})}function Wd(t,n,i,r,l){return he(this,void 0,void 0,function*(){return xl(t,"PUT",n,r,l,i)})}function Mx(t,n,i,r){return he(this,void 0,void 0,function*(){return xl(t,"HEAD",n,Object.assign(Object.assign({},i),{noResolveJson:!0}),r)})}function jh(t,n,i,r,l){return he(this,void 0,void 0,function*(){return xl(t,"DELETE",n,r,l,i)})}class Dx{constructor(n,i){this.downloadFn=n,this.shouldThrowOnError=i}then(n,i){return this.execute().then(n,i)}execute(){return he(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}}var wb;class zx{constructor(n,i){this.downloadFn=n,this.shouldThrowOnError=i,this[wb]="BlobDownloadBuilder",this.promise=null}asStream(){return new Dx(this.downloadFn,this.shouldThrowOnError)}then(n,i){return this.getPromise().then(n,i)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return he(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}}wb=Symbol.toStringTag;const Ux={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},d0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Bx{constructor(n,i={},r,l){this.shouldThrowOnError=!1,this.url=n,this.headers=i,this.bucketId=r,this.fetch=Ch(l)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(n,i,r,l){return he(this,void 0,void 0,function*(){try{let u;const c=Object.assign(Object.assign({},d0),l);let d=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(c.upsert)});const h=c.metadata;typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),h&&u.append("metadata",this.encodeMetadata(h)),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.has("cacheControl")||u.append("cacheControl",c.cacheControl),h&&!u.has("metadata")&&u.append("metadata",this.encodeMetadata(h))):(u=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType,h&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(h))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!c.duplex&&(c.duplex="half")),l!=null&&l.headers&&(d=Object.assign(Object.assign({},d),l.headers));const p=this._removeEmptyFolders(i),g=this._getFinalPath(p),y=yield(n=="PUT"?Wd:xn)(this.fetch,`${this.url}/object/${g}`,u,Object.assign({headers:d},c!=null&&c.duplex?{duplex:c.duplex}:{}));return{data:{path:p,id:y.Id,fullPath:y.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(et(u))return{data:null,error:u};throw u}})}upload(n,i,r){return he(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,i,r)})}uploadToSignedUrl(n,i,r,l){return he(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),d=new URL(this.url+`/object/upload/sign/${c}`);d.searchParams.set("token",i);try{let h;const p=Object.assign({upsert:d0.upsert},l),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&r instanceof Blob?(h=new FormData,h.append("cacheControl",p.cacheControl),h.append("",r)):typeof FormData<"u"&&r instanceof FormData?(h=r,h.append("cacheControl",p.cacheControl)):(h=r,g["cache-control"]=`max-age=${p.cacheControl}`,g["content-type"]=p.contentType);const y=yield Wd(this.fetch,d.toString(),h,{headers:g});return{data:{path:u,fullPath:y.Key},error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(et(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(n,i){return he(this,void 0,void 0,function*(){try{let r=this._getFinalPath(n);const l=Object.assign({},this.headers);i!=null&&i.upsert&&(l["x-upsert"]="true");const u=yield xn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:l}),c=new URL(this.url+u.url),d=c.searchParams.get("token");if(!d)throw new Pu("No token returned by API");return{data:{signedUrl:c.toString(),path:n,token:d},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}})}update(n,i,r){return he(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,i,r)})}move(n,i,r){return he(this,void 0,void 0,function*(){try{return{data:yield xn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:i,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(et(l))return{data:null,error:l};throw l}})}copy(n,i,r){return he(this,void 0,void 0,function*(){try{return{data:{path:(yield xn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:i,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(et(l))return{data:null,error:l};throw l}})}createSignedUrl(n,i,r){return he(this,void 0,void 0,function*(){try{let l=this._getFinalPath(n),u=yield xn(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:i},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const c=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${c}`)},{data:u,error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(et(l))return{data:null,error:l};throw l}})}createSignedUrls(n,i,r){return he(this,void 0,void 0,function*(){try{const l=yield xn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:i,paths:n},{headers:this.headers}),u=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:l.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${u}`):null})),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(et(l))return{data:null,error:l};throw l}})}download(n,i){const l=typeof(i==null?void 0:i.transform)<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString((i==null?void 0:i.transform)||{}),c=u?`?${u}`:"",d=this._getFinalPath(n),h=()=>ol(this.fetch,`${this.url}/${l}/${d}${c}`,{headers:this.headers,noResolveJson:!0});return new zx(h,this.shouldThrowOnError)}info(n){return he(this,void 0,void 0,function*(){const i=this._getFinalPath(n);try{const r=yield ol(this.fetch,`${this.url}/object/info/${i}`,{headers:this.headers});return{data:Fd(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}})}exists(n){return he(this,void 0,void 0,function*(){const i=this._getFinalPath(n);try{return yield Mx(this.fetch,`${this.url}/object/${i}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(et(r)&&r instanceof Jd){const l=r.originalError;if([400,404].includes(l==null?void 0:l.status))return{data:!1,error:r}}throw r}})}getPublicUrl(n,i){const r=this._getFinalPath(n),l=[],u=i!=null&&i.download?`download=${i.download===!0?"":i.download}`:"";u!==""&&l.push(u);const d=typeof(i==null?void 0:i.transform)<"u"?"render/image":"object",h=this.transformOptsToQueryString((i==null?void 0:i.transform)||{});h!==""&&l.push(h);let p=l.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${r}${p}`)}}}remove(n){return he(this,void 0,void 0,function*(){try{return{data:yield jh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(et(i))return{data:null,error:i};throw i}})}list(n,i,r){return he(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},Ux),i),{prefix:n||""});return{data:yield xn(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},r),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(et(l))return{data:null,error:l};throw l}})}listV2(n,i){return he(this,void 0,void 0,function*(){try{const r=Object.assign({},n);return{data:yield xn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},i),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const i=[];return n.width&&i.push(`width=${n.width}`),n.height&&i.push(`height=${n.height}`),n.resize&&i.push(`resize=${n.resize}`),n.format&&i.push(`format=${n.format}`),n.quality&&i.push(`quality=${n.quality}`),i.join("&")}}const Sb="2.86.0",Eb={"X-Client-Info":`storage-js/${Sb}`};class $x{constructor(n,i={},r,l){this.shouldThrowOnError=!1;const u=new URL(n);l!=null&&l.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Eb),i),this.fetch=Ch(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(n){return he(this,void 0,void 0,function*(){try{const i=this.listBucketOptionsToQueryString(n);return{data:yield ol(this.fetch,`${this.url}/bucket${i}`,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(et(i))return{data:null,error:i};throw i}})}getBucket(n){return he(this,void 0,void 0,function*(){try{return{data:yield ol(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(et(i))return{data:null,error:i};throw i}})}createBucket(n){return he(this,arguments,void 0,function*(i,r={public:!1}){try{return{data:yield xn(this.fetch,`${this.url}/bucket`,{id:i,name:i,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(et(l))return{data:null,error:l};throw l}})}updateBucket(n,i){return he(this,void 0,void 0,function*(){try{return{data:yield Wd(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}})}emptyBucket(n){return he(this,void 0,void 0,function*(){try{return{data:yield xn(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(et(i))return{data:null,error:i};throw i}})}deleteBucket(n){return he(this,void 0,void 0,function*(){try{return{data:yield jh(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(et(i))return{data:null,error:i};throw i}})}listBucketOptionsToQueryString(n){const i={};return n&&("limit"in n&&(i.limit=String(n.limit)),"offset"in n&&(i.offset=String(n.offset)),n.search&&(i.search=n.search),n.sortColumn&&(i.sortColumn=n.sortColumn),n.sortOrder&&(i.sortOrder=n.sortOrder)),Object.keys(i).length>0?"?"+new URLSearchParams(i).toString():""}}var ul=class extends Error{constructor(t,n){var i;super(t),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&((i=n.icebergType)==null?void 0:i.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Lx(t,n,i){const r=new URL(n,t);if(i)for(const[l,u]of Object.entries(i))u!==void 0&&r.searchParams.set(l,u);return r.toString()}async function Hx(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function qx(t){const n=t.fetchImpl??globalThis.fetch;return{async request({method:i,path:r,query:l,body:u,headers:c}){const d=Lx(t.baseUrl,r,l),h=await Hx(t.auth),p=await n(d,{method:i,headers:{...u?{"Content-Type":"application/json"}:{},...h,...c},body:u?JSON.stringify(u):void 0}),g=await p.text(),y=(p.headers.get("content-type")||"").includes("application/json"),_=y&&g?JSON.parse(g):g;if(!p.ok){const v=y?_:void 0,S=v==null?void 0:v.error;throw new ul((S==null?void 0:S.message)??`Request failed with status ${p.status}`,{status:p.status,icebergType:S==null?void 0:S.type,icebergCode:S==null?void 0:S.code,details:v})}return{status:p.status,headers:p.headers,data:_}}}}function su(t){return t.join("")}var Vx=class{constructor(t,n=""){this.client=t,this.prefix=n}async listNamespaces(t){const n=t?{parent:su(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,n){const i={namespace:t.namespace,properties:n==null?void 0:n.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:i})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${su(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${su(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${su(t.namespace)}`}),!0}catch(n){if(n instanceof ul&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(t,n){try{return await this.createNamespace(t,n)}catch(i){if(i instanceof ul&&i.status===409)return;throw i}}};function Ar(t){return t.join("")}var Px=class{constructor(t,n="",i){this.client=t,this.prefix=n,this.accessDelegation=i}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ar(t.namespace)}/tables`})).data.identifiers}async createTable(t,n){const i={};return this.accessDelegation&&(i["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ar(t.namespace)}/tables`,body:n,headers:i})).data.metadata}async updateTable(t,n){const i=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ar(t.namespace)}/tables/${t.name}`,body:n});return{"metadata-location":i.data["metadata-location"],metadata:i.data.metadata}}async dropTable(t,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ar(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((n==null?void 0:n.purge)??!1)}})}async loadTable(t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ar(t.namespace)}/tables/${t.name}`,headers:n})).data.metadata}async tableExists(t){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ar(t.namespace)}/tables/${t.name}`,headers:n}),!0}catch(i){if(i instanceof ul&&i.status===404)return!1;throw i}}async createTableIfNotExists(t,n){try{return await this.createTable(t,n)}catch(i){if(i instanceof ul&&i.status===409)return await this.loadTable({namespace:t.namespace,name:n.name});throw i}}},Gx=class{constructor(t){var r;let n="v1";t.catalogName&&(n+=`/${t.catalogName}`);const i=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=qx({baseUrl:i,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(r=t.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new Vx(this.client,n),this.tableOps=new Px(this.client,n,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,n){return this.namespaceOps.createNamespace(t,n)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,n){return this.tableOps.createTable(t,n)}async updateTable(t,n){return this.tableOps.updateTable(t,n)}async dropTable(t,n){await this.tableOps.dropTable(t,n)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,n){return this.namespaceOps.createNamespaceIfNotExists(t,n)}async createTableIfNotExists(t,n){return this.tableOps.createTableIfNotExists(t,n)}};class Yx{constructor(n,i={},r){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Eb),i),this.fetch=Ch(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(n){return he(this,void 0,void 0,function*(){try{return{data:yield xn(this.fetch,`${this.url}/bucket`,{name:n},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(et(i))return{data:null,error:i};throw i}})}listBuckets(n){return he(this,void 0,void 0,function*(){try{const i=new URLSearchParams;(n==null?void 0:n.limit)!==void 0&&i.set("limit",n.limit.toString()),(n==null?void 0:n.offset)!==void 0&&i.set("offset",n.offset.toString()),n!=null&&n.sortColumn&&i.set("sortColumn",n.sortColumn),n!=null&&n.sortOrder&&i.set("sortOrder",n.sortOrder),n!=null&&n.search&&i.set("search",n.search);const r=i.toString(),l=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield ol(this.fetch,l,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(et(i))return{data:null,error:i};throw i}})}deleteBucket(n){return he(this,void 0,void 0,function*(){try{return{data:yield jh(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(et(i))return{data:null,error:i};throw i}})}from(n){if(!kx(n))throw new Pu("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new Gx({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:()=>he(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const Mh={"X-Client-Info":`storage-js/${Sb}`,"Content-Type":"application/json"};class xb extends Error{constructor(n){super(n),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function tn(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Sd extends xb{constructor(n,i,r){super(n),this.name="StorageVectorsApiError",this.status=i,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ix extends xb{constructor(n,i){super(n),this.name="StorageVectorsUnknownError",this.originalError=i}}var h0;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(h0||(h0={}));const Dh=t=>t?(...n)=>t(...n):(...n)=>fetch(...n),Kx=t=>{if(typeof t!="object"||t===null)return!1;const n=Object.getPrototypeOf(t);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},m0=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Xx=(t,n,i)=>he(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(i!=null&&i.noResolveJson)){const l=t.status||500,u=t;if(typeof u.json=="function")u.json().then(c=>{const d=(c==null?void 0:c.statusCode)||(c==null?void 0:c.code)||l+"";n(new Sd(m0(c),l,d))}).catch(()=>{const c=l+"",d=u.statusText||`HTTP ${l} error`;n(new Sd(d,l,c))});else{const c=l+"",d=u.statusText||`HTTP ${l} error`;n(new Sd(d,l,c))}}else n(new Ix(m0(t),t))}),Qx=(t,n,i,r)=>{const l={method:t,headers:(n==null?void 0:n.headers)||{}};return r?(Kx(r)?(l.headers=Object.assign({"Content-Type":"application/json"},n==null?void 0:n.headers),l.body=JSON.stringify(r)):l.body=r,Object.assign(Object.assign({},l),i)):l};function Zx(t,n,i,r,l,u){return he(this,void 0,void 0,function*(){return new Promise((c,d)=>{t(i,Qx(n,r,l,u)).then(h=>{if(!h.ok)throw h;if(r!=null&&r.noResolveJson)return h;const p=h.headers.get("content-type");return!p||!p.includes("application/json")?{}:h.json()}).then(h=>c(h)).catch(h=>Xx(h,d,r))})})}function nn(t,n,i,r,l){return he(this,void 0,void 0,function*(){return Zx(t,"POST",n,r,l,i)})}class Jx{constructor(n,i={},r){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Mh),i),this.fetch=Dh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(n){return he(this,void 0,void 0,function*(){try{return{data:(yield nn(this.fetch,`${this.url}/CreateIndex`,n,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(tn(i))return{data:null,error:i};throw i}})}getIndex(n,i){return he(this,void 0,void 0,function*(){try{return{data:yield nn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:n,indexName:i},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tn(r))return{data:null,error:r};throw r}})}listIndexes(n){return he(this,void 0,void 0,function*(){try{return{data:yield nn(this.fetch,`${this.url}/ListIndexes`,n,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(tn(i))return{data:null,error:i};throw i}})}deleteIndex(n,i){return he(this,void 0,void 0,function*(){try{return{data:(yield nn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:n,indexName:i},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tn(r))return{data:null,error:r};throw r}})}}class Fx{constructor(n,i={},r){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Mh),i),this.fetch=Dh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(n){return he(this,void 0,void 0,function*(){try{if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield nn(this.fetch,`${this.url}/PutVectors`,n,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(tn(i))return{data:null,error:i};throw i}})}getVectors(n){return he(this,void 0,void 0,function*(){try{return{data:yield nn(this.fetch,`${this.url}/GetVectors`,n,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(tn(i))return{data:null,error:i};throw i}})}listVectors(n){return he(this,void 0,void 0,function*(){try{if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return{data:yield nn(this.fetch,`${this.url}/ListVectors`,n,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(tn(i))return{data:null,error:i};throw i}})}queryVectors(n){return he(this,void 0,void 0,function*(){try{return{data:yield nn(this.fetch,`${this.url}/QueryVectors`,n,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(tn(i))return{data:null,error:i};throw i}})}deleteVectors(n){return he(this,void 0,void 0,function*(){try{if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield nn(this.fetch,`${this.url}/DeleteVectors`,n,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(tn(i))return{data:null,error:i};throw i}})}}class Wx{constructor(n,i={},r){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Mh),i),this.fetch=Dh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(n){return he(this,void 0,void 0,function*(){try{return{data:(yield nn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(tn(i))return{data:null,error:i};throw i}})}getBucket(n){return he(this,void 0,void 0,function*(){try{return{data:yield nn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:n},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(tn(i))return{data:null,error:i};throw i}})}listBuckets(){return he(this,arguments,void 0,function*(n={}){try{return{data:yield nn(this.fetch,`${this.url}/ListVectorBuckets`,n,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(tn(i))return{data:null,error:i};throw i}})}deleteBucket(n){return he(this,void 0,void 0,function*(){try{return{data:(yield nn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(tn(i))return{data:null,error:i};throw i}})}}class eT extends Wx{constructor(n,i={}){super(n,i.headers||{},i.fetch)}from(n){return new tT(this.url,this.headers,n,this.fetch)}createBucket(n){const i=Object.create(null,{createBucket:{get:()=>super.createBucket}});return he(this,void 0,void 0,function*(){return i.createBucket.call(this,n)})}getBucket(n){const i=Object.create(null,{getBucket:{get:()=>super.getBucket}});return he(this,void 0,void 0,function*(){return i.getBucket.call(this,n)})}listBuckets(){const n=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return he(this,arguments,void 0,function*(i={}){return n.listBuckets.call(this,i)})}deleteBucket(n){const i=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return he(this,void 0,void 0,function*(){return i.deleteBucket.call(this,n)})}}class tT extends Jx{constructor(n,i,r,l){super(n,i,l),this.vectorBucketName=r}createIndex(n){const i=Object.create(null,{createIndex:{get:()=>super.createIndex}});return he(this,void 0,void 0,function*(){return i.createIndex.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const n=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return he(this,arguments,void 0,function*(i={}){return n.listIndexes.call(this,Object.assign(Object.assign({},i),{vectorBucketName:this.vectorBucketName}))})}getIndex(n){const i=Object.create(null,{getIndex:{get:()=>super.getIndex}});return he(this,void 0,void 0,function*(){return i.getIndex.call(this,this.vectorBucketName,n)})}deleteIndex(n){const i=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return he(this,void 0,void 0,function*(){return i.deleteIndex.call(this,this.vectorBucketName,n)})}index(n){return new nT(this.url,this.headers,this.vectorBucketName,n,this.fetch)}}class nT extends Fx{constructor(n,i,r,l,u){super(n,i,u),this.vectorBucketName=r,this.indexName=l}putVectors(n){const i=Object.create(null,{putVectors:{get:()=>super.putVectors}});return he(this,void 0,void 0,function*(){return i.putVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(n){const i=Object.create(null,{getVectors:{get:()=>super.getVectors}});return he(this,void 0,void 0,function*(){return i.getVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const n=Object.create(null,{listVectors:{get:()=>super.listVectors}});return he(this,arguments,void 0,function*(i={}){return n.listVectors.call(this,Object.assign(Object.assign({},i),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(n){const i=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return he(this,void 0,void 0,function*(){return i.queryVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(n){const i=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return he(this,void 0,void 0,function*(){return i.deleteVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class aT extends $x{constructor(n,i={},r,l){super(n,i,r,l)}from(n){return new Bx(this.url,this.headers,n,this.fetch)}get vectors(){return new eT(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Yx(this.url+"/iceberg",this.headers,this.fetch)}}const iT="2.86.0";let tl="";typeof Deno<"u"?tl="deno":typeof document<"u"?tl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?tl="react-native":tl="node";const rT={"X-Client-Info":`supabase-js-${tl}/${iT}`},sT={headers:rT},lT={schema:"public"},oT={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},uT={},cT=t=>t?(...n)=>t(...n):(...n)=>fetch(...n),fT=()=>Headers,dT=(t,n,i)=>{const r=cT(i),l=fT();return async(u,c)=>{var d;const h=(d=await n())!==null&&d!==void 0?d:t;let p=new l(c==null?void 0:c.headers);return p.has("apikey")||p.set("apikey",t),p.has("Authorization")||p.set("Authorization",`Bearer ${h}`),r(u,Object.assign(Object.assign({},c),{headers:p}))}};function hT(t){return t.endsWith("/")?t:t+"/"}function mT(t,n){var i,r;const{db:l,auth:u,realtime:c,global:d}=t,{db:h,auth:p,realtime:g,global:y}=n,_={db:Object.assign(Object.assign({},h),l),auth:Object.assign(Object.assign({},p),u),realtime:Object.assign(Object.assign({},g),c),storage:{},global:Object.assign(Object.assign(Object.assign({},y),d),{headers:Object.assign(Object.assign({},(i=y==null?void 0:y.headers)!==null&&i!==void 0?i:{}),(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?_.accessToken=t.accessToken:delete _.accessToken,_}function pT(t){const n=t==null?void 0:t.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(hT(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Tb="2.86.0",Br=30*1e3,eh=3,Ed=eh*Br,gT="http://localhost:9999",yT="supabase.auth.token",vT={"X-Client-Info":`gotrue-js/${Tb}`},th="X-Supabase-Api-Version",Ab={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},bT=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,_T=600*1e3;class cl extends Error{constructor(n,i,r){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=r}}function pe(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class wT extends cl{constructor(n,i,r){super(n,i,r),this.name="AuthApiError",this.status=i,this.code=r}}function ST(t){return pe(t)&&t.name==="AuthApiError"}class Bi extends cl{constructor(n,i){super(n),this.name="AuthUnknownError",this.originalError=i}}class li extends cl{constructor(n,i,r,l){super(n,r,l),this.name=i,this.status=r}}class en extends li{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ET(t){return pe(t)&&t.name==="AuthSessionMissingError"}class Nr extends li{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class lu extends li{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class ou extends li{constructor(n,i=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function xT(t){return pe(t)&&t.name==="AuthImplicitGrantRedirectError"}class p0 extends li{constructor(n,i=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class nh extends li{constructor(n,i){super(n,"AuthRetryableFetchError",i,void 0)}}function xd(t){return pe(t)&&t.name==="AuthRetryableFetchError"}class g0 extends li{constructor(n,i,r){super(n,"AuthWeakPasswordError",i,"weak_password"),this.reasons=r}}class ah extends li{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ru="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),y0=` 	
\r=`.split(""),TT=(()=>{const t=new Array(128);for(let n=0;n<t.length;n+=1)t[n]=-1;for(let n=0;n<y0.length;n+=1)t[y0[n].charCodeAt(0)]=-2;for(let n=0;n<Ru.length;n+=1)t[Ru[n].charCodeAt(0)]=n;return t})();function v0(t,n,i){if(t!==null)for(n.queue=n.queue<<8|t,n.queuedBits+=8;n.queuedBits>=6;){const r=n.queue>>n.queuedBits-6&63;i(Ru[r]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const r=n.queue>>n.queuedBits-6&63;i(Ru[r]),n.queuedBits-=6}}function Nb(t,n,i){const r=TT[t];if(r>-1)for(n.queue=n.queue<<6|r,n.queuedBits+=6;n.queuedBits>=8;)i(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function b0(t){const n=[],i=c=>{n.push(String.fromCodePoint(c))},r={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},u=c=>{RT(c,r,i)};for(let c=0;c<t.length;c+=1)Nb(t.charCodeAt(c),l,u);return n.join("")}function AT(t,n){if(t<=127){n(t);return}else if(t<=2047){n(192|t>>6),n(128|t&63);return}else if(t<=65535){n(224|t>>12),n(128|t>>6&63),n(128|t&63);return}else if(t<=1114111){n(240|t>>18),n(128|t>>12&63),n(128|t>>6&63),n(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function NT(t,n){for(let i=0;i<t.length;i+=1){let r=t.charCodeAt(i);if(r>55295&&r<=56319){const l=(r-55296)*1024&65535;r=(t.charCodeAt(i+1)-56320&65535|l)+65536,i+=1}AT(r,n)}}function RT(t,n,i){if(n.utf8seq===0){if(t<=127){i(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){n.utf8seq=r;break}if(n.utf8seq===2)n.codepoint=t&31;else if(n.utf8seq===3)n.codepoint=t&15;else if(n.utf8seq===4)n.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|t&63,n.utf8seq-=1,n.utf8seq===0&&i(n.codepoint)}}function Hr(t){const n=[],i={queue:0,queuedBits:0},r=l=>{n.push(l)};for(let l=0;l<t.length;l+=1)Nb(t.charCodeAt(l),i,r);return new Uint8Array(n)}function OT(t){const n=[];return NT(t,i=>n.push(i)),new Uint8Array(n)}function $i(t){const n=[],i={queue:0,queuedBits:0},r=l=>{n.push(l)};return t.forEach(l=>v0(l,i,r)),v0(null,i,r),n.join("")}function kT(t){return Math.round(Date.now()/1e3)+t}function CT(){return Symbol("auth-callback")}const kt=()=>typeof window<"u"&&typeof document<"u",Ci={tested:!1,writable:!1},Rb=()=>{if(!kt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ci.tested)return Ci.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ci.tested=!0,Ci.writable=!0}catch{Ci.tested=!0,Ci.writable=!1}return Ci.writable};function jT(t){const n={},i=new URL(t);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((l,u)=>{n[u]=l})}catch{}return i.searchParams.forEach((r,l)=>{n[l]=r}),n}const Ob=t=>t?(...n)=>t(...n):(...n)=>fetch(...n),MT=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",$r=async(t,n,i)=>{await t.setItem(n,JSON.stringify(i))},ji=async(t,n)=>{const i=await t.getItem(n);if(!i)return null;try{return JSON.parse(i)}catch{return i}},Fa=async(t,n)=>{await t.removeItem(n)};class Gu{constructor(){this.promise=new Gu.promiseConstructor((n,i)=>{this.resolve=n,this.reject=i})}}Gu.promiseConstructor=Promise;function Td(t){const n=t.split(".");if(n.length!==3)throw new ah("Invalid JWT structure");for(let r=0;r<n.length;r++)if(!bT.test(n[r]))throw new ah("JWT not in base64url format");return{header:JSON.parse(b0(n[0])),payload:JSON.parse(b0(n[1])),signature:Hr(n[2]),raw:{header:n[0],payload:n[1]}}}async function DT(t){return await new Promise(n=>{setTimeout(()=>n(null),t)})}function zT(t,n){return new Promise((r,l)=>{(async()=>{for(let u=0;u<1/0;u++)try{const c=await t(u);if(!n(u,null,c)){r(c);return}}catch(c){if(!n(u,c)){l(c);return}}})()})}function UT(t){return("0"+t.toString(16)).substr(-2)}function BT(){const n=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=i.length;let l="";for(let u=0;u<56;u++)l+=i.charAt(Math.floor(Math.random()*r));return l}return crypto.getRandomValues(n),Array.from(n,UT).join("")}async function $T(t){const i=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",i),l=new Uint8Array(r);return Array.from(l).map(u=>String.fromCharCode(u)).join("")}async function LT(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const i=await $T(t);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Rr(t,n,i=!1){const r=BT();let l=r;i&&(l+="/PASSWORD_RECOVERY"),await $r(t,`${n}-code-verifier`,l);const u=await LT(r);return[u,r===u?"plain":"s256"]}const HT=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function qT(t){const n=t.headers.get(th);if(!n||!n.match(HT))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function VT(t){if(!t)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(t<=n)throw new Error("JWT has expired")}function PT(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const GT=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Or(t){if(!GT.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ad(){const t={};return new Proxy(t,{get:(n,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const r=i.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function YT(t,n){return new Proxy(t,{get:(i,r,l)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const u=r.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(i,r,l)}return!n.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(i,r,l)}})}function _0(t){return JSON.parse(JSON.stringify(t))}const Mi=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),IT=[502,503,504];async function w0(t){var n;if(!MT(t))throw new nh(Mi(t),0);if(IT.includes(t.status))throw new nh(Mi(t),t.status);let i;try{i=await t.json()}catch(u){throw new Bi(Mi(u),u)}let r;const l=qT(t);if(l&&l.getTime()>=Ab["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?r=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(r=i.error_code),r){if(r==="weak_password")throw new g0(Mi(i),t.status,((n=i.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(r==="session_not_found")throw new en}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((u,c)=>u&&typeof c=="string",!0))throw new g0(Mi(i),t.status,i.weak_password.reasons);throw new wT(Mi(i),t.status||500,r)}const KT=(t,n,i,r)=>{const l={method:t,headers:(n==null?void 0:n.headers)||{}};return t==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n==null?void 0:n.headers),l.body=JSON.stringify(r),Object.assign(Object.assign({},l),i))};async function _e(t,n,i,r){var l;const u=Object.assign({},r==null?void 0:r.headers);u[th]||(u[th]=Ab["2024-01-01"].name),r!=null&&r.jwt&&(u.Authorization=`Bearer ${r.jwt}`);const c=(l=r==null?void 0:r.query)!==null&&l!==void 0?l:{};r!=null&&r.redirectTo&&(c.redirect_to=r.redirectTo);const d=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",h=await XT(t,n,i+d,{headers:u,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(h):{data:Object.assign({},h),error:null}}async function XT(t,n,i,r,l,u){const c=KT(n,r,l,u);let d;try{d=await t(i,Object.assign({},c))}catch(h){throw console.error(h),new nh(Mi(h),0)}if(d.ok||await w0(d),r!=null&&r.noResolveJson)return d;try{return await d.json()}catch(h){await w0(h)}}function En(t){var n;let i=null;JT(t)&&(i=Object.assign({},t),t.expires_at||(i.expires_at=kT(t.expires_in)));const r=(n=t.user)!==null&&n!==void 0?n:t;return{data:{session:i,user:r},error:null}}function S0(t){const n=En(t);return!n.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((i,r)=>i&&typeof r=="string",!0)&&(n.data.weak_password=t.weak_password),n}function ai(t){var n;return{data:{user:(n=t.user)!==null&&n!==void 0?n:t},error:null}}function QT(t){return{data:t,error:null}}function ZT(t){const{action_link:n,email_otp:i,hashed_token:r,redirect_to:l,verification_type:u}=t,c=Jr(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:n,email_otp:i,hashed_token:r,redirect_to:l,verification_type:u},h=Object.assign({},c);return{data:{properties:d,user:h},error:null}}function E0(t){return t}function JT(t){return t.access_token&&t.refresh_token&&t.expires_in}const Nd=["global","local","others"];class FT{constructor({url:n="",headers:i={},fetch:r}){this.url=n,this.headers=i,this.fetch=Ob(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,i=Nd[0]){if(Nd.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Nd.join(", ")}`);try{return await _e(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(r){if(pe(r))return{data:null,error:r};throw r}}async inviteUserByEmail(n,i={}){try{return await _e(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:ai})}catch(r){if(pe(r))return{data:{user:null},error:r};throw r}}async generateLink(n){try{const{options:i}=n,r=Jr(n,["options"]),l=Object.assign(Object.assign({},r),i);return"newEmail"in r&&(l.new_email=r==null?void 0:r.newEmail,delete l.newEmail),await _e(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:ZT,redirectTo:i==null?void 0:i.redirectTo})}catch(i){if(pe(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(n){try{return await _e(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:ai})}catch(i){if(pe(i))return{data:{user:null},error:i};throw i}}async listUsers(n){var i,r,l,u,c,d,h;try{const p={nextPage:null,lastPage:0,total:0},g=await _e(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(i=n==null?void 0:n.page)===null||i===void 0?void 0:i.toString())!==null&&r!==void 0?r:"",per_page:(u=(l=n==null?void 0:n.perPage)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""},xform:E0});if(g.error)throw g.error;const y=await g.json(),_=(c=g.headers.get("x-total-count"))!==null&&c!==void 0?c:0,v=(h=(d=g.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return v.length>0&&(v.forEach(S=>{const w=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(S.split(";")[1].split("=")[1]);p[`${E}Page`]=w}),p.total=parseInt(_)),{data:Object.assign(Object.assign({},y),p),error:null}}catch(p){if(pe(p))return{data:{users:[]},error:p};throw p}}async getUserById(n){Or(n);try{return await _e(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:ai})}catch(i){if(pe(i))return{data:{user:null},error:i};throw i}}async updateUserById(n,i){Or(n);try{return await _e(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:i,headers:this.headers,xform:ai})}catch(r){if(pe(r))return{data:{user:null},error:r};throw r}}async deleteUser(n,i=!1){Or(n);try{return await _e(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:i},xform:ai})}catch(r){if(pe(r))return{data:{user:null},error:r};throw r}}async _listFactors(n){Or(n.userId);try{const{data:i,error:r}=await _e(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:i,error:r}}catch(i){if(pe(i))return{data:null,error:i};throw i}}async _deleteFactor(n){Or(n.userId),Or(n.id);try{return{data:await _e(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(i){if(pe(i))return{data:null,error:i};throw i}}async _listOAuthClients(n){var i,r,l,u,c,d,h;try{const p={nextPage:null,lastPage:0,total:0},g=await _e(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(i=n==null?void 0:n.page)===null||i===void 0?void 0:i.toString())!==null&&r!==void 0?r:"",per_page:(u=(l=n==null?void 0:n.perPage)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""},xform:E0});if(g.error)throw g.error;const y=await g.json(),_=(c=g.headers.get("x-total-count"))!==null&&c!==void 0?c:0,v=(h=(d=g.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return v.length>0&&(v.forEach(S=>{const w=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(S.split(";")[1].split("=")[1]);p[`${E}Page`]=w}),p.total=parseInt(_)),{data:Object.assign(Object.assign({},y),p),error:null}}catch(p){if(pe(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(n){try{return await _e(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(pe(i))return{data:null,error:i};throw i}}async _getOAuthClient(n){try{return await _e(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(pe(i))return{data:null,error:i};throw i}}async _updateOAuthClient(n,i){try{return await _e(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:i,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(pe(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(n){try{return await _e(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(i){if(pe(i))return{data:null,error:i};throw i}}async _regenerateOAuthClientSecret(n){try{return await _e(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(pe(i))return{data:null,error:i};throw i}}}function x0(t={}){return{getItem:n=>t[n]||null,setItem:(n,i)=>{t[n]=i},removeItem:n=>{delete t[n]}}}const kr={debug:!!(globalThis&&Rb()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class kb extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class WT extends kb{}async function eA(t,n,i){kr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,n);const r=new globalThis.AbortController;return n>0&&setTimeout(()=>{r.abort(),kr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async l=>{if(l){kr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,l.name);try{return await i()}finally{kr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,l.name)}}else{if(n===0)throw kr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new WT(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(kr.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}function tA(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Cb(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function nA(t){return parseInt(t,16)}function aA(t){const n=new TextEncoder().encode(t);return"0x"+Array.from(n,r=>r.toString(16).padStart(2,"0")).join("")}function iA(t){var n;const{chainId:i,domain:r,expirationTime:l,issuedAt:u=new Date,nonce:c,notBefore:d,requestId:h,resources:p,scheme:g,uri:y,version:_}=t;{if(!Number.isInteger(i))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!y)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(_!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_}`);if(!((n=t.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const v=Cb(t.address),S=g?`${g}://${r}`:r,w=t.statement?`${t.statement}
`:"",E=`${S} wants you to sign in with your Ethereum account:
${v}

${w}`;let A=`URI: ${y}
Version: ${_}
Chain ID: ${i}${c?`
Nonce: ${c}`:""}
Issued At: ${u.toISOString()}`;if(l&&(A+=`
Expiration Time: ${l.toISOString()}`),d&&(A+=`
Not Before: ${d.toISOString()}`),h&&(A+=`
Request ID: ${h}`),p){let j=`
Resources:`;for(const N of p){if(!N||typeof N!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${N}`);j+=`
- ${N}`}A+=j}return`${E}
${A}`}class mt extends Error{constructor({message:n,code:i,cause:r,name:l}){var u;super(n,{cause:r}),this.__isWebAuthnError=!0,this.name=(u=l??(r instanceof Error?r.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=i}}class Ou extends mt{constructor(n,i){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i,message:n}),this.name="WebAuthnUnknownError",this.originalError=i}}function rA({error:t,options:n}){var i,r,l;const{publicKey:u}=n;if(!u)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(n.signal instanceof AbortSignal)return new mt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((i=u.authenticatorSelection)===null||i===void 0?void 0:i.requireResidentKey)===!0)return new mt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(n.mediation==="conditional"&&((r=u.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new mt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((l=u.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new mt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new mt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new mt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return u.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new mt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new mt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const c=window.location.hostname;if(jb(c)){if(u.rp.id!==c)return new mt({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new mt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new mt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new mt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new mt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function sA({error:t,options:n}){const{publicKey:i}=n;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(n.signal instanceof AbortSignal)return new mt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new mt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(jb(r)){if(i.rpId!==r)return new mt({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new mt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new mt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new mt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class lA{createNewAbortSignal(){if(this.controller){const i=new Error("Cancelling existing WebAuthn API call for new one");i.name="AbortError",this.controller.abort(i)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const oA=new lA;function uA(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:n,user:i,excludeCredentials:r}=t,l=Jr(t,["challenge","user","excludeCredentials"]),u=Hr(n).buffer,c=Object.assign(Object.assign({},i),{id:Hr(i.id).buffer}),d=Object.assign(Object.assign({},l),{challenge:u,user:c});if(r&&r.length>0){d.excludeCredentials=new Array(r.length);for(let h=0;h<r.length;h++){const p=r[h];d.excludeCredentials[h]=Object.assign(Object.assign({},p),{id:Hr(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return d}function cA(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:n,allowCredentials:i}=t,r=Jr(t,["challenge","allowCredentials"]),l=Hr(n).buffer,u=Object.assign(Object.assign({},r),{challenge:l});if(i&&i.length>0){u.allowCredentials=new Array(i.length);for(let c=0;c<i.length;c++){const d=i[c];u.allowCredentials[c]=Object.assign(Object.assign({},d),{id:Hr(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return u}function fA(t){var n;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const i=t;return{id:t.id,rawId:t.id,response:{attestationObject:$i(new Uint8Array(t.response.attestationObject)),clientDataJSON:$i(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(n=i.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function dA(t){var n;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const i=t,r=t.getClientExtensionResults(),l=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:$i(new Uint8Array(l.authenticatorData)),clientDataJSON:$i(new Uint8Array(l.clientDataJSON)),signature:$i(new Uint8Array(l.signature)),userHandle:l.userHandle?$i(new Uint8Array(l.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(n=i.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function jb(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function T0(){var t,n;return!!(kt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.get)=="function")}async function hA(t){try{const n=await navigator.credentials.create(t);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Ou("Browser returned unexpected credential type",n)}:{data:null,error:new Ou("Empty credential response",n)}}catch(n){return{data:null,error:rA({error:n,options:t})}}}async function mA(t){try{const n=await navigator.credentials.get(t);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Ou("Browser returned unexpected credential type",n)}:{data:null,error:new Ou("Empty credential response",n)}}catch(n){return{data:null,error:sA({error:n,options:t})}}}const pA={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},gA={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ku(...t){const n=l=>l!==null&&typeof l=="object"&&!Array.isArray(l),i=l=>l instanceof ArrayBuffer||ArrayBuffer.isView(l),r={};for(const l of t)if(l)for(const u in l){const c=l[u];if(c!==void 0)if(Array.isArray(c))r[u]=c;else if(i(c))r[u]=c;else if(n(c)){const d=r[u];n(d)?r[u]=ku(d,c):r[u]=ku(c)}else r[u]=c}return r}function yA(t,n){return ku(pA,t,n||{})}function vA(t,n){return ku(gA,t,n||{})}class bA{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:i,friendlyName:r,signal:l},u){try{const{data:c,error:d}=await this.client.mfa.challenge({factorId:n,webauthn:i});if(!c)return{data:null,error:d};const h=l??oA.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:p}=c.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${r}`),p.displayName||(p.displayName=p.name)}switch(c.webauthn.type){case"create":{const p=yA(c.webauthn.credential_options.publicKey,u==null?void 0:u.create),{data:g,error:y}=await hA({publicKey:p,signal:h});return g?{data:{factorId:n,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:g}},error:null}:{data:null,error:y}}case"request":{const p=vA(c.webauthn.credential_options.publicKey,u==null?void 0:u.request),{data:g,error:y}=await mA(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:p,signal:h}));return g?{data:{factorId:n,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:g}},error:null}:{data:null,error:y}}}}catch(c){return pe(c)?{data:null,error:c}:{data:null,error:new Bi("Unexpected error in challenge",c)}}}async _verify({challengeId:n,factorId:i,webauthn:r}){return this.client.mfa.verify({factorId:i,challengeId:n,webauthn:r})}async _authenticate({factorId:n,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},u){if(!i)return{data:null,error:new cl("rpId is required for WebAuthn authentication")};try{if(!T0())return{data:null,error:new Bi("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this.challenge({factorId:n,webauthn:{rpId:i,rpOrigins:r},signal:l},{request:u});if(!c)return{data:null,error:d};const{webauthn:h}=c;return this._verify({factorId:n,challengeId:c.challengeId,webauthn:{type:h.type,rpId:i,rpOrigins:r,credential_response:h.credential_response}})}catch(c){return pe(c)?{data:null,error:c}:{data:null,error:new Bi("Unexpected error in authenticate",c)}}}async _register({friendlyName:n,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},u){if(!i)return{data:null,error:new cl("rpId is required for WebAuthn registration")};try{if(!T0())return{data:null,error:new Bi("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this._enroll({friendlyName:n});if(!c)return await this.client.mfa.listFactors().then(g=>{var y;return(y=g.data)===null||y===void 0?void 0:y.all.find(_=>_.factor_type==="webauthn"&&_.friendly_name===n&&_.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g==null?void 0:g.id}):void 0),{data:null,error:d};const{data:h,error:p}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:i,rpOrigins:r},signal:l},{create:u});return h?this._verify({factorId:c.id,challengeId:h.challengeId,webauthn:{rpId:i,rpOrigins:r,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:p}}catch(c){return pe(c)?{data:null,error:c}:{data:null,error:new Bi("Unexpected error in register",c)}}}}tA();const _A={url:gT,storageKey:yT,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:vT,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function A0(t,n,i){return await i()}const Cr={};class fl{get jwks(){var n,i;return(i=(n=Cr[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(n){Cr[this.storageKey]=Object.assign(Object.assign({},Cr[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,i;return(i=(n=Cr[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){Cr[this.storageKey]=Object.assign(Object.assign({},Cr[this.storageKey]),{cachedAt:n})}constructor(n){var i,r,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},_A),n);if(this.storageKey=u.storageKey,this.instanceID=(i=fl.nextInstanceID[this.storageKey])!==null&&i!==void 0?i:0,fl.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&kt()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new FT({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=Ob(u.fetch),this.lock=u.lock||A0,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,u.lock?this.lock=u.lock:kt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=eA:this.lock=A0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new bA(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:Rb()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=x0(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=x0(this.memoryStorage)),kt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Tb}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let i={},r="none";if(kt()&&(i=jT(window.location.href),this._isImplicitGrantCallback(i)?r="implicit":await this._isPKCECallback(i)&&(r="pkce")),kt()&&this.detectSessionInUrl&&r!=="none"){const{data:l,error:u}=await this._getSessionFromURL(i,r);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),xT(u)){const h=(n=u.details)===null||n===void 0?void 0:n.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:c,redirectType:d}=l;return this._debug("#_initialize()","detected session in URL",c,"redirect type",d),await this._saveSession(c),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return pe(i)?this._returnResult({error:i}):this._returnResult({error:new Bi("Unexpected error during initialization",i)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var i,r,l;try{const u=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(i=n==null?void 0:n.options)===null||i===void 0?void 0:i.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(l=n==null?void 0:n.options)===null||l===void 0?void 0:l.captchaToken}},xform:En}),{data:c,error:d}=u;if(d||!c)return this._returnResult({data:{user:null,session:null},error:d});const h=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:p,session:h},error:null})}catch(u){if(pe(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(n){var i,r,l;try{let u;if("email"in n){const{email:g,password:y,options:_}=n;let v=null,S=null;this.flowType==="pkce"&&([v,S]=await Rr(this.storage,this.storageKey)),u=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_==null?void 0:_.emailRedirectTo,body:{email:g,password:y,data:(i=_==null?void 0:_.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken},code_challenge:v,code_challenge_method:S},xform:En})}else if("phone"in n){const{phone:g,password:y,options:_}=n;u=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:y,data:(r=_==null?void 0:_.data)!==null&&r!==void 0?r:{},channel:(l=_==null?void 0:_.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken}},xform:En})}else throw new lu("You must provide either an email or phone number and a password");const{data:c,error:d}=u;if(d||!c)return this._returnResult({data:{user:null,session:null},error:d});const h=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:p,session:h},error:null})}catch(u){if(pe(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(n){try{let i;if("email"in n){const{email:u,password:c,options:d}=n;i=await _e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:c,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:S0})}else if("phone"in n){const{phone:u,password:c,options:d}=n;i=await _e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:c,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:S0})}else throw new lu("You must provide either an email or phone number and a password");const{data:r,error:l}=i;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!r||!r.session||!r.user){const u=new Nr;return this._returnResult({data:{user:null,session:null},error:u})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:l})}catch(i){if(pe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOAuth(n){var i,r,l,u;return await this._handleProviderSignIn(n.provider,{redirectTo:(i=n.options)===null||i===void 0?void 0:i.redirectTo,scopes:(r=n.options)===null||r===void 0?void 0:r.scopes,queryParams:(l=n.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(u=n.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:i}=n;switch(i){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}}async signInWithEthereum(n){var i,r,l,u,c,d,h,p,g,y,_;let v,S;if("message"in n)v=n.message,S=n.signature;else{const{chain:w,wallet:E,statement:A,options:j}=n;let N;if(kt())if(typeof E=="object")N=E;else{const X=window;if("ethereum"in X&&typeof X.ethereum=="object"&&"request"in X.ethereum&&typeof X.ethereum.request=="function")N=X.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!(j!=null&&j.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=E}const M=new URL((i=j==null?void 0:j.url)!==null&&i!==void 0?i:window.location.href),$=await N.request({method:"eth_requestAccounts"}).then(X=>X).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!$||$.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const q=Cb($[0]);let V=(r=j==null?void 0:j.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!V){const X=await N.request({method:"eth_chainId"});V=nA(X)}const te={domain:M.host,address:q,statement:A,uri:M.href,version:"1",chainId:V,nonce:(l=j==null?void 0:j.signInWithEthereum)===null||l===void 0?void 0:l.nonce,issuedAt:(c=(u=j==null?void 0:j.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(d=j==null?void 0:j.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(h=j==null?void 0:j.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(p=j==null?void 0:j.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(g=j==null?void 0:j.signInWithEthereum)===null||g===void 0?void 0:g.resources};v=iA(te),S=await N.request({method:"personal_sign",params:[aA(v),q]})}try{const{data:w,error:E}=await _e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:S},!((y=n.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(_=n.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:En});if(E)throw E;if(!w||!w.session||!w.user){const A=new Nr;return this._returnResult({data:{user:null,session:null},error:A})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:E})}catch(w){if(pe(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(n){var i,r,l,u,c,d,h,p,g,y,_,v;let S,w;if("message"in n)S=n.message,w=n.signature;else{const{chain:E,wallet:A,statement:j,options:N}=n;let M;if(kt())if(typeof A=="object")M=A;else{const q=window;if("solana"in q&&typeof q.solana=="object"&&("signIn"in q.solana&&typeof q.solana.signIn=="function"||"signMessage"in q.solana&&typeof q.solana.signMessage=="function"))M=q.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!(N!=null&&N.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=A}const $=new URL((i=N==null?void 0:N.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in M&&M.signIn){const q=await M.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N==null?void 0:N.signInWithSolana),{version:"1",domain:$.host,uri:$.href}),j?{statement:j}:null));let V;if(Array.isArray(q)&&q[0]&&typeof q[0]=="object")V=q[0];else if(q&&typeof q=="object"&&"signedMessage"in q&&"signature"in q)V=q;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in V&&"signature"in V&&(typeof V.signedMessage=="string"||V.signedMessage instanceof Uint8Array)&&V.signature instanceof Uint8Array)S=typeof V.signedMessage=="string"?V.signedMessage:new TextDecoder().decode(V.signedMessage),w=V.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in M)||typeof M.signMessage!="function"||!("publicKey"in M)||typeof M!="object"||!M.publicKey||!("toBase58"in M.publicKey)||typeof M.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${$.host} wants you to sign in with your Solana account:`,M.publicKey.toBase58(),...j?["",j,""]:[""],"Version: 1",`URI: ${$.href}`,`Issued At: ${(l=(r=N==null?void 0:N.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((u=N==null?void 0:N.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((c=N==null?void 0:N.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((d=N==null?void 0:N.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((h=N==null?void 0:N.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((p=N==null?void 0:N.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((y=(g=N==null?void 0:N.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||y===void 0)&&y.length?["Resources",...N.signInWithSolana.resources.map(V=>`- ${V}`)]:[]].join(`
`);const q=await M.signMessage(new TextEncoder().encode(S),"utf8");if(!q||!(q instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=q}}try{const{data:E,error:A}=await _e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:$i(w)},!((_=n.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(v=n.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:En});if(A)throw A;if(!E||!E.session||!E.user){const j=new Nr;return this._returnResult({data:{user:null,session:null},error:j})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:A})}catch(E){if(pe(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async _exchangeCodeForSession(n){const i=await ji(this.storage,`${this.storageKey}-code-verifier`),[r,l]=(i??"").split("/");try{const{data:u,error:c}=await _e(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:r},xform:En});if(await Fa(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!u||!u.session||!u.user){const d=new Nr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:l??null}),error:c})}catch(u){if(pe(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(n){try{const{options:i,provider:r,token:l,access_token:u,nonce:c}=n,d=await _e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:l,access_token:u,nonce:c,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:En}),{data:h,error:p}=d;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!h||!h.session||!h.user){const g=new Nr;return this._returnResult({data:{user:null,session:null},error:g})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:p})}catch(i){if(pe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOtp(n){var i,r,l,u,c;try{if("email"in n){const{email:d,options:h}=n;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await Rr(this.storage,this.storageKey));const{error:y}=await _e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(i=h==null?void 0:h.data)!==null&&i!==void 0?i:{},create_user:(r=h==null?void 0:h.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:g},redirectTo:h==null?void 0:h.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:y})}if("phone"in n){const{phone:d,options:h}=n,{data:p,error:g}=await _e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(l=h==null?void 0:h.data)!==null&&l!==void 0?l:{},create_user:(u=h==null?void 0:h.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},channel:(c=h==null?void 0:h.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:g})}throw new lu("You must provide either an email or phone number.")}catch(d){if(pe(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(n){var i,r;try{let l,u;"options"in n&&(l=(i=n.options)===null||i===void 0?void 0:i.redirectTo,u=(r=n.options)===null||r===void 0?void 0:r.captchaToken);const{data:c,error:d}=await _e(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:u}}),redirectTo:l,xform:En});if(d)throw d;if(!c)throw new Error("An error occurred on token verification.");const h=c.session,p=c.user;return h!=null&&h.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:p,session:h},error:null})}catch(l){if(pe(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithSSO(n){var i,r,l,u,c;try{let d=null,h=null;this.flowType==="pkce"&&([d,h]=await Rr(this.storage,this.storageKey));const p=await _e(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(r=(i=n.options)===null||i===void 0?void 0:i.redirectTo)!==null&&r!==void 0?r:void 0}),!((l=n==null?void 0:n.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:h}),headers:this.headers,xform:QT});return!((u=p.data)===null||u===void 0)&&u.url&&kt()&&!(!((c=n.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(d){if(pe(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:i},error:r}=n;if(r)throw r;if(!i)throw new en;const{error:l}=await _e(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return this._returnResult({data:{user:null,session:null},error:l})})}catch(n){if(pe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const i=`${this.url}/resend`;if("email"in n){const{email:r,type:l,options:u}=n,{error:c}=await _e(this.fetch,"POST",i,{headers:this.headers,body:{email:r,type:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},redirectTo:u==null?void 0:u.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in n){const{phone:r,type:l,options:u}=n,{data:c,error:d}=await _e(this.fetch,"POST",i,{headers:this.headers,body:{phone:r,type:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d})}throw new lu("You must provide either an email or phone number and a type")}catch(i){if(pe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async i=>i))}async _acquireLock(n,i){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await r,await i()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=i();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await n(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const i=await ji(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?n=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const r=n.expires_at?n.expires_at*1e3-Date.now()<Ed:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",n.expires_at),!r){if(this.userStorage){const c=await ji(this.userStorage,this.storageKey+"-user");c!=null&&c.user?n.user=c.user:n.user=Ad()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};n.user=YT(n.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:l,error:u}=await this._callRefreshToken(n.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:l},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){return n?await this._getUser(n):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(n){try{return n?await _e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:ai}):await this._useSession(async i=>{var r,l,u;const{data:c,error:d}=i;if(d)throw d;return!(!((r=c.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new en}:await _e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(l=c.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0,xform:ai})})}catch(i){if(pe(i))return ET(i)&&(await this._removeSession(),await Fa(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:i});throw i}}async updateUser(n,i={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,i))}async _updateUser(n,i={}){try{return await this._useSession(async r=>{const{data:l,error:u}=r;if(u)throw u;if(!l.session)throw new en;const c=l.session;let d=null,h=null;this.flowType==="pkce"&&n.email!=null&&([d,h]=await Rr(this.storage,this.storageKey));const{data:p,error:g}=await _e(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i==null?void 0:i.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:d,code_challenge_method:h}),jwt:c.access_token,xform:ai});if(g)throw g;return c.user=p.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(r){if(pe(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new en;const i=Date.now()/1e3;let r=i,l=!0,u=null;const{payload:c}=Td(n.access_token);if(c.exp&&(r=c.exp,l=r<=i),l){const{data:d,error:h}=await this._callRefreshToken(n.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!d)return{data:{user:null,session:null},error:null};u=d}else{const{data:d,error:h}=await this._getUser(n.access_token);if(h)throw h;u={access_token:n.access_token,refresh_token:n.refresh_token,user:d.user,token_type:"bearer",expires_in:r-i,expires_at:r},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(i){if(pe(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async i=>{var r;if(!n){const{data:c,error:d}=i;if(d)throw d;n=(r=c.session)!==null&&r!==void 0?r:void 0}if(!(n!=null&&n.refresh_token))throw new en;const{data:l,error:u}=await this._callRefreshToken(n.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):l?this._returnResult({data:{user:l.user,session:l},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(i){if(pe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async _getSessionFromURL(n,i){try{if(!kt())throw new ou("No browser detected.");if(n.error||n.error_description||n.error_code)throw new ou(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new p0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ou("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new p0("No code detected.");const{data:j,error:N}=await this._exchangeCodeForSession(n.code);if(N)throw N;const M=new URL(window.location.href);return M.searchParams.delete("code"),window.history.replaceState(window.history.state,"",M.toString()),{data:{session:j.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:l,access_token:u,refresh_token:c,expires_in:d,expires_at:h,token_type:p}=n;if(!u||!d||!c||!p)throw new ou("No session defined in URL");const g=Math.round(Date.now()/1e3),y=parseInt(d);let _=g+y;h&&(_=parseInt(h));const v=_-g;v*1e3<=Br&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${y}s`);const S=_-y;g-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,_,g):g-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,_,g);const{data:w,error:E}=await this._getUser(u);if(E)throw E;const A={provider_token:r,provider_refresh_token:l,access_token:u,expires_in:y,expires_at:_,refresh_token:c,token_type:p,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:A,redirectType:n.type},error:null})}catch(r){if(pe(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){const i=await ji(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&i)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async i=>{var r;const{data:l,error:u}=i;if(u)return this._returnResult({error:u});const c=(r=l.session)===null||r===void 0?void 0:r.access_token;if(c){const{error:d}=await this.admin.signOut(c,n);if(d&&!(ST(d)&&(d.status===404||d.status===401||d.status===403)))return this._returnResult({error:d})}return n!=="others"&&(await this._removeSession(),await Fa(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const i=CT(),r={id:i,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:r}}}async _emitInitialSession(n){return await this._useSession(async i=>{var r,l;try{const{data:{session:u},error:c}=i;if(c)throw c;await((r=this.stateChangeEmitters.get(n))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",n,"session",u)}catch(u){await((l=this.stateChangeEmitters.get(n))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",u),console.error(u)}})}async resetPasswordForEmail(n,i={}){let r=null,l=null;this.flowType==="pkce"&&([r,l]=await Rr(this.storage,this.storageKey,!0));try{return await _e(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:r,code_challenge_method:l,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(u){if(pe(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var n;try{const{data:i,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(n=i.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(i){if(pe(i))return this._returnResult({data:null,error:i});throw i}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var i;try{const{data:r,error:l}=await this._useSession(async u=>{var c,d,h,p,g;const{data:y,error:_}=u;if(_)throw _;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(c=n.options)===null||c===void 0?void 0:c.redirectTo,scopes:(d=n.options)===null||d===void 0?void 0:d.scopes,queryParams:(h=n.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await _e(this.fetch,"GET",v,{headers:this.headers,jwt:(g=(p=y.session)===null||p===void 0?void 0:p.access_token)!==null&&g!==void 0?g:void 0})});if(l)throw l;return kt()&&!(!((i=n.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:n.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(pe(r))return this._returnResult({data:{provider:n.provider,url:null},error:r});throw r}}async linkIdentityIdToken(n){return await this._useSession(async i=>{var r;try{const{error:l,data:{session:u}}=i;if(l)throw l;const{options:c,provider:d,token:h,access_token:p,nonce:g}=n,y=await _e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=u==null?void 0:u.access_token)!==null&&r!==void 0?r:void 0,body:{provider:d,id_token:h,access_token:p,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:En}),{data:_,error:v}=y;return v?this._returnResult({data:{user:null,session:null},error:v}):!_||!_.session||!_.user?this._returnResult({data:{user:null,session:null},error:new Nr}):(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("USER_UPDATED",_.session)),this._returnResult({data:_,error:v}))}catch(l){if(pe(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}async unlinkIdentity(n){try{return await this._useSession(async i=>{var r,l;const{data:u,error:c}=i;if(c)throw c;return await _e(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(l=(r=u.session)===null||r===void 0?void 0:r.access_token)!==null&&l!==void 0?l:void 0})})}catch(i){if(pe(i))return this._returnResult({data:null,error:i});throw i}}async _refreshAccessToken(n){const i=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(i,"begin");try{const r=Date.now();return await zT(async l=>(l>0&&await DT(200*Math.pow(2,l-1)),this._debug(i,"refreshing attempt",l),await _e(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:En})),(l,u)=>{const c=200*Math.pow(2,l);return u&&xd(u)&&Date.now()+c-r<Br})}catch(r){if(this._debug(i,"error",r),pe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(i,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,i){const r=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",i,"url",r),kt()&&!i.skipBrowserRedirect&&window.location.assign(r),{data:{provider:n,url:r},error:null}}async _recoverAndRefresh(){var n,i;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const l=await ji(this.storage,this.storageKey);if(l&&this.userStorage){let c=await ji(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:l.user},await $r(this.userStorage,this.storageKey+"-user",c)),l.user=(n=c==null?void 0:c.user)!==null&&n!==void 0?n:Ad()}else if(l&&!l.user&&!l.user){const c=await ji(this.storage,this.storageKey+"-user");c&&(c!=null&&c.user)?(l.user=c.user,await Fa(this.storage,this.storageKey+"-user"),await $r(this.storage,this.storageKey,l)):l.user=Ad()}if(this._debug(r,"session from storage",l),!this._isValidSession(l)){this._debug(r,"session is not valid"),l!==null&&await this._removeSession();return}const u=((i=l.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<Ed;if(this._debug(r,`session has${u?"":" not"} expired with margin of ${Ed}s`),u){if(this.autoRefreshToken&&l.refresh_token){const{error:c}=await this._callRefreshToken(l.refresh_token);c&&(console.error(c),xd(c)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:d}=await this._getUser(l.access_token);!d&&(c!=null&&c.user)?(l.user=c.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(r,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(r,"error",l),console.error(l);return}finally{this._debug(r,"end")}}async _callRefreshToken(n){var i,r;if(!n)throw new en;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new Gu;const{data:u,error:c}=await this._refreshAccessToken(n);if(c)throw c;if(!u.session)throw new en;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const d={data:u.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(u){if(this._debug(l,"error",u),pe(u)){const c={data:null,error:u};return xd(u)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(c),c}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(u),u}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(n,i,r=!0){const l=`#_notifyAllSubscribers(${n})`;this._debug(l,"begin",i,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:n,session:i});const u=[],c=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(n,i)}catch(h){u.push(h)}});if(await Promise.all(c),u.length>0){for(let d=0;d<u.length;d+=1)console.error(u[d]);throw u[0]}}finally{this._debug(l,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0;const i=Object.assign({},n),r=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&i.user&&await $r(this.userStorage,this.storageKey+"-user",{user:i.user});const l=Object.assign({},i);delete l.user;const u=_0(l);await $r(this.storage,this.storageKey,u)}else{const l=_0(i);await $r(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),await Fa(this.storage,this.storageKey),await Fa(this.storage,this.storageKey+"-code-verifier"),await Fa(this.storage,this.storageKey+"-user"),this.userStorage&&await Fa(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&kt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",n)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),Br);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async i=>{const{data:{session:r}}=i;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((r.expires_at*1e3-n)/Br);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${Br}ms, refresh threshold is ${eh} ticks`),l<=eh&&await this._callRefreshToken(r.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof kb)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!kt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const i=`#_onVisibilityChanged(${n})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,i,r){const l=[`provider=${encodeURIComponent(i)}`];if(r!=null&&r.redirectTo&&l.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&l.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[u,c]=await Rr(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(c)}`});l.push(d.toString())}if(r!=null&&r.queryParams){const u=new URLSearchParams(r.queryParams);l.push(u.toString())}return r!=null&&r.skipBrowserRedirect&&l.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${n}?${l.join("&")}`}async _unenroll(n){try{return await this._useSession(async i=>{var r;const{data:l,error:u}=i;return u?this._returnResult({data:null,error:u}):await _e(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(r=l==null?void 0:l.session)===null||r===void 0?void 0:r.access_token})})}catch(i){if(pe(i))return this._returnResult({data:null,error:i});throw i}}async _enroll(n){try{return await this._useSession(async i=>{var r,l;const{data:u,error:c}=i;if(c)return this._returnResult({data:null,error:c});const d=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:h,error:p}=await _e(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(r=u==null?void 0:u.session)===null||r===void 0?void 0:r.access_token});return p?this._returnResult({data:null,error:p}):(n.factorType==="totp"&&h.type==="totp"&&(!((l=h==null?void 0:h.totp)===null||l===void 0)&&l.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(i){if(pe(i))return this._returnResult({data:null,error:i});throw i}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var r;const{data:l,error:u}=i;if(u)return this._returnResult({data:null,error:u});const c=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?fA(n.webauthn.credential_response):dA(n.webauthn.credential_response)})}:{code:n.code}),{data:d,error:h}=await _e(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:c,headers:this.headers,jwt:(r=l==null?void 0:l.session)===null||r===void 0?void 0:r.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:h}))})}catch(i){if(pe(i))return this._returnResult({data:null,error:i});throw i}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var r;const{data:l,error:u}=i;if(u)return this._returnResult({data:null,error:u});const c=await _e(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(r=l==null?void 0:l.session)===null||r===void 0?void 0:r.access_token});if(c.error)return c;const{data:d}=c;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:uA(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:cA(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(i){if(pe(i))return this._returnResult({data:null,error:i});throw i}})}async _challengeAndVerify(n){const{data:i,error:r}=await this._challenge({factorId:n.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:n.factorId,challengeId:i.id,code:n.code})}async _listFactors(){var n;const{data:{user:i},error:r}=await this.getUser();if(r)return{data:null,error:r};const l={all:[],phone:[],totp:[],webauthn:[]};for(const u of(n=i==null?void 0:i.factors)!==null&&n!==void 0?n:[])l.all.push(u),u.status==="verified"&&l[u.factor_type].push(u);return{data:l,error:null}}async _getAuthenticatorAssuranceLevel(){var n,i;const{data:{session:r},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Td(r.access_token);let c=null;u.aal&&(c=u.aal);let d=c;((i=(n=r.user.factors)===null||n===void 0?void 0:n.filter(g=>g.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(d="aal2");const p=u.amr||[];return{data:{currentLevel:c,nextLevel:d,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async i=>{const{data:{session:r},error:l}=i;return l?this._returnResult({data:null,error:l}):r?await _e(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:r.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new en})})}catch(i){if(pe(i))return this._returnResult({data:null,error:i});throw i}}async _approveAuthorization(n,i){try{return await this._useSession(async r=>{const{data:{session:l},error:u}=r;if(u)return this._returnResult({data:null,error:u});if(!l)return this._returnResult({data:null,error:new en});const c=await _e(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return c.data&&c.data.redirect_url&&kt()&&!(i!=null&&i.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(r){if(pe(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(n,i){try{return await this._useSession(async r=>{const{data:{session:l},error:u}=r;if(u)return this._returnResult({data:null,error:u});if(!l)return this._returnResult({data:null,error:new en});const c=await _e(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return c.data&&c.data.redirect_url&&kt()&&!(i!=null&&i.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(r){if(pe(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:i},error:r}=n;return r?this._returnResult({data:null,error:r}):i?await _e(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new en})})}catch(n){if(pe(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async i=>{const{data:{session:r},error:l}=i;return l?this._returnResult({data:null,error:l}):r?(await _e(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new en})})}catch(i){if(pe(i))return this._returnResult({data:null,error:i});throw i}}async fetchJwk(n,i={keys:[]}){let r=i.keys.find(d=>d.kid===n);if(r)return r;const l=Date.now();if(r=this.jwks.keys.find(d=>d.kid===n),r&&this.jwks_cached_at+_T>l)return r;const{data:u,error:c}=await _e(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=l,r=u.keys.find(d=>d.kid===n),!r)?null:r}async getClaims(n,i={}){try{let r=n;if(!r){const{data:v,error:S}=await this.getSession();if(S||!v.session)return this._returnResult({data:null,error:S});r=v.session.access_token}const{header:l,payload:u,signature:c,raw:{header:d,payload:h}}=Td(r);i!=null&&i.allowExpired||VT(u.exp);const p=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,i!=null&&i.keys?{keys:i.keys}:i==null?void 0:i.jwks);if(!p){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:u,header:l,signature:c},error:null}}const g=PT(l.alg),y=await crypto.subtle.importKey("jwk",p,g,!0,["verify"]);if(!await crypto.subtle.verify(g,y,c,OT(`${d}.${h}`)))throw new ah("Invalid JWT signature");return{data:{claims:u,header:l,signature:c},error:null}}catch(r){if(pe(r))return this._returnResult({data:null,error:r});throw r}}}fl.nextInstanceID={};const wA=fl;class SA extends wA{constructor(n){super(n)}}class EA{constructor(n,i,r){var l,u,c;this.supabaseUrl=n,this.supabaseKey=i;const d=pT(n);if(!i)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const h=`sb-${d.hostname.split(".")[0]}-auth-token`,p={db:lT,realtime:uT,auth:Object.assign(Object.assign({},oT),{storageKey:h}),global:sT},g=mT(r??{},p);this.storageKey=(l=g.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(u=g.global.headers)!==null&&u!==void 0?u:{},g.accessToken?(this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(y,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=g.auth)!==null&&c!==void 0?c:{},this.headers,g.global.fetch),this.fetch=dT(i,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.accessToken&&this.accessToken().then(y=>this.realtime.setAuth(y)).catch(y=>console.warn("Failed to set initial Realtime auth token:",y)),this.rest=new ux(new URL("rest/v1",d).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new aT(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new rx(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,i={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,i,r)}channel(n,i={config:{}}){return this.realtime.channel(n,i)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n,i;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(i=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:i,detectSessionInUrl:r,storage:l,userStorage:u,storageKey:c,flowType:d,lock:h,debug:p,throwOnError:g},y,_){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new SA({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),y),storageKey:c,autoRefreshToken:n,persistSession:i,detectSessionInUrl:r,storage:l,userStorage:u,flowType:d,lock:h,debug:p,throwOnError:g,fetch:_,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new Ax(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n==null?void 0:n.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,r)=>{this._handleTokenChanged(i,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(n,i,r){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),i=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const xA=(t,n,i)=>new EA(t,n,i);function TA(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}TA()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const AA=void 0,NA=void 0;throw new Error("Missing Supabase environment variables");const We=xA(AA,NA),Mb=R.createContext({}),Yi=()=>{const t=R.useContext(Mb);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},RA=({children:t})=>{const[n,i]=R.useState(null),[r,l]=R.useState(null),[u,c]=R.useState(!0);R.useEffect(()=>{(async()=>{const{data:{session:w}}=await We.auth.getSession();i((w==null?void 0:w.user)??null),w!=null&&w.user&&await d(w.user.id),c(!1)})();const{data:{subscription:S}}=We.auth.onAuthStateChange(async(w,E)=>{(async()=>(i((E==null?void 0:E.user)??null),E!=null&&E.user?await d(E.user.id):l(null)))()});return()=>S.unsubscribe()},[]);const d=async v=>{var S,w;try{const{data:E,error:A}=await We.from("profiles").select("*").eq("user_id",v).maybeSingle();if(A)throw A;if(E)l(E);else{const{data:j}=await We.auth.getUser(),N=((w=(S=j==null?void 0:j.user)==null?void 0:S.user_metadata)==null?void 0:w.display_name)||"Petualang Baru";await We.from("profiles").insert({user_id:v,display_name:N}),await We.from("settings").insert({user_id:v});const{data:M}=await We.from("profiles").select("*").eq("user_id",v).maybeSingle();l(M)}}catch(E){console.error("Error fetching profile:",E)}},_={user:n,profile:r,loading:u,signUp:async(v,S,w)=>{try{const{data:E,error:A}=await We.auth.signUp({email:v,password:S,options:{data:{display_name:w}}});if(A)throw A;if(E.user){await new Promise(N=>setTimeout(N,1e3));const{data:j}=await We.from("profiles").select("id").eq("user_id",E.user.id).maybeSingle();j||(await We.from("profiles").insert({user_id:E.user.id,display_name:w||"Petualang Baru"}),await We.from("settings").insert({user_id:E.user.id}))}return{data:E,error:null}}catch(E){return{data:null,error:E}}},signIn:async(v,S)=>{try{const{data:w,error:E}=await We.auth.signInWithPassword({email:v,password:S});if(E)throw E;return{data:w,error:null}}catch(w){return{data:null,error:w}}},signOut:async()=>{try{const{error:v}=await We.auth.signOut();if(v)throw v;l(null)}catch(v){console.error("Error signing out:",v)}},updateProfile:async v=>{try{const{error:S}=await We.from("profiles").update(v).eq("user_id",n.id);if(S)throw S;return await d(n.id),{error:null}}catch(S){return{error:S}}},refreshProfile:()=>d(n==null?void 0:n.id)};return x.jsx(Mb.Provider,{value:_,children:t})},oi=()=>{const{user:t}=Yi(),n=R.useRef(null),i=R.useRef(null),r=R.useRef(null),[l,u]=R.useState(!1),[c,d]=R.useState({effects_enabled:!0,effects_volume:50});R.useEffect(()=>{n.current=document.getElementById("ambient-music"),i.current=document.getElementById("click-sound"),r.current=document.getElementById("hover-sound"),n.current&&(n.current.volume=.3),i.current&&(i.current.volume=.5),r.current&&(r.current.volume=.3),t&&h()},[t]);const h=async()=>{try{const{data:v,error:S}=await We.from("settings").select("effects_enabled, effects_volume").eq("user_id",t.id).maybeSingle();if(S)throw S;v&&d(v)}catch(v){console.error("Error fetching audio settings:",v)}},p=()=>{!l&&n.current&&(n.current.play().catch(v=>console.log("Background music autoplay prevented:",v)),u(!0))};return{initializeAudio:()=>{const v=()=>{p()};return document.addEventListener("click",v,{once:!0}),document.addEventListener("mouseenter",v,{once:!0}),()=>{document.removeEventListener("click",v),document.removeEventListener("mouseenter",v)}},playClickSound:()=>{i.current&&c.effects_enabled&&(i.current.currentTime=0,i.current.volume=c.effects_volume/100,i.current.play().catch(v=>console.log("Click sound failed:",v)))},playHoverSound:()=>{r.current&&c.effects_enabled&&(r.current.currentTime=0,r.current.volume=c.effects_volume/100,r.current.play().catch(v=>console.log("Hover sound failed:",v)))},startBackgroundMusic:p}};function OA(){const t=R.useRef(null),n=R.useRef(null),i=R.useRef(null);return R.useEffect(()=>{const r=t.current.querySelector(".particles"),l=30;for(let p=0;p<l;p++){const g=document.createElement("div");g.className="particle";const y=Math.random()*3+1,_=Math.random()*100,v=Math.random()*20+15,S=Math.random()*10;g.style.cssText=`
        position: absolute;
        width: ${y}px;
        height: ${y}px;
        background: rgba(255, 255, 255, 0.3);
        border-radius: 50%;
        left: ${_}%;
        bottom: -10px;
        animation: floatUp ${v}s ${S}s linear infinite;
        box-shadow: 0 0 10px rgba(255, 255, 255, 0.2);
      `,r.appendChild(g)}const u=document.createElement("style");u.textContent=`
      @keyframes floatUp {
        0% {
          transform: translateY(0) translateX(0);
          opacity: 0;
        }
        10% {
          opacity: 0.5;
        }
        90% {
          opacity: 0.5;
        }
        100% {
          transform: translateY(-100vh) translateX(${Math.random()*100-50}px);
          opacity: 0;
        }
      }
    `,document.head.appendChild(u);const c=3;for(let p=0;p<c;p++){const g=document.createElement("div");g.className="cloud";const y=Math.random()*100+80,_=Math.random()*30+10,v=Math.random()*60+80,S=Math.random()*-30;g.style.cssText=`
        position: absolute;
        width: ${y}px;
        height: ${y*.6}px;
        background: rgba(150, 170, 190, 0.1);
        border-radius: 50%;
        top: ${_}%;
        left: -150px;
        animation: cloudDrift ${v}s ${S}s linear infinite;
        filter: blur(15px);
        z-index: 3;
      `,t.current.appendChild(g)}const d=document.createElement("style");d.textContent=`
      @keyframes cloudDrift {
        0% {
          transform: translateX(0);
        }
        100% {
          transform: translateX(calc(100vw + 200px));
        }
      }
    `,document.head.appendChild(d);const h=p=>{const g=p.clientX/window.innerWidth,y=p.clientY/window.innerHeight,_=(g-.5)*20,v=(y-.5)*20,S=(g-.5)*-10,w=(y-.5)*-10;n.current&&(n.current.style.transform=`translate(${_}px, ${v}px)`),i.current&&(i.current.style.transform=`translate(${S}px, ${w}px)`)};return document.addEventListener("mousemove",h),()=>{document.removeEventListener("mousemove",h)}},[]),x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"orientation-warning",children:x.jsxs("div",{className:"warning-content",children:[x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"80",height:"80",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2"}),x.jsx("line",{x1:"8",y1:"21",x2:"16",y2:"21"}),x.jsx("line",{x1:"12",y1:"17",x2:"12",y2:"21"})]}),x.jsx("h2",{children:"Please Use Desktop, Tablet, or Rotate Your Phone"}),x.jsx("p",{children:"ElectroQuest is best experienced on larger screens or in landscape mode."})]})}),x.jsx("div",{className:"fog-layer fog-1"}),x.jsx("div",{className:"fog-layer fog-2"}),x.jsx("div",{className:"fog-layer fog-3"}),x.jsxs("div",{className:"scene",ref:t,children:[x.jsx("div",{className:"particles"}),x.jsx("div",{className:"moon",ref:n}),x.jsx("div",{className:"haunted-house",ref:i,children:x.jsx("img",{src:"/assets/semesta-gambar rumah.png",alt:"Haunted House",className:"house-image"})}),x.jsx("div",{className:"ground",children:x.jsx("img",{src:"/assets/semesta-gambar rumput.png",alt:"Grass",className:"grass-image"})})]})]})}function kA(){const{playClickSound:t,playHoverSound:n}=oi(),i=Cn(),r=[{id:"play",label:"Main",path:"/play"},{id:"profile",label:"Profil",path:"/profile"},{id:"settings",label:"Pengaturan",path:"/settings"}],l=c=>{t(),setTimeout(()=>{i(c)},100)},u=()=>{n()};return x.jsx("nav",{className:"menu",children:r.map(c=>x.jsx("button",{className:"menu-item",onClick:()=>l(c.path),onMouseEnter:u,children:c.label},c.id))})}function CA(){return Cn(),x.jsxs("div",{className:"container",children:[x.jsx(OA,{}),x.jsxs("div",{className:"content",children:[x.jsx("p",{className:"credit-top-right",children:"by semesta"}),x.jsxs("header",{className:"header",children:[x.jsx("h1",{className:"title",children:"ElectroQuest"}),x.jsx("p",{className:"subtitle",children:"Kuasai Seni Elektronika"}),x.jsx(kA,{})]})]})]})}function jA(){const[t,n]=R.useState(!0),[i,r]=R.useState(""),[l,u]=R.useState(""),[c,d]=R.useState(""),[h,p]=R.useState(""),[g,y]=R.useState(!1),{signIn:_,signUp:v}=Yi(),{playClickSound:S}=oi(),w=Cn(),E=async j=>{j.preventDefault(),p(""),y(!0),S();try{if(t){const{error:N}=await _(i,l);if(N)throw N;w("/")}else{if(!c.trim())throw new Error("Nama harus diisi");const{error:N}=await v(i,l,c);if(N)throw N;w("/")}}catch(N){p(N.message||"Terjadi kesalahan")}finally{y(!1)}},A=()=>{S(),n(!t),p("")};return x.jsx("div",{className:"auth-container",children:x.jsxs("div",{className:"auth-card",children:[x.jsx("h1",{className:"auth-title",children:"ElectroQuest"}),x.jsx("p",{className:"auth-subtitle",children:t?"Masuk ke Petualangan":"Mulai Petualangan Baru"}),x.jsxs("form",{onSubmit:E,className:"auth-form",children:[!t&&x.jsxs("div",{className:"form-group",children:[x.jsx("label",{htmlFor:"displayName",children:"Nama Petualang"}),x.jsx("input",{type:"text",id:"displayName",value:c,onChange:j=>d(j.target.value),placeholder:"Masukkan nama Anda",required:!t})]}),x.jsxs("div",{className:"form-group",children:[x.jsx("label",{htmlFor:"email",children:"Email"}),x.jsx("input",{type:"email",id:"email",value:i,onChange:j=>r(j.target.value),placeholder:"email@contoh.com",required:!0})]}),x.jsxs("div",{className:"form-group",children:[x.jsx("label",{htmlFor:"password",children:"Password"}),x.jsx("input",{type:"password",id:"password",value:l,onChange:j=>u(j.target.value),placeholder:"Masukkan password",required:!0,minLength:6})]}),h&&x.jsx("div",{className:"auth-error",children:h}),x.jsx("button",{type:"submit",className:"auth-button",disabled:g,children:g?"Memproses...":t?"Masuk":"Daftar"})]}),x.jsx("div",{className:"auth-toggle",children:x.jsxs("p",{children:[t?"Belum punya akun?":"Sudah punya akun?"," ",x.jsx("button",{onClick:A,className:"toggle-link",children:t?"Daftar":"Masuk"})]})})]})})}function ri(){const t=R.useRef(null),n=R.useRef(null);return R.useEffect(()=>{const i=t.current.querySelector(".particles"),r=30;for(let h=0;h<r;h++){const p=document.createElement("div");p.className="particle";const g=Math.random()*3+1,y=Math.random()*100,_=Math.random()*20+15,v=Math.random()*10;p.style.cssText=`
        position: absolute;
        width: ${g}px;
        height: ${g}px;
        background: rgba(255, 255, 255, 0.3);
        border-radius: 50%;
        left: ${y}%;
        bottom: -10px;
        animation: floatUp ${_}s ${v}s linear infinite;
        box-shadow: 0 0 10px rgba(255, 255, 255, 0.2);
      `,i.appendChild(p)}const l=document.createElement("style");l.textContent=`
      @keyframes floatUp {
        0% {
          transform: translateY(0) translateX(0);
          opacity: 0;
        }
        10% {
          opacity: 0.5;
        }
        90% {
          opacity: 0.5;
        }
        100% {
          transform: translateY(-100vh) translateX(${Math.random()*100-50}px);
          opacity: 0;
        }
      }
    `,document.head.appendChild(l);const u=3;for(let h=0;h<u;h++){const p=document.createElement("div");p.className="cloud";const g=Math.random()*100+80,y=Math.random()*30+10,_=Math.random()*60+80,v=Math.random()*-30;p.style.cssText=`
        position: absolute;
        width: ${g}px;
        height: ${g*.6}px;
        background: rgba(150, 170, 190, 0.1);
        border-radius: 50%;
        top: ${y}%;
        left: -150px;
        animation: cloudDrift ${_}s ${v}s linear infinite;
        filter: blur(15px);
        z-index: 3;
      `,t.current.appendChild(p)}const c=document.createElement("style");c.textContent=`
      @keyframes cloudDrift {
        0% {
          transform: translateX(0);
        }
        100% {
          transform: translateX(calc(100vw + 200px));
        }
      }
    `,document.head.appendChild(c);const d=h=>{const p=h.clientX/window.innerWidth,g=h.clientY/window.innerHeight,y=(p-.5)*20,_=(g-.5)*20;n.current&&(n.current.style.transform=`translate(${y}px, ${_}px)`)};return document.addEventListener("mousemove",d),()=>{document.removeEventListener("mousemove",d)}},[]),x.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:1,pointerEvents:"none"},children:[x.jsx("div",{className:"fog-layer fog-1"}),x.jsx("div",{className:"fog-layer fog-2"}),x.jsx("div",{className:"fog-layer fog-3"}),x.jsxs("div",{className:"scene",ref:t,style:{position:"relative",width:"100%",height:"100%"},children:[x.jsx("div",{className:"particles"}),x.jsx("div",{className:"moon",ref:n})]})]})}function MA(){const{user:t,profile:n,updateProfile:i}=Yi(),{playClickSound:r,playHoverSound:l}=oi(),u=Cn(),[c,d]=R.useState(null),[h,p]=R.useState(!1),[g,y]=R.useState("");R.useEffect(()=>{n&&(y(n.display_name),_())},[n]);const _=async()=>{try{const{data:$,error:q}=await We.rpc("get_user_stats",{p_user_id:t.id}).maybeSingle();if(q)throw q;d($||{total_experiments:0,successful_experiments:0,success_rate:0,total_xp_earned:0,favorite_topic:"-"})}catch($){console.error("Error fetching stats:",$)}},v=async()=>{r(),await i({display_name:g}),p(!1)},S=()=>{r(),u("/")};if(!n)return x.jsx("div",{className:"profile-container",children:x.jsx("p",{className:"loading-text",children:"Memuat profil..."})});const w=n.level<=3?"Magang":n.level<=7?"Gesit":n.level<=12?"Ahli":"Master",E=(n.level-1)*(n.level-1)*100,A=n.level*n.level*100,j=n.total_xp-E,N=A-E,M=j/N*100;return x.jsxs("div",{className:"profile-container",children:[x.jsx(ri,{}),x.jsxs("div",{className:"profile-content",children:[x.jsx("button",{onClick:S,className:"back-button",onMouseEnter:l,children:" Kembali"}),x.jsxs("div",{className:"profile-card",children:[x.jsxs("div",{className:"profile-header",children:[x.jsx("div",{className:"avatar-section",children:x.jsxs("div",{className:"avatar-frame",children:[x.jsx("div",{className:"avatar-glow"}),x.jsx("div",{className:"avatar-placeholder",children:n.display_name.charAt(0).toUpperCase()})]})}),x.jsxs("div",{className:"profile-info",children:[h?x.jsxs("div",{className:"edit-name",children:[x.jsx("input",{type:"text",value:g,onChange:$=>y($.target.value),className:"name-input"}),x.jsx("button",{onClick:v,className:"save-button",children:"Simpan"})]}):x.jsxs(x.Fragment,{children:[x.jsx("h1",{className:"profile-name",children:n.display_name}),x.jsx("button",{onClick:()=>{r(),p(!0)},className:"edit-button",onMouseEnter:l,children:" Edit"})]}),x.jsxs("div",{className:"level-badge",children:[x.jsx("span",{className:"level-title",children:w}),x.jsxs("span",{className:"level-number",children:["Level ",n.level]})]})]})]}),x.jsxs("div",{className:"xp-section",children:[x.jsx("div",{className:"xp-bar-container",children:x.jsx("div",{className:"xp-bar",style:{width:`${M}%`}})}),x.jsxs("p",{className:"xp-text",children:[j," / ",N," XP untuk level berikutnya"]})]}),c&&x.jsxs("div",{className:"stats-grid",children:[x.jsxs("div",{className:"stat-card",children:[x.jsx("div",{className:"stat-icon",children:""}),x.jsx("div",{className:"stat-value",children:c.total_experiments}),x.jsx("div",{className:"stat-label",children:"Total Eksperimen"})]}),x.jsxs("div",{className:"stat-card",children:[x.jsx("div",{className:"stat-icon",children:""}),x.jsx("div",{className:"stat-value",children:c.successful_experiments}),x.jsx("div",{className:"stat-label",children:"Berhasil"})]}),x.jsxs("div",{className:"stat-card",children:[x.jsx("div",{className:"stat-icon",children:""}),x.jsxs("div",{className:"stat-value",children:[c.success_rate,"%"]}),x.jsx("div",{className:"stat-label",children:"Tingkat Keberhasilan"})]}),x.jsxs("div",{className:"stat-card",children:[x.jsx("div",{className:"stat-icon",children:""}),x.jsx("div",{className:"stat-value",children:n.total_xp}),x.jsx("div",{className:"stat-label",children:"Total XP"})]})]})]})]})]})}function DA(){const{user:t,signOut:n}=Yi(),{playClickSound:i,playHoverSound:r}=oi(),l=Cn(),[u,c]=R.useState({music_enabled:!0,effects_enabled:!0,music_volume:30,effects_volume:50}),[d,h]=R.useState(!0),[p,g]=R.useState(!1);R.useEffect(()=>{y()},[t]);const y=async()=>{if(t)try{const{data:N,error:M}=await We.from("settings").select("*").eq("user_id",t.id).maybeSingle();if(M)throw M;N&&(c(N),_(N))}catch(N){console.error("Error fetching settings:",N)}finally{h(!1)}},_=N=>{const M=document.getElementById("ambient-music"),$=document.getElementById("click-sound"),q=document.getElementById("hover-sound");M&&(M.volume=N.music_volume/100,M.muted=!N.music_enabled),$&&($.volume=N.effects_volume/100),q&&(q.volume=N.effects_volume/100)},v=async N=>{g(!0);try{const{error:M}=await We.from("settings").update(N).eq("user_id",t.id);if(M)throw M;_(N)}catch(M){console.error("Error saving settings:",M)}finally{g(!1)}},S=N=>{i();const M={...u,[N]:!u[N]};c(M),v(M)},w=(N,M)=>{const $={...u,[N]:parseInt(M)};c($)},E=N=>{v(u)},A=()=>{i(),l("/")},j=async()=>{i(),await n(),l("/auth")};return d?x.jsx("div",{className:"settings-container",children:x.jsx("p",{className:"loading-text",children:"Memuat pengaturan..."})}):x.jsxs("div",{className:"settings-container",children:[x.jsx(ri,{}),x.jsxs("div",{className:"settings-content",children:[x.jsx("button",{onClick:A,className:"back-button",onMouseEnter:r,children:" Kembali"}),x.jsxs("div",{className:"settings-card",children:[x.jsx("h1",{className:"settings-title",children:"Pengaturan"}),x.jsxs("div",{className:"settings-section",children:[x.jsx("h2",{className:"section-title",children:"Audio"}),x.jsxs("div",{className:"setting-item",children:[x.jsxs("div",{className:"setting-info",children:[x.jsx("span",{className:"setting-label",children:"Musik Latar"}),x.jsx("span",{className:"setting-description",children:"Musik ambient background"})]}),x.jsx("button",{className:`toggle-button ${u.music_enabled?"active":""}`,onClick:()=>S("music_enabled"),onMouseEnter:r,children:x.jsx("div",{className:"toggle-slider"})})]}),u.music_enabled&&x.jsxs("div",{className:"setting-item volume-item",children:[x.jsx("span",{className:"setting-label",children:"Volume Musik"}),x.jsxs("div",{className:"volume-control",children:[x.jsx("input",{type:"range",min:"0",max:"100",value:u.music_volume,onChange:N=>w("music_volume",N.target.value),onMouseUp:()=>E(),onTouchEnd:()=>E(),className:"volume-slider"}),x.jsxs("span",{className:"volume-value",children:[u.music_volume,"%"]})]})]}),x.jsxs("div",{className:"setting-item",children:[x.jsxs("div",{className:"setting-info",children:[x.jsx("span",{className:"setting-label",children:"Efek Suara"}),x.jsx("span",{className:"setting-description",children:"Suara klik dan hover"})]}),x.jsx("button",{className:`toggle-button ${u.effects_enabled?"active":""}`,onClick:()=>S("effects_enabled"),onMouseEnter:r,children:x.jsx("div",{className:"toggle-slider"})})]}),u.effects_enabled&&x.jsxs("div",{className:"setting-item volume-item",children:[x.jsx("span",{className:"setting-label",children:"Volume Efek"}),x.jsxs("div",{className:"volume-control",children:[x.jsx("input",{type:"range",min:"0",max:"100",value:u.effects_volume,onChange:N=>w("effects_volume",N.target.value),onMouseUp:()=>E(),onTouchEnd:()=>E(),className:"volume-slider"}),x.jsxs("span",{className:"volume-value",children:[u.effects_volume,"%"]})]})]})]}),x.jsxs("div",{className:"settings-section",children:[x.jsx("h2",{className:"section-title",children:"Akun"}),x.jsx("button",{onClick:j,className:"signout-button",onMouseEnter:r,children:"Keluar"})]}),p&&x.jsx("div",{className:"saving-indicator",children:"Menyimpan..."})]})]})]})}function zA(){const{user:t}=Yi(),{playClickSound:n,playHoverSound:i}=oi(),r=Cn(),[l,u]=R.useState(null),[c,d]=R.useState(!1),h=[{id:"components",title:"Unsur Kodeks",description:"Pelajari komponen dasar elektronika seperti resistor, capacitor, dan lainnya",icon:"",color:"#fbbf24"},{id:"circuits",title:"Sihir Sirkuit",description:"Kuasai rangkaian seri & paralel, Hukum Ohm, dan analisis sirkuit",icon:"",color:"#60a5fa"},{id:"practical",title:"Alkimia Praktis",description:"Eksperimen breadboard, proyek nyata, dan aplikasi dunia nyata",icon:"",color:"#34d399"}];R.useEffect(()=>{p()},[t]);const p=async()=>{try{await We.rpc("generate_daily_challenge");const w=new Date().toISOString().split("T")[0],{data:E,error:A}=await We.from("daily_challenges").select("*").eq("date",w).maybeSingle();if(A)throw A;if(E&&t){const{data:j}=await We.from("user_daily_completions").select("*").eq("user_id",t.id).eq("challenge_id",E.id).maybeSingle();d(!!j),u(E)}}catch(w){console.error("Error fetching daily challenge:",w)}},g=w=>{n(),r(`/difficulty/${w}`)},y=()=>{l&&!c&&(n(),r(`/laboratory/${l.topic}/${l.difficulty}?daily=true`))},_=()=>{n(),r("/")},v=w=>({apprentice:"Magang",journeyman:"Gesit",master:"Master"})[w]||w,S=w=>({components:"Kodeks Komponen",circuits:"Sihir Sirkuit",practical:"Alkimia Praktis"})[w]||w;return x.jsxs("div",{className:"play-container",children:[x.jsx(ri,{}),x.jsxs("div",{className:"play-content",children:[x.jsx("button",{onClick:_,className:"back-button",onMouseEnter:i,children:" Kembali"}),x.jsx("h1",{className:"play-title",children:"Pilih Petualanganmu"}),l&&x.jsxs("div",{className:`daily-challenge ${c?"completed":""}`,onClick:y,onMouseEnter:i,children:[x.jsxs("div",{className:"challenge-badge",children:[x.jsx("span",{className:"challenge-icon",children:""}),x.jsx("span",{className:"challenge-label",children:"Tantangan Harian"})]}),x.jsxs("div",{className:"challenge-content",children:[x.jsxs("h3",{className:"challenge-title",children:[S(l.topic)," - ",v(l.difficulty)]}),x.jsx("p",{className:"challenge-description",children:l.description}),x.jsxs("div",{className:"challenge-reward",children:[x.jsx("span",{className:"reward-icon",children:""}),x.jsxs("span",{children:["+",l.bonus_xp," Bonus XP"]})]})]}),c&&x.jsx("div",{className:"completed-overlay",children:x.jsx("span",{className:"completed-text",children:" Selesai"})})]}),x.jsx("div",{className:"topics-grid",children:h.map(w=>x.jsxs("div",{className:"topic-card",onClick:()=>g(w.id),onMouseEnter:i,style:{"--topic-color":w.color},children:[x.jsx("div",{className:"topic-icon",children:w.icon}),x.jsx("h2",{className:"topic-title",children:w.title}),x.jsx("p",{className:"topic-description",children:w.description}),x.jsx("div",{className:"topic-arrow",children:""})]},w.id))})]})]})}function UA(){const{topic:t}=Cv(),{playClickSound:n,playHoverSound:i}=oi(),r=Cn(),l=[{id:"apprentice",title:"Ujian Magang",description:"Eksperimen terpandu dengan petunjuk tersedia. Sempurna untuk pemula yang baru belajar.",icon:"",color:"#34d399",multiplier:"1x XP"},{id:"journeyman",title:"Tantangan Gesit",description:"Bantuan moderat, beberapa percobaan diperlukan. Untuk yang sudah memahami dasar-dasar.",icon:"",color:"#fbbf24",multiplier:"1.5x XP"},{id:"master",title:"Ujian Master",description:"Panduan minimal, eksperimen murni. Hanya untuk yang berani menghadapi tantangan sejati.",icon:"",color:"#f87171",multiplier:"2.5x XP"}],u={components:"Kodeks Komponen",circuits:"Sihir Sirkuit",practical:"Alkimia Praktis"},c=h=>{n(),r(`/laboratory/${t}/${h}`)},d=()=>{n(),r("/play")};return x.jsxs("div",{className:"difficulty-container",children:[x.jsx(ri,{}),x.jsxs("div",{className:"difficulty-content",children:[x.jsx("button",{onClick:d,className:"back-button",onMouseEnter:i,children:" Kembali"}),x.jsxs("div",{className:"difficulty-header",children:[x.jsx("h1",{className:"difficulty-title",children:u[t]||t}),x.jsx("p",{className:"difficulty-subtitle",children:"Pilih tingkat kesulitanmu"})]}),x.jsx("div",{className:"difficulties-grid",children:l.map(h=>x.jsxs("div",{className:"difficulty-card",onClick:()=>c(h.id),onMouseEnter:i,style:{"--difficulty-color":h.color},children:[x.jsx("div",{className:"difficulty-icon",children:h.icon}),x.jsx("h2",{className:"difficulty-card-title",children:h.title}),x.jsx("p",{className:"difficulty-description",children:h.description}),x.jsx("div",{className:"difficulty-multiplier",children:h.multiplier})]},h.id))})]})]})}const N0="YOUR_N8N_WEBHOOK_URL_HERE",uu={components:{apprentice:{id:"comp-app-1",title:"Menyalakan Lentera Pertama",scenario:"Lentera di menara penjaga telah padam. Bantu penjaga menyalakan kembali lentera dengan merakit rangkaian LED sederhana.",objective:"Rakit rangkaian LED dengan resistor dan baterai agar LED menyala",type:"circuit_assembly",components:[{id:"battery-1",type:"battery",voltage:"9V",label:"Baterai 9V"},{id:"resistor-1",type:"resistor",value:"220",label:"Resistor 220"},{id:"led-1",type:"led",color:"red",label:"LED Merah"}],solution:{connections:[{from:"battery-1-positive",to:"resistor-1-pin1"},{from:"resistor-1-pin2",to:"led-1-anode"},{from:"led-1-cathode",to:"battery-1-negative"}],explanation:"Resistor membatasi arus agar LED tidak terbakar, dan rangkaian membentuk jalur tertutup dari positif ke negatif baterai."},hints:["Arus listrik mengalir dari terminal positif (+) baterai","Resistor harus dipasang sebelum LED untuk melindunginya","Kaki panjang LED adalah anoda (positif), kaki pendek adalah katoda (negatif)"],expectedSolution:{components:[{type:"battery"},{type:"resistor"},{type:"led"}],connections:[{from:"battery",to:"resistor"},{from:"resistor",to:"led"},{from:"led",to:"battery"}],shouldLightLED:!0},learning_points:["LED membutuhkan resistor untuk membatasi arus","Rangkaian harus membentuk jalur tertutup","Polaritas LED harus diperhatikan"],max_hints:3,base_xp:50},journeyman:{id:"comp-jou-1",title:"Teka-Teki Kapasitor Ajaib",scenario:"Ahli alkimia membutuhkan bantuan untuk memahami perilaku aneh kapasitor dalam eksperimennya. Kapasitor menyimpan energi, namun berapa lama ia dapat menyimpannya?",objective:"Identifikasi kapasitor yang tepat dan prediksi berapa lama LED akan menyala setelah sumber daya diputus",type:"component_identification",components:[{id:"cap-1",type:"capacitor",value:"100F",label:"Kapasitor 100F"},{id:"cap-2",type:"capacitor",value:"1000F",label:"Kapasitor 1000F"},{id:"resistor-1",type:"resistor",value:"1k",label:"Resistor 1k"},{id:"led-1",type:"led",color:"blue",label:"LED Biru"},{id:"switch-1",type:"switch",label:"Saklar"}],solution:{answer:"cap-2",explanation:"Kapasitor 1000F memiliki kapasitansi lebih besar, sehingga dapat menyimpan lebih banyak energi dan membuat LED menyala lebih lama setelah saklar dimatikan."},hints:["Kapasitor dengan nilai lebih besar dapat menyimpan lebih banyak muatan","Muatan yang tersimpan = Kapasitansi  Tegangan (Q = C  V)","Kapasitor 1000F adalah 10 lebih besar dari 100F"],learning_points:["Kapasitor menyimpan energi listrik dalam medan elektrik","Nilai kapasitansi menentukan berapa banyak muatan yang dapat disimpan","Kapasitor dapat digunakan untuk menciptakan penundaan waktu"],max_hints:3,base_xp:75},master:{id:"comp-mas-1",title:"Krisis Transistor Gerbang",scenario:"Gerbang kastil menggunakan sistem elektronik kompleks dengan transistor sebagai pengendali. Seseorang telah merusak rangkaian dan gerbang tidak mau terbuka! Analisis rangkaian transistor dan temukan kesalahan fatal.",objective:"Identifikasi komponen yang rusak dan jelaskan mengapa rangkaian tidak bekerja",type:"troubleshooting",components:[{id:"transistor-1",type:"npn-transistor",label:"Transistor NPN (BC547)"},{id:"resistor-1",type:"resistor",value:"10k",label:"Resistor Base 10k"},{id:"resistor-2",type:"resistor",value:"470",label:"Resistor Collector 470"},{id:"motor-1",type:"motor",label:"Motor Gerbang"},{id:"battery-1",type:"battery",voltage:"12V",label:"Baterai 12V"},{id:"button-1",type:"button",label:"Tombol Buka Gerbang"}],solution:{issue:"resistor-1-too-high",explanation:"Resistor base 10k terlalu besar, menyebabkan arus base tidak cukup untuk men-saturasi transistor. Transistor harus diganti dengan resistor 1k agar menghasilkan arus base yang cukup (I_base = V_in / R_base)."},hints:["Transistor NPN membutuhkan arus base minimal untuk aktif (biasanya 0.6-0.7V)","Rumus arus base: I_base = (V_input - V_be) / R_base","Untuk men-saturasi transistor, arus base harus mencapai I_c / hFE (hFE  100-200 untuk BC547)"],learning_points:["Transistor bekerja sebagai saklar elektronik","Arus base mengontrol arus collector-emitter","Pemilihan nilai resistor base sangat penting untuk operasi transistor"],max_hints:3,base_xp:150}},circuits:{apprentice:{id:"circ-app-1",title:"Rangkaian Seri Penerangan Kastil",scenario:"Tiga lentera di koridor kastil harus menyala dengan terang yang sama. Raja memerintahkan untuk menyusun rangkaian seri yang sempurna.",objective:"Susun 3 LED dalam rangkaian seri dengan sumber daya 9V",type:"circuit_assembly",components:[{id:"battery-1",type:"battery",voltage:"9V",label:"Baterai 9V"},{id:"resistor-1",type:"resistor",value:"470",label:"Resistor 470"},{id:"led-1",type:"led",color:"red",label:"LED Merah 1"},{id:"led-2",type:"led",color:"red",label:"LED Merah 2"},{id:"led-3",type:"led",color:"red",label:"LED Merah 3"}],solution:{connections:[{from:"battery-1-positive",to:"resistor-1-pin1"},{from:"resistor-1-pin2",to:"led-1-anode"},{from:"led-1-cathode",to:"led-2-anode"},{from:"led-2-cathode",to:"led-3-anode"},{from:"led-3-cathode",to:"battery-1-negative"}],explanation:"Dalam rangkaian seri, arus yang sama mengalir melalui semua komponen. Total tegangan terbagi untuk setiap LED."},hints:["Dalam rangkaian seri, komponen disambungkan berurutan","Katoda LED pertama terhubung ke anoda LED kedua","Satu resistor di awal rangkaian cukup untuk membatasi arus"],learning_points:["Rangkaian seri memiliki satu jalur arus","Arus sama di semua titik dalam rangkaian seri","Tegangan total dibagi di setiap komponen"],max_hints:3,base_xp:50},journeyman:{id:"circ-jou-1",title:"Misteri Paralel Menara Cahaya",scenario:"Penyihir menara membutuhkan sistem penerangan di mana satu lentera padam tidak mempengaruhi yang lain. Apakah ini mungkin? Ya, dengan rangkaian paralel!",objective:"Buat rangkaian paralel dengan 3 LED di mana masing-masing dapat dikontrol independen",type:"circuit_assembly",components:[{id:"battery-1",type:"battery",voltage:"9V",label:"Baterai 9V"},{id:"resistor-1",type:"resistor",value:"220",label:"Resistor 220 #1"},{id:"resistor-2",type:"resistor",value:"220",label:"Resistor 220 #2"},{id:"resistor-3",type:"resistor",value:"220",label:"Resistor 220 #3"},{id:"led-1",type:"led",color:"green",label:"LED Hijau"},{id:"led-2",type:"led",color:"yellow",label:"LED Kuning"},{id:"led-3",type:"led",color:"blue",label:"LED Biru"}],solution:{connections:[{from:"battery-1-positive",to:"resistor-1-pin1"},{from:"battery-1-positive",to:"resistor-2-pin1"},{from:"battery-1-positive",to:"resistor-3-pin1"},{from:"resistor-1-pin2",to:"led-1-anode"},{from:"resistor-2-pin2",to:"led-2-anode"},{from:"resistor-3-pin2",to:"led-3-anode"},{from:"led-1-cathode",to:"battery-1-negative"},{from:"led-2-cathode",to:"battery-1-negative"},{from:"led-3-cathode",to:"battery-1-negative"}],explanation:"Dalam rangkaian paralel, setiap cabang memiliki tegangan penuh dan bekerja independen. Jika satu LED mati, yang lain tetap menyala."},hints:["Setiap LED membutuhkan resistor sendiri dalam rangkaian paralel","Semua anoda LED terhubung ke sisi positif (melalui resistor)","Semua katoda LED terhubung ke sisi negatif"],learning_points:["Rangkaian paralel memiliki beberapa jalur arus","Tegangan sama di setiap cabang paralel","Komponen dalam paralel bekerja independen"],max_hints:3,base_xp:75},master:{id:"circ-mas-1",title:"Hukum Ohm dan Kekuatan Tersembunyi",scenario:"Naga listrik telah mengunci harta karun dalam kubah yang hanya bisa dibuka dengan menghitung kombinasi resistansi yang tepat. Gunakan Hukum Ohm untuk mengalahkan teka-teki naga!",objective:"Hitung nilai resistor yang tepat untuk menghasilkan arus 20mA pada LED dengan tegangan supply 12V (LED forward voltage = 2V)",type:"prediction",components:[{id:"battery-1",type:"battery",voltage:"12V",label:"Baterai 12V"},{id:"resistor-unknown",type:"resistor",value:"?",label:"Resistor (nilai?)"},{id:"led-1",type:"led",color:"white",label:"LED Putih (Vf=2V)"},{id:"multimeter-1",type:"multimeter",label:"Multimeter"}],solution:{answer:"500",calculation:"R = (V_supply - V_led) / I = (12V - 2V) / 0.02A = 10V / 0.02A = 500",explanation:"Menggunakan Hukum Ohm (V = I  R), kita hitung tegangan yang harus dijatuhkan resistor (10V), lalu bagi dengan arus yang diinginkan (20mA) untuk mendapat 500."},hints:["Hukum Ohm: V = I  R, atau R = V / I","Tegangan yang dijatuhkan resistor = V_supply - V_led","Konversi mA ke A: 20mA = 0.02A"],learning_points:["Hukum Ohm adalah dasar dari semua analisis rangkaian",'Resistor "menjatuhkan" tegangan berlebih',"Pemilihan resistor yang tepat melindungi komponen"],max_hints:3,base_xp:150}},practical:{apprentice:{id:"prac-app-1",title:"Breadboard Pertamamu",scenario:"Kamu menemukan papan ajaib yang dapat menghubungkan komponen tanpa solder. Namun, ada aturan aneh: beberapa lubang terhubung secara misterius!",objective:"Pahami cara kerja breadboard dan rakit rangkaian LED sederhana di breadboard",type:"circuit_assembly",components:[{id:"breadboard-1",type:"breadboard",label:"Breadboard"},{id:"battery-1",type:"battery",voltage:"5V",label:"Baterai 5V"},{id:"resistor-1",type:"resistor",value:"330",label:"Resistor 330"},{id:"led-1",type:"led",color:"red",label:"LED Merah"},{id:"wire-1",type:"wire",label:"Kabel Jumper"}],solution:{placement:[{component:"led-1",row:"10",column:"e"},{component:"resistor-1",row:"10",column:"c",to_row:"8",to_column:"c"},{wire:"positive-rail",to_row:"8",to_column:"a"},{wire:"negative-rail",to_row:"10",to_column:"f"}],explanation:"Breadboard memiliki rail power di sisi (+ dan -) yang terhubung vertikal, dan baris tengah terhubung horizontal dalam grup 5 lubang."},hints:["Rail + dan - di sisi breadboard terhubung vertikal","Baris tengah (a-e dan f-j) terhubung horizontal","Celah tengah memisahkan dua sisi breadboard"],learning_points:["Breadboard memungkinkan prototyping tanpa solder","Memahami koneksi internal breadboard sangat penting","Breadboard mempercepat eksperimen elektronik"],max_hints:3,base_xp:50},journeyman:{id:"prac-jou-1",title:"Alarm Pintu Kastil",scenario:"Kastil membutuhkan sistem alarm sederhana. Ketika pintu dibuka (saklar dilepas), buzzer harus berbunyi untuk memperingatkan penjaga!",objective:"Buat alarm sederhana menggunakan saklar, buzzer, dan transistor sebagai driver",type:"circuit_assembly",components:[{id:"battery-1",type:"battery",voltage:"9V",label:"Baterai 9V"},{id:"switch-1",type:"switch",label:"Saklar Pintu (NC - Normally Closed)"},{id:"resistor-1",type:"resistor",value:"1k",label:"Resistor 1k"},{id:"transistor-1",type:"npn-transistor",label:"Transistor NPN"},{id:"buzzer-1",type:"buzzer",label:"Buzzer"},{id:"resistor-2",type:"resistor",value:"10k",label:"Resistor Pull-down 10k"}],solution:{connections:[{from:"battery-1-positive",to:"switch-1-com"},{from:"switch-1-nc",to:"resistor-1-pin1"},{from:"resistor-1-pin2",to:"transistor-1-base"},{from:"transistor-1-base",to:"resistor-2-pin1"},{from:"resistor-2-pin2",to:"battery-1-negative"},{from:"battery-1-positive",to:"buzzer-1-positive"},{from:"buzzer-1-negative",to:"transistor-1-collector"},{from:"transistor-1-emitter",to:"battery-1-negative"}],explanation:"Saklar NC (Normally Closed) terbuka saat pintu dibuka, memutus arus base. Resistor pull-down memastikan transistor off, sehingga buzzer berbunyi."},hints:["NC (Normally Closed) berarti saklar tertutup dalam kondisi normal","Transistor NPN ON ketika ada arus di base","Resistor pull-down memastikan base di GND saat saklar terbuka"],learning_points:["Saklar NC vs NO memiliki perilaku berbeda","Transistor dapat mengontrol beban berat (buzzer)","Pull-down resistor mencegah floating voltage"],max_hints:3,base_xp:100},master:{id:"prac-mas-1",title:"Generator Energi Angin Ajaib",scenario:"Kerajaan ingin memanfaatkan energi angin untuk menyalakan lampu. Bangun sistem yang mengubah putaran kincir menjadi cahaya, lengkap dengan penyimpanan energi untuk malam hari!",objective:"Rancang sistem lengkap: motor sebagai generator, bridge rectifier, kapasitor penyimpan, dan LED sebagai beban",type:"circuit_assembly",components:[{id:"motor-1",type:"dc-motor",label:"Motor DC (sebagai generator)"},{id:"diode-1",type:"diode",label:"Dioda 1N4007 #1"},{id:"diode-2",type:"diode",label:"Dioda 1N4007 #2"},{id:"diode-3",type:"diode",label:"Dioda 1N4007 #3"},{id:"diode-4",type:"diode",label:"Dioda 1N4007 #4"},{id:"capacitor-1",type:"capacitor",value:"1000F",label:"Kapasitor 1000F"},{id:"resistor-1",type:"resistor",value:"100",label:"Resistor 100"},{id:"led-1",type:"led",color:"white",label:"LED Putih High-Power"}],solution:{connections:[{from:"motor-1-terminal1",to:"diode-1-anode"},{from:"motor-1-terminal1",to:"diode-2-cathode"},{from:"motor-1-terminal2",to:"diode-3-anode"},{from:"motor-1-terminal2",to:"diode-4-cathode"},{from:"diode-1-cathode",to:"diode-3-cathode",label:"V+"},{from:"diode-2-anode",to:"diode-4-anode",label:"GND"},{from:"V+",to:"capacitor-1-positive"},{from:"capacitor-1-negative",to:"GND"},{from:"V+",to:"resistor-1-pin1"},{from:"resistor-1-pin2",to:"led-1-anode"},{from:"led-1-cathode",to:"GND"}],explanation:"Bridge rectifier mengubah AC dari motor menjadi DC. Kapasitor menghaluskan tegangan dan menyimpan energi. Resistor membatasi arus LED."},hints:["Bridge rectifier dibuat dari 4 dioda dalam konfigurasi khusus","Motor DC dapat bekerja sebagai generator saat diputar","Kapasitor besar dapat menyimpan energi untuk penggunaan sementara"],learning_points:["Motor DC adalah generator reversibel","Bridge rectifier mengubah AC menjadi DC","Kapasitor berfungsi sebagai penyimpan energi sementara","Sistem energi terbarukan dapat disimulasikan dengan komponen sederhana"],max_hints:3,base_xp:200}}},BA=async(t,n,i="circuit_assembly")=>{try{if(N0==="YOUR_N8N_WEBHOOK_URL_HERE")return console.warn("n8n webhook URL belum dikonfigurasi, menggunakan fallback experiment"),R0(t,n);const r=await fetch(N0,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({topic:t,difficulty:n,experiment_type:i})});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);return(await r.json()).experiment}catch(r){return console.error("Error fetching experiment from n8n:",r),R0(t,n)}},R0=(t,n)=>uu[t]&&uu[t][n]?uu[t][n]:uu.components.apprentice,$A=(t,n,i,r)=>{const u={apprentice:1,journeyman:1.5,master:2.5}[n]||1,d=1-i/r*.3;return Math.round(t*u*d)};function Ct(t){if(typeof t=="string"||typeof t=="number")return""+t;let n="";if(Array.isArray(t))for(let i=0,r;i<t.length;i++)(r=Ct(t[i]))!==""&&(n+=(n&&" ")+r);else for(let i in t)t[i]&&(n+=(n&&" ")+i);return n}var Rd={exports:{}},Od={},kd={exports:{}},Cd={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O0;function LA(){if(O0)return Cd;O0=1;var t=wl();function n(y,_){return y===_&&(y!==0||1/y===1/_)||y!==y&&_!==_}var i=typeof Object.is=="function"?Object.is:n,r=t.useState,l=t.useEffect,u=t.useLayoutEffect,c=t.useDebugValue;function d(y,_){var v=_(),S=r({inst:{value:v,getSnapshot:_}}),w=S[0].inst,E=S[1];return u(function(){w.value=v,w.getSnapshot=_,h(w)&&E({inst:w})},[y,v,_]),l(function(){return h(w)&&E({inst:w}),y(function(){h(w)&&E({inst:w})})},[y]),c(v),v}function h(y){var _=y.getSnapshot;y=y.value;try{var v=_();return!i(y,v)}catch{return!0}}function p(y,_){return _()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:d;return Cd.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:g,Cd}var k0;function HA(){return k0||(k0=1,kd.exports=LA()),kd.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C0;function qA(){if(C0)return Od;C0=1;var t=wl(),n=HA();function i(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var r=typeof Object.is=="function"?Object.is:i,l=n.useSyncExternalStore,u=t.useRef,c=t.useEffect,d=t.useMemo,h=t.useDebugValue;return Od.useSyncExternalStoreWithSelector=function(p,g,y,_,v){var S=u(null);if(S.current===null){var w={hasValue:!1,value:null};S.current=w}else w=S.current;S=d(function(){function A(q){if(!j){if(j=!0,N=q,q=_(q),v!==void 0&&w.hasValue){var V=w.value;if(v(V,q))return M=V}return M=q}if(V=M,r(N,q))return V;var te=_(q);return v!==void 0&&v(V,te)?(N=q,V):(N=q,M=te)}var j=!1,N,M,$=y===void 0?null:y;return[function(){return A(g())},$===null?void 0:function(){return A($())}]},[g,y,_,v]);var E=l(p,S[0],S[1]);return c(function(){w.hasValue=!0,w.value=E},[E]),h(E),E},Od}var j0;function VA(){return j0||(j0=1,Rd.exports=qA()),Rd.exports}var PA=VA();const GA=Lu(PA),YA={},M0=t=>{let n;const i=new Set,r=(g,y)=>{const _=typeof g=="function"?g(n):g;if(!Object.is(_,n)){const v=n;n=y??(typeof _!="object"||_===null)?_:Object.assign({},n,_),i.forEach(S=>S(n,v))}},l=()=>n,h={setState:r,getState:l,getInitialState:()=>p,subscribe:g=>(i.add(g),()=>i.delete(g)),destroy:()=>{(YA?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),i.clear()}},p=n=t(r,l,h);return h},IA=t=>t?M0(t):M0,{useDebugValue:KA}=F,{useSyncExternalStoreWithSelector:XA}=GA,QA=t=>t;function Db(t,n=QA,i){const r=XA(t.subscribe,t.getState,t.getServerState||t.getInitialState,n,i);return KA(r),r}const D0=(t,n)=>{const i=IA(t),r=(l,u=n)=>Db(i,l,u);return Object.assign(r,i),r},ZA=(t,n)=>t?D0(t,n):D0;function Et(t,n){if(Object.is(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;if(t instanceof Map&&n instanceof Map){if(t.size!==n.size)return!1;for(const[r,l]of t)if(!Object.is(l,n.get(r)))return!1;return!0}if(t instanceof Set&&n instanceof Set){if(t.size!==n.size)return!1;for(const r of t)if(!n.has(r))return!1;return!0}const i=Object.keys(t);if(i.length!==Object.keys(n).length)return!1;for(const r of i)if(!Object.prototype.hasOwnProperty.call(n,r)||!Object.is(t[r],n[r]))return!1;return!0}var JA={value:()=>{}};function Yu(){for(var t=0,n=arguments.length,i={},r;t<n;++t){if(!(r=arguments[t]+"")||r in i||/[\s.]/.test(r))throw new Error("illegal type: "+r);i[r]=[]}return new wu(i)}function wu(t){this._=t}function FA(t,n){return t.trim().split(/^|\s+/).map(function(i){var r="",l=i.indexOf(".");if(l>=0&&(r=i.slice(l+1),i=i.slice(0,l)),i&&!n.hasOwnProperty(i))throw new Error("unknown type: "+i);return{type:i,name:r}})}wu.prototype=Yu.prototype={constructor:wu,on:function(t,n){var i=this._,r=FA(t+"",i),l,u=-1,c=r.length;if(arguments.length<2){for(;++u<c;)if((l=(t=r[u]).type)&&(l=WA(i[l],t.name)))return l;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++u<c;)if(l=(t=r[u]).type)i[l]=z0(i[l],t.name,n);else if(n==null)for(l in i)i[l]=z0(i[l],t.name,null);return this},copy:function(){var t={},n=this._;for(var i in n)t[i]=n[i].slice();return new wu(t)},call:function(t,n){if((l=arguments.length-2)>0)for(var i=new Array(l),r=0,l,u;r<l;++r)i[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(u=this._[t],r=0,l=u.length;r<l;++r)u[r].value.apply(n,i)},apply:function(t,n,i){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],l=0,u=r.length;l<u;++l)r[l].value.apply(n,i)}};function WA(t,n){for(var i=0,r=t.length,l;i<r;++i)if((l=t[i]).name===n)return l.value}function z0(t,n,i){for(var r=0,l=t.length;r<l;++r)if(t[r].name===n){t[r]=JA,t=t.slice(0,r).concat(t.slice(r+1));break}return i!=null&&t.push({name:n,value:i}),t}var ih="http://www.w3.org/1999/xhtml";const U0={svg:"http://www.w3.org/2000/svg",xhtml:ih,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Iu(t){var n=t+="",i=n.indexOf(":");return i>=0&&(n=t.slice(0,i))!=="xmlns"&&(t=t.slice(i+1)),U0.hasOwnProperty(n)?{space:U0[n],local:t}:t}function e2(t){return function(){var n=this.ownerDocument,i=this.namespaceURI;return i===ih&&n.documentElement.namespaceURI===ih?n.createElement(t):n.createElementNS(i,t)}}function t2(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function zb(t){var n=Iu(t);return(n.local?t2:e2)(n)}function n2(){}function zh(t){return t==null?n2:function(){return this.querySelector(t)}}function a2(t){typeof t!="function"&&(t=zh(t));for(var n=this._groups,i=n.length,r=new Array(i),l=0;l<i;++l)for(var u=n[l],c=u.length,d=r[l]=new Array(c),h,p,g=0;g<c;++g)(h=u[g])&&(p=t.call(h,h.__data__,g,u))&&("__data__"in h&&(p.__data__=h.__data__),d[g]=p);return new rn(r,this._parents)}function i2(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function r2(){return[]}function Ub(t){return t==null?r2:function(){return this.querySelectorAll(t)}}function s2(t){return function(){return i2(t.apply(this,arguments))}}function l2(t){typeof t=="function"?t=s2(t):t=Ub(t);for(var n=this._groups,i=n.length,r=[],l=[],u=0;u<i;++u)for(var c=n[u],d=c.length,h,p=0;p<d;++p)(h=c[p])&&(r.push(t.call(h,h.__data__,p,c)),l.push(h));return new rn(r,l)}function Bb(t){return function(){return this.matches(t)}}function $b(t){return function(n){return n.matches(t)}}var o2=Array.prototype.find;function u2(t){return function(){return o2.call(this.children,t)}}function c2(){return this.firstElementChild}function f2(t){return this.select(t==null?c2:u2(typeof t=="function"?t:$b(t)))}var d2=Array.prototype.filter;function h2(){return Array.from(this.children)}function m2(t){return function(){return d2.call(this.children,t)}}function p2(t){return this.selectAll(t==null?h2:m2(typeof t=="function"?t:$b(t)))}function g2(t){typeof t!="function"&&(t=Bb(t));for(var n=this._groups,i=n.length,r=new Array(i),l=0;l<i;++l)for(var u=n[l],c=u.length,d=r[l]=[],h,p=0;p<c;++p)(h=u[p])&&t.call(h,h.__data__,p,u)&&d.push(h);return new rn(r,this._parents)}function Lb(t){return new Array(t.length)}function y2(){return new rn(this._enter||this._groups.map(Lb),this._parents)}function Cu(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}Cu.prototype={constructor:Cu,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function v2(t){return function(){return t}}function b2(t,n,i,r,l,u){for(var c=0,d,h=n.length,p=u.length;c<p;++c)(d=n[c])?(d.__data__=u[c],r[c]=d):i[c]=new Cu(t,u[c]);for(;c<h;++c)(d=n[c])&&(l[c]=d)}function _2(t,n,i,r,l,u,c){var d,h,p=new Map,g=n.length,y=u.length,_=new Array(g),v;for(d=0;d<g;++d)(h=n[d])&&(_[d]=v=c.call(h,h.__data__,d,n)+"",p.has(v)?l[d]=h:p.set(v,h));for(d=0;d<y;++d)v=c.call(t,u[d],d,u)+"",(h=p.get(v))?(r[d]=h,h.__data__=u[d],p.delete(v)):i[d]=new Cu(t,u[d]);for(d=0;d<g;++d)(h=n[d])&&p.get(_[d])===h&&(l[d]=h)}function w2(t){return t.__data__}function S2(t,n){if(!arguments.length)return Array.from(this,w2);var i=n?_2:b2,r=this._parents,l=this._groups;typeof t!="function"&&(t=v2(t));for(var u=l.length,c=new Array(u),d=new Array(u),h=new Array(u),p=0;p<u;++p){var g=r[p],y=l[p],_=y.length,v=E2(t.call(g,g&&g.__data__,p,r)),S=v.length,w=d[p]=new Array(S),E=c[p]=new Array(S),A=h[p]=new Array(_);i(g,y,w,E,A,v,n);for(var j=0,N=0,M,$;j<S;++j)if(M=w[j]){for(j>=N&&(N=j+1);!($=E[N])&&++N<S;);M._next=$||null}}return c=new rn(c,r),c._enter=d,c._exit=h,c}function E2(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function x2(){return new rn(this._exit||this._groups.map(Lb),this._parents)}function T2(t,n,i){var r=this.enter(),l=this,u=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),n!=null&&(l=n(l),l&&(l=l.selection())),i==null?u.remove():i(u),r&&l?r.merge(l).order():l}function A2(t){for(var n=t.selection?t.selection():t,i=this._groups,r=n._groups,l=i.length,u=r.length,c=Math.min(l,u),d=new Array(l),h=0;h<c;++h)for(var p=i[h],g=r[h],y=p.length,_=d[h]=new Array(y),v,S=0;S<y;++S)(v=p[S]||g[S])&&(_[S]=v);for(;h<l;++h)d[h]=i[h];return new rn(d,this._parents)}function N2(){for(var t=this._groups,n=-1,i=t.length;++n<i;)for(var r=t[n],l=r.length-1,u=r[l],c;--l>=0;)(c=r[l])&&(u&&c.compareDocumentPosition(u)^4&&u.parentNode.insertBefore(c,u),u=c);return this}function R2(t){t||(t=O2);function n(y,_){return y&&_?t(y.__data__,_.__data__):!y-!_}for(var i=this._groups,r=i.length,l=new Array(r),u=0;u<r;++u){for(var c=i[u],d=c.length,h=l[u]=new Array(d),p,g=0;g<d;++g)(p=c[g])&&(h[g]=p);h.sort(n)}return new rn(l,this._parents).order()}function O2(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function k2(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function C2(){return Array.from(this)}function j2(){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var r=t[n],l=0,u=r.length;l<u;++l){var c=r[l];if(c)return c}return null}function M2(){let t=0;for(const n of this)++t;return t}function D2(){return!this.node()}function z2(t){for(var n=this._groups,i=0,r=n.length;i<r;++i)for(var l=n[i],u=0,c=l.length,d;u<c;++u)(d=l[u])&&t.call(d,d.__data__,u,l);return this}function U2(t){return function(){this.removeAttribute(t)}}function B2(t){return function(){this.removeAttributeNS(t.space,t.local)}}function $2(t,n){return function(){this.setAttribute(t,n)}}function L2(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function H2(t,n){return function(){var i=n.apply(this,arguments);i==null?this.removeAttribute(t):this.setAttribute(t,i)}}function q2(t,n){return function(){var i=n.apply(this,arguments);i==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,i)}}function V2(t,n){var i=Iu(t);if(arguments.length<2){var r=this.node();return i.local?r.getAttributeNS(i.space,i.local):r.getAttribute(i)}return this.each((n==null?i.local?B2:U2:typeof n=="function"?i.local?q2:H2:i.local?L2:$2)(i,n))}function Hb(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function P2(t){return function(){this.style.removeProperty(t)}}function G2(t,n,i){return function(){this.style.setProperty(t,n,i)}}function Y2(t,n,i){return function(){var r=n.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,i)}}function I2(t,n,i){return arguments.length>1?this.each((n==null?P2:typeof n=="function"?Y2:G2)(t,n,i??"")):Yr(this.node(),t)}function Yr(t,n){return t.style.getPropertyValue(n)||Hb(t).getComputedStyle(t,null).getPropertyValue(n)}function K2(t){return function(){delete this[t]}}function X2(t,n){return function(){this[t]=n}}function Q2(t,n){return function(){var i=n.apply(this,arguments);i==null?delete this[t]:this[t]=i}}function Z2(t,n){return arguments.length>1?this.each((n==null?K2:typeof n=="function"?Q2:X2)(t,n)):this.node()[t]}function qb(t){return t.trim().split(/^|\s+/)}function Uh(t){return t.classList||new Vb(t)}function Vb(t){this._node=t,this._names=qb(t.getAttribute("class")||"")}Vb.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Pb(t,n){for(var i=Uh(t),r=-1,l=n.length;++r<l;)i.add(n[r])}function Gb(t,n){for(var i=Uh(t),r=-1,l=n.length;++r<l;)i.remove(n[r])}function J2(t){return function(){Pb(this,t)}}function F2(t){return function(){Gb(this,t)}}function W2(t,n){return function(){(n.apply(this,arguments)?Pb:Gb)(this,t)}}function eN(t,n){var i=qb(t+"");if(arguments.length<2){for(var r=Uh(this.node()),l=-1,u=i.length;++l<u;)if(!r.contains(i[l]))return!1;return!0}return this.each((typeof n=="function"?W2:n?J2:F2)(i,n))}function tN(){this.textContent=""}function nN(t){return function(){this.textContent=t}}function aN(t){return function(){var n=t.apply(this,arguments);this.textContent=n??""}}function iN(t){return arguments.length?this.each(t==null?tN:(typeof t=="function"?aN:nN)(t)):this.node().textContent}function rN(){this.innerHTML=""}function sN(t){return function(){this.innerHTML=t}}function lN(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n??""}}function oN(t){return arguments.length?this.each(t==null?rN:(typeof t=="function"?lN:sN)(t)):this.node().innerHTML}function uN(){this.nextSibling&&this.parentNode.appendChild(this)}function cN(){return this.each(uN)}function fN(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function dN(){return this.each(fN)}function hN(t){var n=typeof t=="function"?t:zb(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function mN(){return null}function pN(t,n){var i=typeof t=="function"?t:zb(t),r=n==null?mN:typeof n=="function"?n:zh(n);return this.select(function(){return this.insertBefore(i.apply(this,arguments),r.apply(this,arguments)||null)})}function gN(){var t=this.parentNode;t&&t.removeChild(this)}function yN(){return this.each(gN)}function vN(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function bN(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function _N(t){return this.select(t?bN:vN)}function wN(t){return arguments.length?this.property("__data__",t):this.node().__data__}function SN(t){return function(n){t.call(this,n,this.__data__)}}function EN(t){return t.trim().split(/^|\s+/).map(function(n){var i="",r=n.indexOf(".");return r>=0&&(i=n.slice(r+1),n=n.slice(0,r)),{type:n,name:i}})}function xN(t){return function(){var n=this.__on;if(n){for(var i=0,r=-1,l=n.length,u;i<l;++i)u=n[i],(!t.type||u.type===t.type)&&u.name===t.name?this.removeEventListener(u.type,u.listener,u.options):n[++r]=u;++r?n.length=r:delete this.__on}}}function TN(t,n,i){return function(){var r=this.__on,l,u=SN(n);if(r){for(var c=0,d=r.length;c<d;++c)if((l=r[c]).type===t.type&&l.name===t.name){this.removeEventListener(l.type,l.listener,l.options),this.addEventListener(l.type,l.listener=u,l.options=i),l.value=n;return}}this.addEventListener(t.type,u,i),l={type:t.type,name:t.name,value:n,listener:u,options:i},r?r.push(l):this.__on=[l]}}function AN(t,n,i){var r=EN(t+""),l,u=r.length,c;if(arguments.length<2){var d=this.node().__on;if(d){for(var h=0,p=d.length,g;h<p;++h)for(l=0,g=d[h];l<u;++l)if((c=r[l]).type===g.type&&c.name===g.name)return g.value}return}for(d=n?TN:xN,l=0;l<u;++l)this.each(d(r[l],n,i));return this}function Yb(t,n,i){var r=Hb(t),l=r.CustomEvent;typeof l=="function"?l=new l(n,i):(l=r.document.createEvent("Event"),i?(l.initEvent(n,i.bubbles,i.cancelable),l.detail=i.detail):l.initEvent(n,!1,!1)),t.dispatchEvent(l)}function NN(t,n){return function(){return Yb(this,t,n)}}function RN(t,n){return function(){return Yb(this,t,n.apply(this,arguments))}}function ON(t,n){return this.each((typeof n=="function"?RN:NN)(t,n))}function*kN(){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var r=t[n],l=0,u=r.length,c;l<u;++l)(c=r[l])&&(yield c)}var Ib=[null];function rn(t,n){this._groups=t,this._parents=n}function Tl(){return new rn([[document.documentElement]],Ib)}function CN(){return this}rn.prototype=Tl.prototype={constructor:rn,select:a2,selectAll:l2,selectChild:f2,selectChildren:p2,filter:g2,data:S2,enter:y2,exit:x2,join:T2,merge:A2,selection:CN,order:N2,sort:R2,call:k2,nodes:C2,node:j2,size:M2,empty:D2,each:z2,attr:V2,style:I2,property:Z2,classed:eN,text:iN,html:oN,raise:cN,lower:dN,append:hN,insert:pN,remove:yN,clone:_N,datum:wN,on:AN,dispatch:ON,[Symbol.iterator]:kN};function yn(t){return typeof t=="string"?new rn([[document.querySelector(t)]],[document.documentElement]):new rn([[t]],Ib)}function jN(t){let n;for(;n=t.sourceEvent;)t=n;return t}function An(t,n){if(t=jN(t),n===void 0&&(n=t.currentTarget),n){var i=n.ownerSVGElement||n;if(i.createSVGPoint){var r=i.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(n.getScreenCTM().inverse()),[r.x,r.y]}if(n.getBoundingClientRect){var l=n.getBoundingClientRect();return[t.clientX-l.left-n.clientLeft,t.clientY-l.top-n.clientTop]}}return[t.pageX,t.pageY]}const MN={passive:!1},dl={capture:!0,passive:!1};function jd(t){t.stopImmediatePropagation()}function qr(t){t.preventDefault(),t.stopImmediatePropagation()}function Kb(t){var n=t.document.documentElement,i=yn(t).on("dragstart.drag",qr,dl);"onselectstart"in n?i.on("selectstart.drag",qr,dl):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function Xb(t,n){var i=t.document.documentElement,r=yn(t).on("dragstart.drag",null);n&&(r.on("click.drag",qr,dl),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in i?r.on("selectstart.drag",null):(i.style.MozUserSelect=i.__noselect,delete i.__noselect)}const cu=t=>()=>t;function rh(t,{sourceEvent:n,subject:i,target:r,identifier:l,active:u,x:c,y:d,dx:h,dy:p,dispatch:g}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:i,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:l,enumerable:!0,configurable:!0},active:{value:u,enumerable:!0,configurable:!0},x:{value:c,enumerable:!0,configurable:!0},y:{value:d,enumerable:!0,configurable:!0},dx:{value:h,enumerable:!0,configurable:!0},dy:{value:p,enumerable:!0,configurable:!0},_:{value:g}})}rh.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function DN(t){return!t.ctrlKey&&!t.button}function zN(){return this.parentNode}function UN(t,n){return n??{x:t.x,y:t.y}}function BN(){return navigator.maxTouchPoints||"ontouchstart"in this}function $N(){var t=DN,n=zN,i=UN,r=BN,l={},u=Yu("start","drag","end"),c=0,d,h,p,g,y=0;function _(M){M.on("mousedown.drag",v).filter(r).on("touchstart.drag",E).on("touchmove.drag",A,MN).on("touchend.drag touchcancel.drag",j).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(M,$){if(!(g||!t.call(this,M,$))){var q=N(this,n.call(this,M,$),M,$,"mouse");q&&(yn(M.view).on("mousemove.drag",S,dl).on("mouseup.drag",w,dl),Kb(M.view),jd(M),p=!1,d=M.clientX,h=M.clientY,q("start",M))}}function S(M){if(qr(M),!p){var $=M.clientX-d,q=M.clientY-h;p=$*$+q*q>y}l.mouse("drag",M)}function w(M){yn(M.view).on("mousemove.drag mouseup.drag",null),Xb(M.view,p),qr(M),l.mouse("end",M)}function E(M,$){if(t.call(this,M,$)){var q=M.changedTouches,V=n.call(this,M,$),te=q.length,X,re;for(X=0;X<te;++X)(re=N(this,V,M,$,q[X].identifier,q[X]))&&(jd(M),re("start",M,q[X]))}}function A(M){var $=M.changedTouches,q=$.length,V,te;for(V=0;V<q;++V)(te=l[$[V].identifier])&&(qr(M),te("drag",M,$[V]))}function j(M){var $=M.changedTouches,q=$.length,V,te;for(g&&clearTimeout(g),g=setTimeout(function(){g=null},500),V=0;V<q;++V)(te=l[$[V].identifier])&&(jd(M),te("end",M,$[V]))}function N(M,$,q,V,te,X){var re=u.copy(),ie=An(X||q,$),oe,le,O;if((O=i.call(M,new rh("beforestart",{sourceEvent:q,target:_,identifier:te,active:c,x:ie[0],y:ie[1],dx:0,dy:0,dispatch:re}),V))!=null)return oe=O.x-ie[0]||0,le=O.y-ie[1]||0,function P(k,z,G){var L=ie,J;switch(k){case"start":l[te]=P,J=c++;break;case"end":delete l[te],--c;case"drag":ie=An(G||z,$),J=c;break}re.call(k,M,new rh(k,{sourceEvent:z,subject:O,target:_,identifier:te,active:J,x:ie[0]+oe,y:ie[1]+le,dx:ie[0]-L[0],dy:ie[1]-L[1],dispatch:re}),V)}}return _.filter=function(M){return arguments.length?(t=typeof M=="function"?M:cu(!!M),_):t},_.container=function(M){return arguments.length?(n=typeof M=="function"?M:cu(M),_):n},_.subject=function(M){return arguments.length?(i=typeof M=="function"?M:cu(M),_):i},_.touchable=function(M){return arguments.length?(r=typeof M=="function"?M:cu(!!M),_):r},_.on=function(){var M=u.on.apply(u,arguments);return M===u?_:M},_.clickDistance=function(M){return arguments.length?(y=(M=+M)*M,_):Math.sqrt(y)},_}function Bh(t,n,i){t.prototype=n.prototype=i,i.constructor=t}function Qb(t,n){var i=Object.create(t.prototype);for(var r in n)i[r]=n[r];return i}function Al(){}var hl=.7,ju=1/hl,Vr="\\s*([+-]?\\d+)\\s*",ml="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",LN=/^#([0-9a-f]{3,8})$/,HN=new RegExp(`^rgb\\(${Vr},${Vr},${Vr}\\)$`),qN=new RegExp(`^rgb\\(${qn},${qn},${qn}\\)$`),VN=new RegExp(`^rgba\\(${Vr},${Vr},${Vr},${ml}\\)$`),PN=new RegExp(`^rgba\\(${qn},${qn},${qn},${ml}\\)$`),GN=new RegExp(`^hsl\\(${ml},${qn},${qn}\\)$`),YN=new RegExp(`^hsla\\(${ml},${qn},${qn},${ml}\\)$`),B0={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Bh(Al,pl,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:$0,formatHex:$0,formatHex8:IN,formatHsl:KN,formatRgb:L0,toString:L0});function $0(){return this.rgb().formatHex()}function IN(){return this.rgb().formatHex8()}function KN(){return Zb(this).formatHsl()}function L0(){return this.rgb().formatRgb()}function pl(t){var n,i;return t=(t+"").trim().toLowerCase(),(n=LN.exec(t))?(i=n[1].length,n=parseInt(n[1],16),i===6?H0(n):i===3?new Pt(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):i===8?fu(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):i===4?fu(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=HN.exec(t))?new Pt(n[1],n[2],n[3],1):(n=qN.exec(t))?new Pt(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=VN.exec(t))?fu(n[1],n[2],n[3],n[4]):(n=PN.exec(t))?fu(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=GN.exec(t))?P0(n[1],n[2]/100,n[3]/100,1):(n=YN.exec(t))?P0(n[1],n[2]/100,n[3]/100,n[4]):B0.hasOwnProperty(t)?H0(B0[t]):t==="transparent"?new Pt(NaN,NaN,NaN,0):null}function H0(t){return new Pt(t>>16&255,t>>8&255,t&255,1)}function fu(t,n,i,r){return r<=0&&(t=n=i=NaN),new Pt(t,n,i,r)}function XN(t){return t instanceof Al||(t=pl(t)),t?(t=t.rgb(),new Pt(t.r,t.g,t.b,t.opacity)):new Pt}function sh(t,n,i,r){return arguments.length===1?XN(t):new Pt(t,n,i,r??1)}function Pt(t,n,i,r){this.r=+t,this.g=+n,this.b=+i,this.opacity=+r}Bh(Pt,sh,Qb(Al,{brighter(t){return t=t==null?ju:Math.pow(ju,t),new Pt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?hl:Math.pow(hl,t),new Pt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Pt(qi(this.r),qi(this.g),qi(this.b),Mu(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:q0,formatHex:q0,formatHex8:QN,formatRgb:V0,toString:V0}));function q0(){return`#${Li(this.r)}${Li(this.g)}${Li(this.b)}`}function QN(){return`#${Li(this.r)}${Li(this.g)}${Li(this.b)}${Li((isNaN(this.opacity)?1:this.opacity)*255)}`}function V0(){const t=Mu(this.opacity);return`${t===1?"rgb(":"rgba("}${qi(this.r)}, ${qi(this.g)}, ${qi(this.b)}${t===1?")":`, ${t})`}`}function Mu(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function qi(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Li(t){return t=qi(t),(t<16?"0":"")+t.toString(16)}function P0(t,n,i,r){return r<=0?t=n=i=NaN:i<=0||i>=1?t=n=NaN:n<=0&&(t=NaN),new Nn(t,n,i,r)}function Zb(t){if(t instanceof Nn)return new Nn(t.h,t.s,t.l,t.opacity);if(t instanceof Al||(t=pl(t)),!t)return new Nn;if(t instanceof Nn)return t;t=t.rgb();var n=t.r/255,i=t.g/255,r=t.b/255,l=Math.min(n,i,r),u=Math.max(n,i,r),c=NaN,d=u-l,h=(u+l)/2;return d?(n===u?c=(i-r)/d+(i<r)*6:i===u?c=(r-n)/d+2:c=(n-i)/d+4,d/=h<.5?u+l:2-u-l,c*=60):d=h>0&&h<1?0:c,new Nn(c,d,h,t.opacity)}function ZN(t,n,i,r){return arguments.length===1?Zb(t):new Nn(t,n,i,r??1)}function Nn(t,n,i,r){this.h=+t,this.s=+n,this.l=+i,this.opacity=+r}Bh(Nn,ZN,Qb(Al,{brighter(t){return t=t==null?ju:Math.pow(ju,t),new Nn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?hl:Math.pow(hl,t),new Nn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,n=isNaN(t)||isNaN(this.s)?0:this.s,i=this.l,r=i+(i<.5?i:1-i)*n,l=2*i-r;return new Pt(Md(t>=240?t-240:t+120,l,r),Md(t,l,r),Md(t<120?t+240:t-120,l,r),this.opacity)},clamp(){return new Nn(G0(this.h),du(this.s),du(this.l),Mu(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Mu(this.opacity);return`${t===1?"hsl(":"hsla("}${G0(this.h)}, ${du(this.s)*100}%, ${du(this.l)*100}%${t===1?")":`, ${t})`}`}}));function G0(t){return t=(t||0)%360,t<0?t+360:t}function du(t){return Math.max(0,Math.min(1,t||0))}function Md(t,n,i){return(t<60?n+(i-n)*t/60:t<180?i:t<240?n+(i-n)*(240-t)/60:n)*255}const Jb=t=>()=>t;function JN(t,n){return function(i){return t+i*n}}function FN(t,n,i){return t=Math.pow(t,i),n=Math.pow(n,i)-t,i=1/i,function(r){return Math.pow(t+r*n,i)}}function WN(t){return(t=+t)==1?Fb:function(n,i){return i-n?FN(n,i,t):Jb(isNaN(n)?i:n)}}function Fb(t,n){var i=n-t;return i?JN(t,i):Jb(isNaN(t)?n:t)}const Y0=(function t(n){var i=WN(n);function r(l,u){var c=i((l=sh(l)).r,(u=sh(u)).r),d=i(l.g,u.g),h=i(l.b,u.b),p=Fb(l.opacity,u.opacity);return function(g){return l.r=c(g),l.g=d(g),l.b=h(g),l.opacity=p(g),l+""}}return r.gamma=t,r})(1);function ti(t,n){return t=+t,n=+n,function(i){return t*(1-i)+n*i}}var lh=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Dd=new RegExp(lh.source,"g");function eR(t){return function(){return t}}function tR(t){return function(n){return t(n)+""}}function nR(t,n){var i=lh.lastIndex=Dd.lastIndex=0,r,l,u,c=-1,d=[],h=[];for(t=t+"",n=n+"";(r=lh.exec(t))&&(l=Dd.exec(n));)(u=l.index)>i&&(u=n.slice(i,u),d[c]?d[c]+=u:d[++c]=u),(r=r[0])===(l=l[0])?d[c]?d[c]+=l:d[++c]=l:(d[++c]=null,h.push({i:c,x:ti(r,l)})),i=Dd.lastIndex;return i<n.length&&(u=n.slice(i),d[c]?d[c]+=u:d[++c]=u),d.length<2?h[0]?tR(h[0].x):eR(n):(n=h.length,function(p){for(var g=0,y;g<n;++g)d[(y=h[g]).i]=y.x(p);return d.join("")})}var I0=180/Math.PI,oh={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Wb(t,n,i,r,l,u){var c,d,h;return(c=Math.sqrt(t*t+n*n))&&(t/=c,n/=c),(h=t*i+n*r)&&(i-=t*h,r-=n*h),(d=Math.sqrt(i*i+r*r))&&(i/=d,r/=d,h/=d),t*r<n*i&&(t=-t,n=-n,h=-h,c=-c),{translateX:l,translateY:u,rotate:Math.atan2(n,t)*I0,skewX:Math.atan(h)*I0,scaleX:c,scaleY:d}}var hu;function aR(t){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?oh:Wb(n.a,n.b,n.c,n.d,n.e,n.f)}function iR(t){return t==null||(hu||(hu=document.createElementNS("http://www.w3.org/2000/svg","g")),hu.setAttribute("transform",t),!(t=hu.transform.baseVal.consolidate()))?oh:(t=t.matrix,Wb(t.a,t.b,t.c,t.d,t.e,t.f))}function e_(t,n,i,r){function l(p){return p.length?p.pop()+" ":""}function u(p,g,y,_,v,S){if(p!==y||g!==_){var w=v.push("translate(",null,n,null,i);S.push({i:w-4,x:ti(p,y)},{i:w-2,x:ti(g,_)})}else(y||_)&&v.push("translate("+y+n+_+i)}function c(p,g,y,_){p!==g?(p-g>180?g+=360:g-p>180&&(p+=360),_.push({i:y.push(l(y)+"rotate(",null,r)-2,x:ti(p,g)})):g&&y.push(l(y)+"rotate("+g+r)}function d(p,g,y,_){p!==g?_.push({i:y.push(l(y)+"skewX(",null,r)-2,x:ti(p,g)}):g&&y.push(l(y)+"skewX("+g+r)}function h(p,g,y,_,v,S){if(p!==y||g!==_){var w=v.push(l(v)+"scale(",null,",",null,")");S.push({i:w-4,x:ti(p,y)},{i:w-2,x:ti(g,_)})}else(y!==1||_!==1)&&v.push(l(v)+"scale("+y+","+_+")")}return function(p,g){var y=[],_=[];return p=t(p),g=t(g),u(p.translateX,p.translateY,g.translateX,g.translateY,y,_),c(p.rotate,g.rotate,y,_),d(p.skewX,g.skewX,y,_),h(p.scaleX,p.scaleY,g.scaleX,g.scaleY,y,_),p=g=null,function(v){for(var S=-1,w=_.length,E;++S<w;)y[(E=_[S]).i]=E.x(v);return y.join("")}}}var rR=e_(aR,"px, ","px)","deg)"),sR=e_(iR,", ",")",")"),lR=1e-12;function K0(t){return((t=Math.exp(t))+1/t)/2}function oR(t){return((t=Math.exp(t))-1/t)/2}function uR(t){return((t=Math.exp(2*t))-1)/(t+1)}const cR=(function t(n,i,r){function l(u,c){var d=u[0],h=u[1],p=u[2],g=c[0],y=c[1],_=c[2],v=g-d,S=y-h,w=v*v+S*S,E,A;if(w<lR)A=Math.log(_/p)/n,E=function(V){return[d+V*v,h+V*S,p*Math.exp(n*V*A)]};else{var j=Math.sqrt(w),N=(_*_-p*p+r*w)/(2*p*i*j),M=(_*_-p*p-r*w)/(2*_*i*j),$=Math.log(Math.sqrt(N*N+1)-N),q=Math.log(Math.sqrt(M*M+1)-M);A=(q-$)/n,E=function(V){var te=V*A,X=K0($),re=p/(i*j)*(X*uR(n*te+$)-oR($));return[d+re*v,h+re*S,p*X/K0(n*te+$)]}}return E.duration=A*1e3*n/Math.SQRT2,E}return l.rho=function(u){var c=Math.max(.001,+u),d=c*c,h=d*d;return t(c,d,h)},l})(Math.SQRT2,2,4);var Ir=0,nl=0,Zs=0,t_=1e3,Du,al,zu=0,Pi=0,Ku=0,gl=typeof performance=="object"&&performance.now?performance:Date,n_=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function $h(){return Pi||(n_(fR),Pi=gl.now()+Ku)}function fR(){Pi=0}function Uu(){this._call=this._time=this._next=null}Uu.prototype=a_.prototype={constructor:Uu,restart:function(t,n,i){if(typeof t!="function")throw new TypeError("callback is not a function");i=(i==null?$h():+i)+(n==null?0:+n),!this._next&&al!==this&&(al?al._next=this:Du=this,al=this),this._call=t,this._time=i,uh()},stop:function(){this._call&&(this._call=null,this._time=1/0,uh())}};function a_(t,n,i){var r=new Uu;return r.restart(t,n,i),r}function dR(){$h(),++Ir;for(var t=Du,n;t;)(n=Pi-t._time)>=0&&t._call.call(void 0,n),t=t._next;--Ir}function X0(){Pi=(zu=gl.now())+Ku,Ir=nl=0;try{dR()}finally{Ir=0,mR(),Pi=0}}function hR(){var t=gl.now(),n=t-zu;n>t_&&(Ku-=n,zu=t)}function mR(){for(var t,n=Du,i,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(i=n._next,n._next=null,n=t?t._next=i:Du=i);al=t,uh(r)}function uh(t){if(!Ir){nl&&(nl=clearTimeout(nl));var n=t-Pi;n>24?(t<1/0&&(nl=setTimeout(X0,t-gl.now()-Ku)),Zs&&(Zs=clearInterval(Zs))):(Zs||(zu=gl.now(),Zs=setInterval(hR,t_)),Ir=1,n_(X0))}}function Q0(t,n,i){var r=new Uu;return n=n==null?0:+n,r.restart(l=>{r.stop(),t(l+n)},n,i),r}var pR=Yu("start","end","cancel","interrupt"),gR=[],i_=0,Z0=1,ch=2,Su=3,J0=4,fh=5,Eu=6;function Xu(t,n,i,r,l,u){var c=t.__transition;if(!c)t.__transition={};else if(i in c)return;yR(t,i,{name:n,index:r,group:l,on:pR,tween:gR,time:u.time,delay:u.delay,duration:u.duration,ease:u.ease,timer:null,state:i_})}function Lh(t,n){var i=jn(t,n);if(i.state>i_)throw new Error("too late; already scheduled");return i}function Vn(t,n){var i=jn(t,n);if(i.state>Su)throw new Error("too late; already running");return i}function jn(t,n){var i=t.__transition;if(!i||!(i=i[n]))throw new Error("transition not found");return i}function yR(t,n,i){var r=t.__transition,l;r[n]=i,i.timer=a_(u,0,i.time);function u(p){i.state=Z0,i.timer.restart(c,i.delay,i.time),i.delay<=p&&c(p-i.delay)}function c(p){var g,y,_,v;if(i.state!==Z0)return h();for(g in r)if(v=r[g],v.name===i.name){if(v.state===Su)return Q0(c);v.state===J0?(v.state=Eu,v.timer.stop(),v.on.call("interrupt",t,t.__data__,v.index,v.group),delete r[g]):+g<n&&(v.state=Eu,v.timer.stop(),v.on.call("cancel",t,t.__data__,v.index,v.group),delete r[g])}if(Q0(function(){i.state===Su&&(i.state=J0,i.timer.restart(d,i.delay,i.time),d(p))}),i.state=ch,i.on.call("start",t,t.__data__,i.index,i.group),i.state===ch){for(i.state=Su,l=new Array(_=i.tween.length),g=0,y=-1;g<_;++g)(v=i.tween[g].value.call(t,t.__data__,i.index,i.group))&&(l[++y]=v);l.length=y+1}}function d(p){for(var g=p<i.duration?i.ease.call(null,p/i.duration):(i.timer.restart(h),i.state=fh,1),y=-1,_=l.length;++y<_;)l[y].call(t,g);i.state===fh&&(i.on.call("end",t,t.__data__,i.index,i.group),h())}function h(){i.state=Eu,i.timer.stop(),delete r[n];for(var p in r)return;delete t.__transition}}function xu(t,n){var i=t.__transition,r,l,u=!0,c;if(i){n=n==null?null:n+"";for(c in i){if((r=i[c]).name!==n){u=!1;continue}l=r.state>ch&&r.state<fh,r.state=Eu,r.timer.stop(),r.on.call(l?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete i[c]}u&&delete t.__transition}}function vR(t){return this.each(function(){xu(this,t)})}function bR(t,n){var i,r;return function(){var l=Vn(this,t),u=l.tween;if(u!==i){r=i=u;for(var c=0,d=r.length;c<d;++c)if(r[c].name===n){r=r.slice(),r.splice(c,1);break}}l.tween=r}}function _R(t,n,i){var r,l;if(typeof i!="function")throw new Error;return function(){var u=Vn(this,t),c=u.tween;if(c!==r){l=(r=c).slice();for(var d={name:n,value:i},h=0,p=l.length;h<p;++h)if(l[h].name===n){l[h]=d;break}h===p&&l.push(d)}u.tween=l}}function wR(t,n){var i=this._id;if(t+="",arguments.length<2){for(var r=jn(this.node(),i).tween,l=0,u=r.length,c;l<u;++l)if((c=r[l]).name===t)return c.value;return null}return this.each((n==null?bR:_R)(i,t,n))}function Hh(t,n,i){var r=t._id;return t.each(function(){var l=Vn(this,r);(l.value||(l.value={}))[n]=i.apply(this,arguments)}),function(l){return jn(l,r).value[n]}}function r_(t,n){var i;return(typeof n=="number"?ti:n instanceof pl?Y0:(i=pl(n))?(n=i,Y0):nR)(t,n)}function SR(t){return function(){this.removeAttribute(t)}}function ER(t){return function(){this.removeAttributeNS(t.space,t.local)}}function xR(t,n,i){var r,l=i+"",u;return function(){var c=this.getAttribute(t);return c===l?null:c===r?u:u=n(r=c,i)}}function TR(t,n,i){var r,l=i+"",u;return function(){var c=this.getAttributeNS(t.space,t.local);return c===l?null:c===r?u:u=n(r=c,i)}}function AR(t,n,i){var r,l,u;return function(){var c,d=i(this),h;return d==null?void this.removeAttribute(t):(c=this.getAttribute(t),h=d+"",c===h?null:c===r&&h===l?u:(l=h,u=n(r=c,d)))}}function NR(t,n,i){var r,l,u;return function(){var c,d=i(this),h;return d==null?void this.removeAttributeNS(t.space,t.local):(c=this.getAttributeNS(t.space,t.local),h=d+"",c===h?null:c===r&&h===l?u:(l=h,u=n(r=c,d)))}}function RR(t,n){var i=Iu(t),r=i==="transform"?sR:r_;return this.attrTween(t,typeof n=="function"?(i.local?NR:AR)(i,r,Hh(this,"attr."+t,n)):n==null?(i.local?ER:SR)(i):(i.local?TR:xR)(i,r,n))}function OR(t,n){return function(i){this.setAttribute(t,n.call(this,i))}}function kR(t,n){return function(i){this.setAttributeNS(t.space,t.local,n.call(this,i))}}function CR(t,n){var i,r;function l(){var u=n.apply(this,arguments);return u!==r&&(i=(r=u)&&kR(t,u)),i}return l._value=n,l}function jR(t,n){var i,r;function l(){var u=n.apply(this,arguments);return u!==r&&(i=(r=u)&&OR(t,u)),i}return l._value=n,l}function MR(t,n){var i="attr."+t;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(n==null)return this.tween(i,null);if(typeof n!="function")throw new Error;var r=Iu(t);return this.tween(i,(r.local?CR:jR)(r,n))}function DR(t,n){return function(){Lh(this,t).delay=+n.apply(this,arguments)}}function zR(t,n){return n=+n,function(){Lh(this,t).delay=n}}function UR(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?DR:zR)(n,t)):jn(this.node(),n).delay}function BR(t,n){return function(){Vn(this,t).duration=+n.apply(this,arguments)}}function $R(t,n){return n=+n,function(){Vn(this,t).duration=n}}function LR(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?BR:$R)(n,t)):jn(this.node(),n).duration}function HR(t,n){if(typeof n!="function")throw new Error;return function(){Vn(this,t).ease=n}}function qR(t){var n=this._id;return arguments.length?this.each(HR(n,t)):jn(this.node(),n).ease}function VR(t,n){return function(){var i=n.apply(this,arguments);if(typeof i!="function")throw new Error;Vn(this,t).ease=i}}function PR(t){if(typeof t!="function")throw new Error;return this.each(VR(this._id,t))}function GR(t){typeof t!="function"&&(t=Bb(t));for(var n=this._groups,i=n.length,r=new Array(i),l=0;l<i;++l)for(var u=n[l],c=u.length,d=r[l]=[],h,p=0;p<c;++p)(h=u[p])&&t.call(h,h.__data__,p,u)&&d.push(h);return new ya(r,this._parents,this._name,this._id)}function YR(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,i=t._groups,r=n.length,l=i.length,u=Math.min(r,l),c=new Array(r),d=0;d<u;++d)for(var h=n[d],p=i[d],g=h.length,y=c[d]=new Array(g),_,v=0;v<g;++v)(_=h[v]||p[v])&&(y[v]=_);for(;d<r;++d)c[d]=n[d];return new ya(c,this._parents,this._name,this._id)}function IR(t){return(t+"").trim().split(/^|\s+/).every(function(n){var i=n.indexOf(".");return i>=0&&(n=n.slice(0,i)),!n||n==="start"})}function KR(t,n,i){var r,l,u=IR(n)?Lh:Vn;return function(){var c=u(this,t),d=c.on;d!==r&&(l=(r=d).copy()).on(n,i),c.on=l}}function XR(t,n){var i=this._id;return arguments.length<2?jn(this.node(),i).on.on(t):this.each(KR(i,t,n))}function QR(t){return function(){var n=this.parentNode;for(var i in this.__transition)if(+i!==t)return;n&&n.removeChild(this)}}function ZR(){return this.on("end.remove",QR(this._id))}function JR(t){var n=this._name,i=this._id;typeof t!="function"&&(t=zh(t));for(var r=this._groups,l=r.length,u=new Array(l),c=0;c<l;++c)for(var d=r[c],h=d.length,p=u[c]=new Array(h),g,y,_=0;_<h;++_)(g=d[_])&&(y=t.call(g,g.__data__,_,d))&&("__data__"in g&&(y.__data__=g.__data__),p[_]=y,Xu(p[_],n,i,_,p,jn(g,i)));return new ya(u,this._parents,n,i)}function FR(t){var n=this._name,i=this._id;typeof t!="function"&&(t=Ub(t));for(var r=this._groups,l=r.length,u=[],c=[],d=0;d<l;++d)for(var h=r[d],p=h.length,g,y=0;y<p;++y)if(g=h[y]){for(var _=t.call(g,g.__data__,y,h),v,S=jn(g,i),w=0,E=_.length;w<E;++w)(v=_[w])&&Xu(v,n,i,w,_,S);u.push(_),c.push(g)}return new ya(u,c,n,i)}var WR=Tl.prototype.constructor;function eO(){return new WR(this._groups,this._parents)}function tO(t,n){var i,r,l;return function(){var u=Yr(this,t),c=(this.style.removeProperty(t),Yr(this,t));return u===c?null:u===i&&c===r?l:l=n(i=u,r=c)}}function s_(t){return function(){this.style.removeProperty(t)}}function nO(t,n,i){var r,l=i+"",u;return function(){var c=Yr(this,t);return c===l?null:c===r?u:u=n(r=c,i)}}function aO(t,n,i){var r,l,u;return function(){var c=Yr(this,t),d=i(this),h=d+"";return d==null&&(h=d=(this.style.removeProperty(t),Yr(this,t))),c===h?null:c===r&&h===l?u:(l=h,u=n(r=c,d))}}function iO(t,n){var i,r,l,u="style."+n,c="end."+u,d;return function(){var h=Vn(this,t),p=h.on,g=h.value[u]==null?d||(d=s_(n)):void 0;(p!==i||l!==g)&&(r=(i=p).copy()).on(c,l=g),h.on=r}}function rO(t,n,i){var r=(t+="")=="transform"?rR:r_;return n==null?this.styleTween(t,tO(t,r)).on("end.style."+t,s_(t)):typeof n=="function"?this.styleTween(t,aO(t,r,Hh(this,"style."+t,n))).each(iO(this._id,t)):this.styleTween(t,nO(t,r,n),i).on("end.style."+t,null)}function sO(t,n,i){return function(r){this.style.setProperty(t,n.call(this,r),i)}}function lO(t,n,i){var r,l;function u(){var c=n.apply(this,arguments);return c!==l&&(r=(l=c)&&sO(t,c,i)),r}return u._value=n,u}function oO(t,n,i){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;return this.tween(r,lO(t,n,i??""))}function uO(t){return function(){this.textContent=t}}function cO(t){return function(){var n=t(this);this.textContent=n??""}}function fO(t){return this.tween("text",typeof t=="function"?cO(Hh(this,"text",t)):uO(t==null?"":t+""))}function dO(t){return function(n){this.textContent=t.call(this,n)}}function hO(t){var n,i;function r(){var l=t.apply(this,arguments);return l!==i&&(n=(i=l)&&dO(l)),n}return r._value=t,r}function mO(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,hO(t))}function pO(){for(var t=this._name,n=this._id,i=l_(),r=this._groups,l=r.length,u=0;u<l;++u)for(var c=r[u],d=c.length,h,p=0;p<d;++p)if(h=c[p]){var g=jn(h,n);Xu(h,t,i,p,c,{time:g.time+g.delay+g.duration,delay:0,duration:g.duration,ease:g.ease})}return new ya(r,this._parents,t,i)}function gO(){var t,n,i=this,r=i._id,l=i.size();return new Promise(function(u,c){var d={value:c},h={value:function(){--l===0&&u()}};i.each(function(){var p=Vn(this,r),g=p.on;g!==t&&(n=(t=g).copy(),n._.cancel.push(d),n._.interrupt.push(d),n._.end.push(h)),p.on=n}),l===0&&u()})}var yO=0;function ya(t,n,i,r){this._groups=t,this._parents=n,this._name=i,this._id=r}function l_(){return++yO}var fa=Tl.prototype;ya.prototype={constructor:ya,select:JR,selectAll:FR,selectChild:fa.selectChild,selectChildren:fa.selectChildren,filter:GR,merge:YR,selection:eO,transition:pO,call:fa.call,nodes:fa.nodes,node:fa.node,size:fa.size,empty:fa.empty,each:fa.each,on:XR,attr:RR,attrTween:MR,style:rO,styleTween:oO,text:fO,textTween:mO,remove:ZR,tween:wR,delay:UR,duration:LR,ease:qR,easeVarying:PR,end:gO,[Symbol.iterator]:fa[Symbol.iterator]};function vO(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var bO={time:null,delay:0,duration:250,ease:vO};function _O(t,n){for(var i;!(i=t.__transition)||!(i=i[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return i}function wO(t){var n,i;t instanceof ya?(n=t._id,t=t._name):(n=l_(),(i=bO).time=$h(),t=t==null?null:t+"");for(var r=this._groups,l=r.length,u=0;u<l;++u)for(var c=r[u],d=c.length,h,p=0;p<d;++p)(h=c[p])&&Xu(h,t,n,p,c,i||_O(h,n));return new ya(r,this._parents,t,n)}Tl.prototype.interrupt=vR;Tl.prototype.transition=wO;const mu=t=>()=>t;function SO(t,{sourceEvent:n,target:i,transform:r,dispatch:l}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:l}})}function ha(t,n,i){this.k=t,this.x=n,this.y=i}ha.prototype={constructor:ha,scale:function(t){return t===1?this:new ha(this.k*t,this.x,this.y)},translate:function(t,n){return t===0&n===0?this:new ha(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var pa=new ha(1,0,0);ha.prototype;function zd(t){t.stopImmediatePropagation()}function Js(t){t.preventDefault(),t.stopImmediatePropagation()}function EO(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function xO(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function F0(){return this.__zoom||pa}function TO(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function AO(){return navigator.maxTouchPoints||"ontouchstart"in this}function NO(t,n,i){var r=t.invertX(n[0][0])-i[0][0],l=t.invertX(n[1][0])-i[1][0],u=t.invertY(n[0][1])-i[0][1],c=t.invertY(n[1][1])-i[1][1];return t.translate(l>r?(r+l)/2:Math.min(0,r)||Math.max(0,l),c>u?(u+c)/2:Math.min(0,u)||Math.max(0,c))}function o_(){var t=EO,n=xO,i=NO,r=TO,l=AO,u=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],d=250,h=cR,p=Yu("start","zoom","end"),g,y,_,v=500,S=150,w=0,E=10;function A(O){O.property("__zoom",F0).on("wheel.zoom",te,{passive:!1}).on("mousedown.zoom",X).on("dblclick.zoom",re).filter(l).on("touchstart.zoom",ie).on("touchmove.zoom",oe).on("touchend.zoom touchcancel.zoom",le).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}A.transform=function(O,P,k,z){var G=O.selection?O.selection():O;G.property("__zoom",F0),O!==G?$(O,P,k,z):G.interrupt().each(function(){q(this,arguments).event(z).start().zoom(null,typeof P=="function"?P.apply(this,arguments):P).end()})},A.scaleBy=function(O,P,k,z){A.scaleTo(O,function(){var G=this.__zoom.k,L=typeof P=="function"?P.apply(this,arguments):P;return G*L},k,z)},A.scaleTo=function(O,P,k,z){A.transform(O,function(){var G=n.apply(this,arguments),L=this.__zoom,J=k==null?M(G):typeof k=="function"?k.apply(this,arguments):k,C=L.invert(J),U=typeof P=="function"?P.apply(this,arguments):P;return i(N(j(L,U),J,C),G,c)},k,z)},A.translateBy=function(O,P,k,z){A.transform(O,function(){return i(this.__zoom.translate(typeof P=="function"?P.apply(this,arguments):P,typeof k=="function"?k.apply(this,arguments):k),n.apply(this,arguments),c)},null,z)},A.translateTo=function(O,P,k,z,G){A.transform(O,function(){var L=n.apply(this,arguments),J=this.__zoom,C=z==null?M(L):typeof z=="function"?z.apply(this,arguments):z;return i(pa.translate(C[0],C[1]).scale(J.k).translate(typeof P=="function"?-P.apply(this,arguments):-P,typeof k=="function"?-k.apply(this,arguments):-k),L,c)},z,G)};function j(O,P){return P=Math.max(u[0],Math.min(u[1],P)),P===O.k?O:new ha(P,O.x,O.y)}function N(O,P,k){var z=P[0]-k[0]*O.k,G=P[1]-k[1]*O.k;return z===O.x&&G===O.y?O:new ha(O.k,z,G)}function M(O){return[(+O[0][0]+ +O[1][0])/2,(+O[0][1]+ +O[1][1])/2]}function $(O,P,k,z){O.on("start.zoom",function(){q(this,arguments).event(z).start()}).on("interrupt.zoom end.zoom",function(){q(this,arguments).event(z).end()}).tween("zoom",function(){var G=this,L=arguments,J=q(G,L).event(z),C=n.apply(G,L),U=k==null?M(C):typeof k=="function"?k.apply(G,L):k,Z=Math.max(C[1][0]-C[0][0],C[1][1]-C[0][1]),W=G.__zoom,se=typeof P=="function"?P.apply(G,L):P,ue=h(W.invert(U).concat(Z/W.k),se.invert(U).concat(Z/se.k));return function(fe){if(fe===1)fe=se;else{var we=ue(fe),ve=Z/we[2];fe=new ha(ve,U[0]-we[0]*ve,U[1]-we[1]*ve)}J.zoom(null,fe)}})}function q(O,P,k){return!k&&O.__zooming||new V(O,P)}function V(O,P){this.that=O,this.args=P,this.active=0,this.sourceEvent=null,this.extent=n.apply(O,P),this.taps=0}V.prototype={event:function(O){return O&&(this.sourceEvent=O),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(O,P){return this.mouse&&O!=="mouse"&&(this.mouse[1]=P.invert(this.mouse[0])),this.touch0&&O!=="touch"&&(this.touch0[1]=P.invert(this.touch0[0])),this.touch1&&O!=="touch"&&(this.touch1[1]=P.invert(this.touch1[0])),this.that.__zoom=P,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(O){var P=yn(this.that).datum();p.call(O,this.that,new SO(O,{sourceEvent:this.sourceEvent,target:A,transform:this.that.__zoom,dispatch:p}),P)}};function te(O,...P){if(!t.apply(this,arguments))return;var k=q(this,P).event(O),z=this.__zoom,G=Math.max(u[0],Math.min(u[1],z.k*Math.pow(2,r.apply(this,arguments)))),L=An(O);if(k.wheel)(k.mouse[0][0]!==L[0]||k.mouse[0][1]!==L[1])&&(k.mouse[1]=z.invert(k.mouse[0]=L)),clearTimeout(k.wheel);else{if(z.k===G)return;k.mouse=[L,z.invert(L)],xu(this),k.start()}Js(O),k.wheel=setTimeout(J,S),k.zoom("mouse",i(N(j(z,G),k.mouse[0],k.mouse[1]),k.extent,c));function J(){k.wheel=null,k.end()}}function X(O,...P){if(_||!t.apply(this,arguments))return;var k=O.currentTarget,z=q(this,P,!0).event(O),G=yn(O.view).on("mousemove.zoom",U,!0).on("mouseup.zoom",Z,!0),L=An(O,k),J=O.clientX,C=O.clientY;Kb(O.view),zd(O),z.mouse=[L,this.__zoom.invert(L)],xu(this),z.start();function U(W){if(Js(W),!z.moved){var se=W.clientX-J,ue=W.clientY-C;z.moved=se*se+ue*ue>w}z.event(W).zoom("mouse",i(N(z.that.__zoom,z.mouse[0]=An(W,k),z.mouse[1]),z.extent,c))}function Z(W){G.on("mousemove.zoom mouseup.zoom",null),Xb(W.view,z.moved),Js(W),z.event(W).end()}}function re(O,...P){if(t.apply(this,arguments)){var k=this.__zoom,z=An(O.changedTouches?O.changedTouches[0]:O,this),G=k.invert(z),L=k.k*(O.shiftKey?.5:2),J=i(N(j(k,L),z,G),n.apply(this,P),c);Js(O),d>0?yn(this).transition().duration(d).call($,J,z,O):yn(this).call(A.transform,J,z,O)}}function ie(O,...P){if(t.apply(this,arguments)){var k=O.touches,z=k.length,G=q(this,P,O.changedTouches.length===z).event(O),L,J,C,U;for(zd(O),J=0;J<z;++J)C=k[J],U=An(C,this),U=[U,this.__zoom.invert(U),C.identifier],G.touch0?!G.touch1&&G.touch0[2]!==U[2]&&(G.touch1=U,G.taps=0):(G.touch0=U,L=!0,G.taps=1+!!g);g&&(g=clearTimeout(g)),L&&(G.taps<2&&(y=U[0],g=setTimeout(function(){g=null},v)),xu(this),G.start())}}function oe(O,...P){if(this.__zooming){var k=q(this,P).event(O),z=O.changedTouches,G=z.length,L,J,C,U;for(Js(O),L=0;L<G;++L)J=z[L],C=An(J,this),k.touch0&&k.touch0[2]===J.identifier?k.touch0[0]=C:k.touch1&&k.touch1[2]===J.identifier&&(k.touch1[0]=C);if(J=k.that.__zoom,k.touch1){var Z=k.touch0[0],W=k.touch0[1],se=k.touch1[0],ue=k.touch1[1],fe=(fe=se[0]-Z[0])*fe+(fe=se[1]-Z[1])*fe,we=(we=ue[0]-W[0])*we+(we=ue[1]-W[1])*we;J=j(J,Math.sqrt(fe/we)),C=[(Z[0]+se[0])/2,(Z[1]+se[1])/2],U=[(W[0]+ue[0])/2,(W[1]+ue[1])/2]}else if(k.touch0)C=k.touch0[0],U=k.touch0[1];else return;k.zoom("touch",i(N(J,C,U),k.extent,c))}}function le(O,...P){if(this.__zooming){var k=q(this,P).event(O),z=O.changedTouches,G=z.length,L,J;for(zd(O),_&&clearTimeout(_),_=setTimeout(function(){_=null},v),L=0;L<G;++L)J=z[L],k.touch0&&k.touch0[2]===J.identifier?delete k.touch0:k.touch1&&k.touch1[2]===J.identifier&&delete k.touch1;if(k.touch1&&!k.touch0&&(k.touch0=k.touch1,delete k.touch1),k.touch0)k.touch0[1]=this.__zoom.invert(k.touch0[0]);else if(k.end(),k.taps===2&&(J=An(J,this),Math.hypot(y[0]-J[0],y[1]-J[1])<E)){var C=yn(this).on("dblclick.zoom");C&&C.apply(this,arguments)}}}return A.wheelDelta=function(O){return arguments.length?(r=typeof O=="function"?O:mu(+O),A):r},A.filter=function(O){return arguments.length?(t=typeof O=="function"?O:mu(!!O),A):t},A.touchable=function(O){return arguments.length?(l=typeof O=="function"?O:mu(!!O),A):l},A.extent=function(O){return arguments.length?(n=typeof O=="function"?O:mu([[+O[0][0],+O[0][1]],[+O[1][0],+O[1][1]]]),A):n},A.scaleExtent=function(O){return arguments.length?(u[0]=+O[0],u[1]=+O[1],A):[u[0],u[1]]},A.translateExtent=function(O){return arguments.length?(c[0][0]=+O[0][0],c[1][0]=+O[1][0],c[0][1]=+O[0][1],c[1][1]=+O[1][1],A):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},A.constrain=function(O){return arguments.length?(i=O,A):i},A.duration=function(O){return arguments.length?(d=+O,A):d},A.interpolate=function(O){return arguments.length?(h=O,A):h},A.on=function(){var O=p.on.apply(p,arguments);return O===p?A:O},A.clickDistance=function(O){return arguments.length?(w=(O=+O)*O,A):Math.sqrt(w)},A.tapDistance=function(O){return arguments.length?(E=+O,A):E},A}const Qu=R.createContext(null),RO=Qu.Provider,va={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,n)=>`Couldn't create edge for ${t?"target":"source"} handle id: "${t?n.targetHandle:n.sourceHandle}", edge id: ${n.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},u_=va.error001();function Pe(t,n){const i=R.useContext(Qu);if(i===null)throw new Error(u_);return Db(i,t,n)}const bt=()=>{const t=R.useContext(Qu);if(t===null)throw new Error(u_);return R.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe,destroy:t.destroy}),[t])},OO=t=>t.userSelectionActive?"none":"all";function qh({position:t,children:n,className:i,style:r,...l}){const u=Pe(OO),c=`${t}`.split("-");return F.createElement("div",{className:Ct(["react-flow__panel",i,...c]),style:{...r,pointerEvents:u},...l},n)}function kO({proOptions:t,position:n="bottom-right"}){return t!=null&&t.hideAttribution?null:F.createElement(qh,{position:n,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},F.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const CO=({x:t,y:n,label:i,labelStyle:r={},labelShowBg:l=!0,labelBgStyle:u={},labelBgPadding:c=[2,4],labelBgBorderRadius:d=2,children:h,className:p,...g})=>{const y=R.useRef(null),[_,v]=R.useState({x:0,y:0,width:0,height:0}),S=Ct(["react-flow__edge-textwrapper",p]);return R.useEffect(()=>{if(y.current){const w=y.current.getBBox();v({x:w.x,y:w.y,width:w.width,height:w.height})}},[i]),typeof i>"u"||!i?null:F.createElement("g",{transform:`translate(${t-_.width/2} ${n-_.height/2})`,className:S,visibility:_.width?"visible":"hidden",...g},l&&F.createElement("rect",{width:_.width+2*c[0],x:-c[0],y:-c[1],height:_.height+2*c[1],className:"react-flow__edge-textbg",style:u,rx:d,ry:d}),F.createElement("text",{className:"react-flow__edge-text",y:_.height/2,dy:"0.3em",ref:y,style:r},i),h)};var jO=R.memo(CO);const Vh=t=>({width:t.offsetWidth,height:t.offsetHeight}),Kr=(t,n=0,i=1)=>Math.min(Math.max(t,n),i),Ph=(t={x:0,y:0},n)=>({x:Kr(t.x,n[0][0],n[1][0]),y:Kr(t.y,n[0][1],n[1][1])}),W0=(t,n,i)=>t<n?Kr(Math.abs(t-n),1,50)/50:t>i?-Kr(Math.abs(t-i),1,50)/50:0,c_=(t,n)=>{const i=W0(t.x,35,n.width-35)*20,r=W0(t.y,35,n.height-35)*20;return[i,r]},f_=t=>{var n;return((n=t.getRootNode)==null?void 0:n.call(t))||(window==null?void 0:window.document)},d_=(t,n)=>({x:Math.min(t.x,n.x),y:Math.min(t.y,n.y),x2:Math.max(t.x2,n.x2),y2:Math.max(t.y2,n.y2)}),yl=({x:t,y:n,width:i,height:r})=>({x:t,y:n,x2:t+i,y2:n+r}),h_=({x:t,y:n,x2:i,y2:r})=>({x:t,y:n,width:i-t,height:r-n}),ev=t=>({...t.positionAbsolute||{x:0,y:0},width:t.width||0,height:t.height||0}),MO=(t,n)=>h_(d_(yl(t),yl(n))),dh=(t,n)=>{const i=Math.max(0,Math.min(t.x+t.width,n.x+n.width)-Math.max(t.x,n.x)),r=Math.max(0,Math.min(t.y+t.height,n.y+n.height)-Math.max(t.y,n.y));return Math.ceil(i*r)},DO=t=>vn(t.width)&&vn(t.height)&&vn(t.x)&&vn(t.y),vn=t=>!isNaN(t)&&isFinite(t),it=Symbol.for("internals"),m_=["Enter"," ","Escape"],zO=(t,n)=>{},UO=t=>"nativeEvent"in t;function hh(t){var l,u;const n=UO(t)?t.nativeEvent:t,i=((u=(l=n.composedPath)==null?void 0:l.call(n))==null?void 0:u[0])||t.target;return["INPUT","SELECT","TEXTAREA"].includes(i==null?void 0:i.nodeName)||(i==null?void 0:i.hasAttribute("contenteditable"))||!!(i!=null&&i.closest(".nokey"))}const p_=t=>"clientX"in t,si=(t,n)=>{var u,c;const i=p_(t),r=i?t.clientX:(u=t.touches)==null?void 0:u[0].clientX,l=i?t.clientY:(c=t.touches)==null?void 0:c[0].clientY;return{x:r-((n==null?void 0:n.left)??0),y:l-((n==null?void 0:n.top)??0)}},Bu=()=>{var t;return typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)==null?void 0:t.indexOf("Mac"))>=0},Nl=({id:t,path:n,labelX:i,labelY:r,label:l,labelStyle:u,labelShowBg:c,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:p,style:g,markerEnd:y,markerStart:_,interactionWidth:v=20})=>F.createElement(F.Fragment,null,F.createElement("path",{id:t,style:g,d:n,fill:"none",className:"react-flow__edge-path",markerEnd:y,markerStart:_}),v&&F.createElement("path",{d:n,fill:"none",strokeOpacity:0,strokeWidth:v,className:"react-flow__edge-interaction"}),l&&vn(i)&&vn(r)?F.createElement(jO,{x:i,y:r,label:l,labelStyle:u,labelShowBg:c,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:p}):null);Nl.displayName="BaseEdge";function Fs(t,n,i){return i===void 0?i:r=>{const l=n().edges.find(u=>u.id===t);l&&i(r,{...l})}}function g_({sourceX:t,sourceY:n,targetX:i,targetY:r}){const l=Math.abs(i-t)/2,u=i<t?i+l:i-l,c=Math.abs(r-n)/2,d=r<n?r+c:r-c;return[u,d,l,c]}function y_({sourceX:t,sourceY:n,targetX:i,targetY:r,sourceControlX:l,sourceControlY:u,targetControlX:c,targetControlY:d}){const h=t*.125+l*.375+c*.375+i*.125,p=n*.125+u*.375+d*.375+r*.125,g=Math.abs(h-t),y=Math.abs(p-n);return[h,p,g,y]}var Gi;(function(t){t.Strict="strict",t.Loose="loose"})(Gi||(Gi={}));var Hi;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(Hi||(Hi={}));var vl;(function(t){t.Partial="partial",t.Full="full"})(vl||(vl={}));var ii;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(ii||(ii={}));var bl;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(bl||(bl={}));var ce;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(ce||(ce={}));function tv({pos:t,x1:n,y1:i,x2:r,y2:l}){return t===ce.Left||t===ce.Right?[.5*(n+r),i]:[n,.5*(i+l)]}function v_({sourceX:t,sourceY:n,sourcePosition:i=ce.Bottom,targetX:r,targetY:l,targetPosition:u=ce.Top}){const[c,d]=tv({pos:i,x1:t,y1:n,x2:r,y2:l}),[h,p]=tv({pos:u,x1:r,y1:l,x2:t,y2:n}),[g,y,_,v]=y_({sourceX:t,sourceY:n,targetX:r,targetY:l,sourceControlX:c,sourceControlY:d,targetControlX:h,targetControlY:p});return[`M${t},${n} C${c},${d} ${h},${p} ${r},${l}`,g,y,_,v]}const Gh=R.memo(({sourceX:t,sourceY:n,targetX:i,targetY:r,sourcePosition:l=ce.Bottom,targetPosition:u=ce.Top,label:c,labelStyle:d,labelShowBg:h,labelBgStyle:p,labelBgPadding:g,labelBgBorderRadius:y,style:_,markerEnd:v,markerStart:S,interactionWidth:w})=>{const[E,A,j]=v_({sourceX:t,sourceY:n,sourcePosition:l,targetX:i,targetY:r,targetPosition:u});return F.createElement(Nl,{path:E,labelX:A,labelY:j,label:c,labelStyle:d,labelShowBg:h,labelBgStyle:p,labelBgPadding:g,labelBgBorderRadius:y,style:_,markerEnd:v,markerStart:S,interactionWidth:w})});Gh.displayName="SimpleBezierEdge";const nv={[ce.Left]:{x:-1,y:0},[ce.Right]:{x:1,y:0},[ce.Top]:{x:0,y:-1},[ce.Bottom]:{x:0,y:1}},BO=({source:t,sourcePosition:n=ce.Bottom,target:i})=>n===ce.Left||n===ce.Right?t.x<i.x?{x:1,y:0}:{x:-1,y:0}:t.y<i.y?{x:0,y:1}:{x:0,y:-1},av=(t,n)=>Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2));function $O({source:t,sourcePosition:n=ce.Bottom,target:i,targetPosition:r=ce.Top,center:l,offset:u}){const c=nv[n],d=nv[r],h={x:t.x+c.x*u,y:t.y+c.y*u},p={x:i.x+d.x*u,y:i.y+d.y*u},g=BO({source:h,sourcePosition:n,target:p}),y=g.x!==0?"x":"y",_=g[y];let v=[],S,w;const E={x:0,y:0},A={x:0,y:0},[j,N,M,$]=g_({sourceX:t.x,sourceY:t.y,targetX:i.x,targetY:i.y});if(c[y]*d[y]===-1){S=l.x??j,w=l.y??N;const V=[{x:S,y:h.y},{x:S,y:p.y}],te=[{x:h.x,y:w},{x:p.x,y:w}];c[y]===_?v=y==="x"?V:te:v=y==="x"?te:V}else{const V=[{x:h.x,y:p.y}],te=[{x:p.x,y:h.y}];if(y==="x"?v=c.x===_?te:V:v=c.y===_?V:te,n===r){const le=Math.abs(t[y]-i[y]);if(le<=u){const O=Math.min(u-1,u-le);c[y]===_?E[y]=(h[y]>t[y]?-1:1)*O:A[y]=(p[y]>i[y]?-1:1)*O}}if(n!==r){const le=y==="x"?"y":"x",O=c[y]===d[le],P=h[le]>p[le],k=h[le]<p[le];(c[y]===1&&(!O&&P||O&&k)||c[y]!==1&&(!O&&k||O&&P))&&(v=y==="x"?V:te)}const X={x:h.x+E.x,y:h.y+E.y},re={x:p.x+A.x,y:p.y+A.y},ie=Math.max(Math.abs(X.x-v[0].x),Math.abs(re.x-v[0].x)),oe=Math.max(Math.abs(X.y-v[0].y),Math.abs(re.y-v[0].y));ie>=oe?(S=(X.x+re.x)/2,w=v[0].y):(S=v[0].x,w=(X.y+re.y)/2)}return[[t,{x:h.x+E.x,y:h.y+E.y},...v,{x:p.x+A.x,y:p.y+A.y},i],S,w,M,$]}function LO(t,n,i,r){const l=Math.min(av(t,n)/2,av(n,i)/2,r),{x:u,y:c}=n;if(t.x===u&&u===i.x||t.y===c&&c===i.y)return`L${u} ${c}`;if(t.y===c){const p=t.x<i.x?-1:1,g=t.y<i.y?1:-1;return`L ${u+l*p},${c}Q ${u},${c} ${u},${c+l*g}`}const d=t.x<i.x?1:-1,h=t.y<i.y?-1:1;return`L ${u},${c+l*h}Q ${u},${c} ${u+l*d},${c}`}function mh({sourceX:t,sourceY:n,sourcePosition:i=ce.Bottom,targetX:r,targetY:l,targetPosition:u=ce.Top,borderRadius:c=5,centerX:d,centerY:h,offset:p=20}){const[g,y,_,v,S]=$O({source:{x:t,y:n},sourcePosition:i,target:{x:r,y:l},targetPosition:u,center:{x:d,y:h},offset:p});return[g.reduce((E,A,j)=>{let N="";return j>0&&j<g.length-1?N=LO(g[j-1],A,g[j+1],c):N=`${j===0?"M":"L"}${A.x} ${A.y}`,E+=N,E},""),y,_,v,S]}const Zu=R.memo(({sourceX:t,sourceY:n,targetX:i,targetY:r,label:l,labelStyle:u,labelShowBg:c,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:p,style:g,sourcePosition:y=ce.Bottom,targetPosition:_=ce.Top,markerEnd:v,markerStart:S,pathOptions:w,interactionWidth:E})=>{const[A,j,N]=mh({sourceX:t,sourceY:n,sourcePosition:y,targetX:i,targetY:r,targetPosition:_,borderRadius:w==null?void 0:w.borderRadius,offset:w==null?void 0:w.offset});return F.createElement(Nl,{path:A,labelX:j,labelY:N,label:l,labelStyle:u,labelShowBg:c,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:p,style:g,markerEnd:v,markerStart:S,interactionWidth:E})});Zu.displayName="SmoothStepEdge";const Yh=R.memo(t=>{var n;return F.createElement(Zu,{...t,pathOptions:R.useMemo(()=>{var i;return{borderRadius:0,offset:(i=t.pathOptions)==null?void 0:i.offset}},[(n=t.pathOptions)==null?void 0:n.offset])})});Yh.displayName="StepEdge";function HO({sourceX:t,sourceY:n,targetX:i,targetY:r}){const[l,u,c,d]=g_({sourceX:t,sourceY:n,targetX:i,targetY:r});return[`M ${t},${n}L ${i},${r}`,l,u,c,d]}const Ih=R.memo(({sourceX:t,sourceY:n,targetX:i,targetY:r,label:l,labelStyle:u,labelShowBg:c,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:p,style:g,markerEnd:y,markerStart:_,interactionWidth:v})=>{const[S,w,E]=HO({sourceX:t,sourceY:n,targetX:i,targetY:r});return F.createElement(Nl,{path:S,labelX:w,labelY:E,label:l,labelStyle:u,labelShowBg:c,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:p,style:g,markerEnd:y,markerStart:_,interactionWidth:v})});Ih.displayName="StraightEdge";function pu(t,n){return t>=0?.5*t:n*25*Math.sqrt(-t)}function iv({pos:t,x1:n,y1:i,x2:r,y2:l,c:u}){switch(t){case ce.Left:return[n-pu(n-r,u),i];case ce.Right:return[n+pu(r-n,u),i];case ce.Top:return[n,i-pu(i-l,u)];case ce.Bottom:return[n,i+pu(l-i,u)]}}function b_({sourceX:t,sourceY:n,sourcePosition:i=ce.Bottom,targetX:r,targetY:l,targetPosition:u=ce.Top,curvature:c=.25}){const[d,h]=iv({pos:i,x1:t,y1:n,x2:r,y2:l,c}),[p,g]=iv({pos:u,x1:r,y1:l,x2:t,y2:n,c}),[y,_,v,S]=y_({sourceX:t,sourceY:n,targetX:r,targetY:l,sourceControlX:d,sourceControlY:h,targetControlX:p,targetControlY:g});return[`M${t},${n} C${d},${h} ${p},${g} ${r},${l}`,y,_,v,S]}const $u=R.memo(({sourceX:t,sourceY:n,targetX:i,targetY:r,sourcePosition:l=ce.Bottom,targetPosition:u=ce.Top,label:c,labelStyle:d,labelShowBg:h,labelBgStyle:p,labelBgPadding:g,labelBgBorderRadius:y,style:_,markerEnd:v,markerStart:S,pathOptions:w,interactionWidth:E})=>{const[A,j,N]=b_({sourceX:t,sourceY:n,sourcePosition:l,targetX:i,targetY:r,targetPosition:u,curvature:w==null?void 0:w.curvature});return F.createElement(Nl,{path:A,labelX:j,labelY:N,label:c,labelStyle:d,labelShowBg:h,labelBgStyle:p,labelBgPadding:g,labelBgBorderRadius:y,style:_,markerEnd:v,markerStart:S,interactionWidth:E})});$u.displayName="BezierEdge";const Kh=R.createContext(null),qO=Kh.Provider;Kh.Consumer;const VO=()=>R.useContext(Kh),PO=t=>"id"in t&&"source"in t&&"target"in t,GO=({source:t,sourceHandle:n,target:i,targetHandle:r})=>`reactflow__edge-${t}${n||""}-${i}${r||""}`,ph=(t,n)=>typeof t>"u"?"":typeof t=="string"?t:`${n?`${n}__`:""}${Object.keys(t).sort().map(r=>`${r}=${t[r]}`).join("&")}`,YO=(t,n)=>n.some(i=>i.source===t.source&&i.target===t.target&&(i.sourceHandle===t.sourceHandle||!i.sourceHandle&&!t.sourceHandle)&&(i.targetHandle===t.targetHandle||!i.targetHandle&&!t.targetHandle)),__=(t,n)=>{if(!t.source||!t.target)return n;let i;return PO(t)?i={...t}:i={...t,id:GO(t)},YO(i,n)?n:n.concat(i)},gh=({x:t,y:n},[i,r,l],u,[c,d])=>{const h={x:(t-i)/l,y:(n-r)/l};return u?{x:c*Math.round(h.x/c),y:d*Math.round(h.y/d)}:h},w_=({x:t,y:n},[i,r,l])=>({x:t*l+i,y:n*l+r}),Vi=(t,n=[0,0])=>{if(!t)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const i=(t.width??0)*n[0],r=(t.height??0)*n[1],l={x:t.position.x-i,y:t.position.y-r};return{...l,positionAbsolute:t.positionAbsolute?{x:t.positionAbsolute.x-i,y:t.positionAbsolute.y-r}:l}},Ju=(t,n=[0,0])=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const i=t.reduce((r,l)=>{const{x:u,y:c}=Vi(l,n).positionAbsolute;return d_(r,yl({x:u,y:c,width:l.width||0,height:l.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return h_(i)},S_=(t,n,[i,r,l]=[0,0,1],u=!1,c=!1,d=[0,0])=>{const h={x:(n.x-i)/l,y:(n.y-r)/l,width:n.width/l,height:n.height/l},p=[];return t.forEach(g=>{const{width:y,height:_,selectable:v=!0,hidden:S=!1}=g;if(c&&!v||S)return!1;const{positionAbsolute:w}=Vi(g,d),E={x:w.x,y:w.y,width:y||0,height:_||0},A=dh(h,E),j=typeof y>"u"||typeof _>"u"||y===null||_===null,N=u&&A>0,M=(y||0)*(_||0);(j||N||A>=M||g.dragging)&&p.push(g)}),p},E_=(t,n)=>{const i=t.map(r=>r.id);return n.filter(r=>i.includes(r.source)||i.includes(r.target))},x_=(t,n,i,r,l,u=.1)=>{const c=n/(t.width*(1+u)),d=i/(t.height*(1+u)),h=Math.min(c,d),p=Kr(h,r,l),g=t.x+t.width/2,y=t.y+t.height/2,_=n/2-g*p,v=i/2-y*p;return{x:_,y:v,zoom:p}},Di=(t,n=0)=>t.transition().duration(n);function rv(t,n,i,r){return(n[i]||[]).reduce((l,u)=>{var c,d;return`${t.id}-${u.id}-${i}`!==r&&l.push({id:u.id||null,type:i,nodeId:t.id,x:(((c=t.positionAbsolute)==null?void 0:c.x)??0)+u.x+u.width/2,y:(((d=t.positionAbsolute)==null?void 0:d.y)??0)+u.y+u.height/2}),l},[])}function IO(t,n,i,r,l,u){const{x:c,y:d}=si(t),p=n.elementsFromPoint(c,d).find(S=>S.classList.contains("react-flow__handle"));if(p){const S=p.getAttribute("data-nodeid");if(S){const w=Xh(void 0,p),E=p.getAttribute("data-handleid"),A=u({nodeId:S,id:E,type:w});if(A){const j=l.find(N=>N.nodeId===S&&N.type===w&&N.id===E);return{handle:{id:E,type:w,nodeId:S,x:(j==null?void 0:j.x)||i.x,y:(j==null?void 0:j.y)||i.y},validHandleResult:A}}}}let g=[],y=1/0;if(l.forEach(S=>{const w=Math.sqrt((S.x-i.x)**2+(S.y-i.y)**2);if(w<=r){const E=u(S);w<=y&&(w<y?g=[{handle:S,validHandleResult:E}]:w===y&&g.push({handle:S,validHandleResult:E}),y=w)}}),!g.length)return{handle:null,validHandleResult:T_()};if(g.length===1)return g[0];const _=g.some(({validHandleResult:S})=>S.isValid),v=g.some(({handle:S})=>S.type==="target");return g.find(({handle:S,validHandleResult:w})=>v?S.type==="target":_?w.isValid:!0)||g[0]}const KO={source:null,target:null,sourceHandle:null,targetHandle:null},T_=()=>({handleDomNode:null,isValid:!1,connection:KO,endHandle:null});function A_(t,n,i,r,l,u,c){const d=l==="target",h=c.querySelector(`.react-flow__handle[data-id="${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`),p={...T_(),handleDomNode:h};if(h){const g=Xh(void 0,h),y=h.getAttribute("data-nodeid"),_=h.getAttribute("data-handleid"),v=h.classList.contains("connectable"),S=h.classList.contains("connectableend"),w={source:d?y:i,sourceHandle:d?_:r,target:d?i:y,targetHandle:d?r:_};p.connection=w,v&&S&&(n===Gi.Strict?d&&g==="source"||!d&&g==="target":y!==i||_!==r)&&(p.endHandle={nodeId:y,handleId:_,type:g},p.isValid=u(w))}return p}function XO({nodes:t,nodeId:n,handleId:i,handleType:r}){return t.reduce((l,u)=>{if(u[it]){const{handleBounds:c}=u[it];let d=[],h=[];c&&(d=rv(u,c,"source",`${n}-${i}-${r}`),h=rv(u,c,"target",`${n}-${i}-${r}`)),l.push(...d,...h)}return l},[])}function Xh(t,n){return t||(n!=null&&n.classList.contains("target")?"target":n!=null&&n.classList.contains("source")?"source":null)}function Ud(t){t==null||t.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function QO(t,n){let i=null;return n?i="valid":t&&!n&&(i="invalid"),i}function N_({event:t,handleId:n,nodeId:i,onConnect:r,isTarget:l,getState:u,setState:c,isValidConnection:d,edgeUpdaterType:h,onReconnectEnd:p}){const g=f_(t.target),{connectionMode:y,domNode:_,autoPanOnConnect:v,connectionRadius:S,onConnectStart:w,panBy:E,getNodes:A,cancelConnection:j}=u();let N=0,M;const{x:$,y:q}=si(t),V=g==null?void 0:g.elementFromPoint($,q),te=Xh(h,V),X=_==null?void 0:_.getBoundingClientRect();if(!X||!te)return;let re,ie=si(t,X),oe=!1,le=null,O=!1,P=null;const k=XO({nodes:A(),nodeId:i,handleId:n,handleType:te}),z=()=>{if(!v)return;const[J,C]=c_(ie,X);E({x:J,y:C}),N=requestAnimationFrame(z)};c({connectionPosition:ie,connectionStatus:null,connectionNodeId:i,connectionHandleId:n,connectionHandleType:te,connectionStartHandle:{nodeId:i,handleId:n,type:te},connectionEndHandle:null}),w==null||w(t,{nodeId:i,handleId:n,handleType:te});function G(J){const{transform:C}=u();ie=si(J,X);const{handle:U,validHandleResult:Z}=IO(J,g,gh(ie,C,!1,[1,1]),S,k,W=>A_(W,y,i,n,l?"target":"source",d,g));if(M=U,oe||(z(),oe=!0),P=Z.handleDomNode,le=Z.connection,O=Z.isValid,c({connectionPosition:M&&O?w_({x:M.x,y:M.y},C):ie,connectionStatus:QO(!!M,O),connectionEndHandle:Z.endHandle}),!M&&!O&&!P)return Ud(re);le.source!==le.target&&P&&(Ud(re),re=P,P.classList.add("connecting","react-flow__handle-connecting"),P.classList.toggle("valid",O),P.classList.toggle("react-flow__handle-valid",O))}function L(J){var C,U;(M||P)&&le&&O&&(r==null||r(le)),(U=(C=u()).onConnectEnd)==null||U.call(C,J),h&&(p==null||p(J)),Ud(re),j(),cancelAnimationFrame(N),oe=!1,O=!1,le=null,P=null,g.removeEventListener("mousemove",G),g.removeEventListener("mouseup",L),g.removeEventListener("touchmove",G),g.removeEventListener("touchend",L)}g.addEventListener("mousemove",G),g.addEventListener("mouseup",L),g.addEventListener("touchmove",G),g.addEventListener("touchend",L)}const sv=()=>!0,ZO=t=>({connectionStartHandle:t.connectionStartHandle,connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName}),JO=(t,n,i)=>r=>{const{connectionStartHandle:l,connectionEndHandle:u,connectionClickStartHandle:c}=r;return{connecting:(l==null?void 0:l.nodeId)===t&&(l==null?void 0:l.handleId)===n&&(l==null?void 0:l.type)===i||(u==null?void 0:u.nodeId)===t&&(u==null?void 0:u.handleId)===n&&(u==null?void 0:u.type)===i,clickConnecting:(c==null?void 0:c.nodeId)===t&&(c==null?void 0:c.handleId)===n&&(c==null?void 0:c.type)===i}},R_=R.forwardRef(({type:t="source",position:n=ce.Top,isValidConnection:i,isConnectable:r=!0,isConnectableStart:l=!0,isConnectableEnd:u=!0,id:c,onConnect:d,children:h,className:p,onMouseDown:g,onTouchStart:y,..._},v)=>{var X,re;const S=c||null,w=t==="target",E=bt(),A=VO(),{connectOnClick:j,noPanClassName:N}=Pe(ZO,Et),{connecting:M,clickConnecting:$}=Pe(JO(A,S,t),Et);A||(re=(X=E.getState()).onError)==null||re.call(X,"010",va.error010());const q=ie=>{const{defaultEdgeOptions:oe,onConnect:le,hasDefaultEdges:O}=E.getState(),P={...oe,...ie};if(O){const{edges:k,setEdges:z}=E.getState();z(__(P,k))}le==null||le(P),d==null||d(P)},V=ie=>{if(!A)return;const oe=p_(ie);l&&(oe&&ie.button===0||!oe)&&N_({event:ie,handleId:S,nodeId:A,onConnect:q,isTarget:w,getState:E.getState,setState:E.setState,isValidConnection:i||E.getState().isValidConnection||sv}),oe?g==null||g(ie):y==null||y(ie)},te=ie=>{const{onClickConnectStart:oe,onClickConnectEnd:le,connectionClickStartHandle:O,connectionMode:P,isValidConnection:k}=E.getState();if(!A||!O&&!l)return;if(!O){oe==null||oe(ie,{nodeId:A,handleId:S,handleType:t}),E.setState({connectionClickStartHandle:{nodeId:A,type:t,handleId:S}});return}const z=f_(ie.target),G=i||k||sv,{connection:L,isValid:J}=A_({nodeId:A,id:S,type:t},P,O.nodeId,O.handleId||null,O.type,G,z);J&&q(L),le==null||le(ie),E.setState({connectionClickStartHandle:null})};return F.createElement("div",{"data-handleid":S,"data-nodeid":A,"data-handlepos":n,"data-id":`${A}-${S}-${t}`,className:Ct(["react-flow__handle",`react-flow__handle-${n}`,"nodrag",N,p,{source:!w,target:w,connectable:r,connectablestart:l,connectableend:u,connecting:$,connectionindicator:r&&(l&&!M||u&&M)}]),onMouseDown:V,onTouchStart:V,onClick:j?te:void 0,ref:v,..._},h)});R_.displayName="Handle";var ot=R.memo(R_);const O_=({data:t,isConnectable:n,targetPosition:i=ce.Top,sourcePosition:r=ce.Bottom})=>F.createElement(F.Fragment,null,F.createElement(ot,{type:"target",position:i,isConnectable:n}),t==null?void 0:t.label,F.createElement(ot,{type:"source",position:r,isConnectable:n}));O_.displayName="DefaultNode";var yh=R.memo(O_);const k_=({data:t,isConnectable:n,sourcePosition:i=ce.Bottom})=>F.createElement(F.Fragment,null,t==null?void 0:t.label,F.createElement(ot,{type:"source",position:i,isConnectable:n}));k_.displayName="InputNode";var C_=R.memo(k_);const j_=({data:t,isConnectable:n,targetPosition:i=ce.Top})=>F.createElement(F.Fragment,null,F.createElement(ot,{type:"target",position:i,isConnectable:n}),t==null?void 0:t.label);j_.displayName="OutputNode";var M_=R.memo(j_);const Qh=()=>null;Qh.displayName="GroupNode";const FO=t=>({selectedNodes:t.getNodes().filter(n=>n.selected),selectedEdges:t.edges.filter(n=>n.selected).map(n=>({...n}))}),gu=t=>t.id;function WO(t,n){return Et(t.selectedNodes.map(gu),n.selectedNodes.map(gu))&&Et(t.selectedEdges.map(gu),n.selectedEdges.map(gu))}const D_=R.memo(({onSelectionChange:t})=>{const n=bt(),{selectedNodes:i,selectedEdges:r}=Pe(FO,WO);return R.useEffect(()=>{const l={nodes:i,edges:r};t==null||t(l),n.getState().onSelectionChange.forEach(u=>u(l))},[i,r,t]),null});D_.displayName="SelectionListener";const ek=t=>!!t.onSelectionChange;function tk({onSelectionChange:t}){const n=Pe(ek);return t||n?F.createElement(D_,{onSelectionChange:t}):null}const nk=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset});function jr(t,n){R.useEffect(()=>{typeof t<"u"&&n(t)},[t])}function Ae(t,n,i){R.useEffect(()=>{typeof n<"u"&&i({[t]:n})},[n])}const ak=({nodes:t,edges:n,defaultNodes:i,defaultEdges:r,onConnect:l,onConnectStart:u,onConnectEnd:c,onClickConnectStart:d,onClickConnectEnd:h,nodesDraggable:p,nodesConnectable:g,nodesFocusable:y,edgesFocusable:_,edgesUpdatable:v,elevateNodesOnSelect:S,minZoom:w,maxZoom:E,nodeExtent:A,onNodesChange:j,onEdgesChange:N,elementsSelectable:M,connectionMode:$,snapGrid:q,snapToGrid:V,translateExtent:te,connectOnClick:X,defaultEdgeOptions:re,fitView:ie,fitViewOptions:oe,onNodesDelete:le,onEdgesDelete:O,onNodeDrag:P,onNodeDragStart:k,onNodeDragStop:z,onSelectionDrag:G,onSelectionDragStart:L,onSelectionDragStop:J,noPanClassName:C,nodeOrigin:U,rfId:Z,autoPanOnConnect:W,autoPanOnNodeDrag:se,onError:ue,connectionRadius:fe,isValidConnection:we,nodeDragThreshold:ve})=>{const{setNodes:Te,setEdges:tt,setDefaultNodesAndEdges:Ze,setMinZoom:_t,setMaxZoom:Ke,setTranslateExtent:Ge,setNodeExtent:xt,reset:ze}=Pe(nk,Et),ge=bt();return R.useEffect(()=>{const pt=r==null?void 0:r.map(Gt=>({...Gt,...re}));return Ze(i,pt),()=>{ze()}},[]),Ae("defaultEdgeOptions",re,ge.setState),Ae("connectionMode",$,ge.setState),Ae("onConnect",l,ge.setState),Ae("onConnectStart",u,ge.setState),Ae("onConnectEnd",c,ge.setState),Ae("onClickConnectStart",d,ge.setState),Ae("onClickConnectEnd",h,ge.setState),Ae("nodesDraggable",p,ge.setState),Ae("nodesConnectable",g,ge.setState),Ae("nodesFocusable",y,ge.setState),Ae("edgesFocusable",_,ge.setState),Ae("edgesUpdatable",v,ge.setState),Ae("elementsSelectable",M,ge.setState),Ae("elevateNodesOnSelect",S,ge.setState),Ae("snapToGrid",V,ge.setState),Ae("snapGrid",q,ge.setState),Ae("onNodesChange",j,ge.setState),Ae("onEdgesChange",N,ge.setState),Ae("connectOnClick",X,ge.setState),Ae("fitViewOnInit",ie,ge.setState),Ae("fitViewOnInitOptions",oe,ge.setState),Ae("onNodesDelete",le,ge.setState),Ae("onEdgesDelete",O,ge.setState),Ae("onNodeDrag",P,ge.setState),Ae("onNodeDragStart",k,ge.setState),Ae("onNodeDragStop",z,ge.setState),Ae("onSelectionDrag",G,ge.setState),Ae("onSelectionDragStart",L,ge.setState),Ae("onSelectionDragStop",J,ge.setState),Ae("noPanClassName",C,ge.setState),Ae("nodeOrigin",U,ge.setState),Ae("rfId",Z,ge.setState),Ae("autoPanOnConnect",W,ge.setState),Ae("autoPanOnNodeDrag",se,ge.setState),Ae("onError",ue,ge.setState),Ae("connectionRadius",fe,ge.setState),Ae("isValidConnection",we,ge.setState),Ae("nodeDragThreshold",ve,ge.setState),jr(t,Te),jr(n,tt),jr(w,_t),jr(E,Ke),jr(te,Ge),jr(A,xt),null},lv={display:"none"},ik={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},z_="react-flow__node-desc",U_="react-flow__edge-desc",rk="react-flow__aria-live",sk=t=>t.ariaLiveMessage;function lk({rfId:t}){const n=Pe(sk);return F.createElement("div",{id:`${rk}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:ik},n)}function ok({rfId:t,disableKeyboardA11y:n}){return F.createElement(F.Fragment,null,F.createElement("div",{id:`${z_}-${t}`,style:lv},"Press enter or space to select a node.",!n&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),F.createElement("div",{id:`${U_}-${t}`,style:lv},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!n&&F.createElement(lk,{rfId:t}))}var _l=(t=null,n={actInsideInputWithModifier:!0})=>{const[i,r]=R.useState(!1),l=R.useRef(!1),u=R.useRef(new Set([])),[c,d]=R.useMemo(()=>{if(t!==null){const p=(Array.isArray(t)?t:[t]).filter(y=>typeof y=="string").map(y=>y.split("+")),g=p.reduce((y,_)=>y.concat(..._),[]);return[p,g]}return[[],[]]},[t]);return R.useEffect(()=>{const h=typeof document<"u"?document:null,p=(n==null?void 0:n.target)||h;if(t!==null){const g=v=>{if(l.current=v.ctrlKey||v.metaKey||v.shiftKey,(!l.current||l.current&&!n.actInsideInputWithModifier)&&hh(v))return!1;const w=uv(v.code,d);u.current.add(v[w]),ov(c,u.current,!1)&&(v.preventDefault(),r(!0))},y=v=>{if((!l.current||l.current&&!n.actInsideInputWithModifier)&&hh(v))return!1;const w=uv(v.code,d);ov(c,u.current,!0)?(r(!1),u.current.clear()):u.current.delete(v[w]),v.key==="Meta"&&u.current.clear(),l.current=!1},_=()=>{u.current.clear(),r(!1)};return p==null||p.addEventListener("keydown",g),p==null||p.addEventListener("keyup",y),window.addEventListener("blur",_),()=>{p==null||p.removeEventListener("keydown",g),p==null||p.removeEventListener("keyup",y),window.removeEventListener("blur",_)}}},[t,r]),i};function ov(t,n,i){return t.filter(r=>i||r.length===n.size).some(r=>r.every(l=>n.has(l)))}function uv(t,n){return n.includes(t)?"code":"key"}function B_(t,n,i,r){var d,h;const l=t.parentNode||t.parentId;if(!l)return i;const u=n.get(l),c=Vi(u,r);return B_(u,n,{x:(i.x??0)+c.x,y:(i.y??0)+c.y,z:(((d=u[it])==null?void 0:d.z)??0)>(i.z??0)?((h=u[it])==null?void 0:h.z)??0:i.z??0},r)}function $_(t,n,i){t.forEach(r=>{var u;const l=r.parentNode||r.parentId;if(l&&!t.has(l))throw new Error(`Parent node ${l} not found`);if(l||i!=null&&i[r.id]){const{x:c,y:d,z:h}=B_(r,t,{...r.position,z:((u=r[it])==null?void 0:u.z)??0},n);r.positionAbsolute={x:c,y:d},r[it].z=h,i!=null&&i[r.id]&&(r[it].isParent=!0)}})}function Bd(t,n,i,r){const l=new Map,u={},c=r?1e3:0;return t.forEach(d=>{var v;const h=(vn(d.zIndex)?d.zIndex:0)+(d.selected?c:0),p=n.get(d.id),g={...d,positionAbsolute:{x:d.position.x,y:d.position.y}},y=d.parentNode||d.parentId;y&&(u[y]=!0);const _=(p==null?void 0:p.type)&&(p==null?void 0:p.type)!==d.type;Object.defineProperty(g,it,{enumerable:!1,value:{handleBounds:_||(v=p==null?void 0:p[it])==null?void 0:v.handleBounds,z:h}}),l.set(d.id,g)}),$_(l,i,u),l}function L_(t,n={}){const{getNodes:i,width:r,height:l,minZoom:u,maxZoom:c,d3Zoom:d,d3Selection:h,fitViewOnInitDone:p,fitViewOnInit:g,nodeOrigin:y}=t(),_=n.initial&&!p&&g;if(d&&h&&(_||!n.initial)){const S=i().filter(E=>{var j;const A=n.includeHiddenNodes?E.width&&E.height:!E.hidden;return(j=n.nodes)!=null&&j.length?A&&n.nodes.some(N=>N.id===E.id):A}),w=S.every(E=>E.width&&E.height);if(S.length>0&&w){const E=Ju(S,y),{x:A,y:j,zoom:N}=x_(E,r,l,n.minZoom??u,n.maxZoom??c,n.padding??.1),M=pa.translate(A,j).scale(N);return typeof n.duration=="number"&&n.duration>0?d.transform(Di(h,n.duration),M):d.transform(h,M),!0}}return!1}function uk(t,n){return t.forEach(i=>{const r=n.get(i.id);r&&n.set(r.id,{...r,[it]:r[it],selected:i.selected})}),new Map(n)}function ck(t,n){return n.map(i=>{const r=t.find(l=>l.id===i.id);return r&&(i.selected=r.selected),i})}function yu({changedNodes:t,changedEdges:n,get:i,set:r}){const{nodeInternals:l,edges:u,onNodesChange:c,onEdgesChange:d,hasDefaultNodes:h,hasDefaultEdges:p}=i();t!=null&&t.length&&(h&&r({nodeInternals:uk(t,l)}),c==null||c(t)),n!=null&&n.length&&(p&&r({edges:ck(n,u)}),d==null||d(n))}const Mr=()=>{},fk={zoomIn:Mr,zoomOut:Mr,zoomTo:Mr,getZoom:()=>1,setViewport:Mr,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Mr,fitBounds:Mr,project:t=>t,screenToFlowPosition:t=>t,flowToScreenPosition:t=>t,viewportInitialized:!1},dk=t=>({d3Zoom:t.d3Zoom,d3Selection:t.d3Selection}),hk=()=>{const t=bt(),{d3Zoom:n,d3Selection:i}=Pe(dk,Et);return R.useMemo(()=>i&&n?{zoomIn:l=>n.scaleBy(Di(i,l==null?void 0:l.duration),1.2),zoomOut:l=>n.scaleBy(Di(i,l==null?void 0:l.duration),1/1.2),zoomTo:(l,u)=>n.scaleTo(Di(i,u==null?void 0:u.duration),l),getZoom:()=>t.getState().transform[2],setViewport:(l,u)=>{const[c,d,h]=t.getState().transform,p=pa.translate(l.x??c,l.y??d).scale(l.zoom??h);n.transform(Di(i,u==null?void 0:u.duration),p)},getViewport:()=>{const[l,u,c]=t.getState().transform;return{x:l,y:u,zoom:c}},fitView:l=>L_(t.getState,l),setCenter:(l,u,c)=>{const{width:d,height:h,maxZoom:p}=t.getState(),g=typeof(c==null?void 0:c.zoom)<"u"?c.zoom:p,y=d/2-l*g,_=h/2-u*g,v=pa.translate(y,_).scale(g);n.transform(Di(i,c==null?void 0:c.duration),v)},fitBounds:(l,u)=>{const{width:c,height:d,minZoom:h,maxZoom:p}=t.getState(),{x:g,y,zoom:_}=x_(l,c,d,h,p,(u==null?void 0:u.padding)??.1),v=pa.translate(g,y).scale(_);n.transform(Di(i,u==null?void 0:u.duration),v)},project:l=>{const{transform:u,snapToGrid:c,snapGrid:d}=t.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),gh(l,u,c,d)},screenToFlowPosition:l=>{const{transform:u,snapToGrid:c,snapGrid:d,domNode:h}=t.getState();if(!h)return l;const{x:p,y:g}=h.getBoundingClientRect(),y={x:l.x-p,y:l.y-g};return gh(y,u,c,d)},flowToScreenPosition:l=>{const{transform:u,domNode:c}=t.getState();if(!c)return l;const{x:d,y:h}=c.getBoundingClientRect(),p=w_(l,u);return{x:p.x+d,y:p.y+h}},viewportInitialized:!0}:fk,[n,i])};function Zh(){const t=hk(),n=bt(),i=R.useCallback(()=>n.getState().getNodes().map(w=>({...w})),[]),r=R.useCallback(w=>n.getState().nodeInternals.get(w),[]),l=R.useCallback(()=>{const{edges:w=[]}=n.getState();return w.map(E=>({...E}))},[]),u=R.useCallback(w=>{const{edges:E=[]}=n.getState();return E.find(A=>A.id===w)},[]),c=R.useCallback(w=>{const{getNodes:E,setNodes:A,hasDefaultNodes:j,onNodesChange:N}=n.getState(),M=E(),$=typeof w=="function"?w(M):w;if(j)A($);else if(N){const q=$.length===0?M.map(V=>({type:"remove",id:V.id})):$.map(V=>({item:V,type:"reset"}));N(q)}},[]),d=R.useCallback(w=>{const{edges:E=[],setEdges:A,hasDefaultEdges:j,onEdgesChange:N}=n.getState(),M=typeof w=="function"?w(E):w;if(j)A(M);else if(N){const $=M.length===0?E.map(q=>({type:"remove",id:q.id})):M.map(q=>({item:q,type:"reset"}));N($)}},[]),h=R.useCallback(w=>{const E=Array.isArray(w)?w:[w],{getNodes:A,setNodes:j,hasDefaultNodes:N,onNodesChange:M}=n.getState();if(N){const q=[...A(),...E];j(q)}else if(M){const $=E.map(q=>({item:q,type:"add"}));M($)}},[]),p=R.useCallback(w=>{const E=Array.isArray(w)?w:[w],{edges:A=[],setEdges:j,hasDefaultEdges:N,onEdgesChange:M}=n.getState();if(N)j([...A,...E]);else if(M){const $=E.map(q=>({item:q,type:"add"}));M($)}},[]),g=R.useCallback(()=>{const{getNodes:w,edges:E=[],transform:A}=n.getState(),[j,N,M]=A;return{nodes:w().map($=>({...$})),edges:E.map($=>({...$})),viewport:{x:j,y:N,zoom:M}}},[]),y=R.useCallback(({nodes:w,edges:E})=>{const{nodeInternals:A,getNodes:j,edges:N,hasDefaultNodes:M,hasDefaultEdges:$,onNodesDelete:q,onEdgesDelete:V,onNodesChange:te,onEdgesChange:X}=n.getState(),re=(w||[]).map(P=>P.id),ie=(E||[]).map(P=>P.id),oe=j().reduce((P,k)=>{const z=k.parentNode||k.parentId,G=!re.includes(k.id)&&z&&P.find(J=>J.id===z);return(typeof k.deletable=="boolean"?k.deletable:!0)&&(re.includes(k.id)||G)&&P.push(k),P},[]),le=N.filter(P=>typeof P.deletable=="boolean"?P.deletable:!0),O=le.filter(P=>ie.includes(P.id));if(oe||O){const P=E_(oe,le),k=[...O,...P],z=k.reduce((G,L)=>(G.includes(L.id)||G.push(L.id),G),[]);if(($||M)&&($&&n.setState({edges:N.filter(G=>!z.includes(G.id))}),M&&(oe.forEach(G=>{A.delete(G.id)}),n.setState({nodeInternals:new Map(A)}))),z.length>0&&(V==null||V(k),X&&X(z.map(G=>({id:G,type:"remove"})))),oe.length>0&&(q==null||q(oe),te)){const G=oe.map(L=>({id:L.id,type:"remove"}));te(G)}}},[]),_=R.useCallback(w=>{const E=DO(w),A=E?null:n.getState().nodeInternals.get(w.id);return!E&&!A?[null,null,E]:[E?w:ev(A),A,E]},[]),v=R.useCallback((w,E=!0,A)=>{const[j,N,M]=_(w);return j?(A||n.getState().getNodes()).filter($=>{if(!M&&($.id===N.id||!$.positionAbsolute))return!1;const q=ev($),V=dh(q,j);return E&&V>0||V>=j.width*j.height}):[]},[]),S=R.useCallback((w,E,A=!0)=>{const[j]=_(w);if(!j)return!1;const N=dh(j,E);return A&&N>0||N>=j.width*j.height},[]);return R.useMemo(()=>({...t,getNodes:i,getNode:r,getEdges:l,getEdge:u,setNodes:c,setEdges:d,addNodes:h,addEdges:p,toObject:g,deleteElements:y,getIntersectingNodes:v,isNodeIntersecting:S}),[t,i,r,l,u,c,d,h,p,g,y,v,S])}const mk={actInsideInputWithModifier:!1};var pk=({deleteKeyCode:t,multiSelectionKeyCode:n})=>{const i=bt(),{deleteElements:r}=Zh(),l=_l(t,mk),u=_l(n);R.useEffect(()=>{if(l){const{edges:c,getNodes:d}=i.getState(),h=d().filter(g=>g.selected),p=c.filter(g=>g.selected);r({nodes:h,edges:p}),i.setState({nodesSelectionActive:!1})}},[l]),R.useEffect(()=>{i.setState({multiSelectionActive:u})},[u])};function gk(t){const n=bt();R.useEffect(()=>{let i;const r=()=>{var u,c;if(!t.current)return;const l=Vh(t.current);(l.height===0||l.width===0)&&((c=(u=n.getState()).onError)==null||c.call(u,"004",va.error004())),n.setState({width:l.width||500,height:l.height||500})};return r(),window.addEventListener("resize",r),t.current&&(i=new ResizeObserver(()=>r()),i.observe(t.current)),()=>{window.removeEventListener("resize",r),i&&t.current&&i.unobserve(t.current)}},[])}const Jh={position:"absolute",width:"100%",height:"100%",top:0,left:0},yk=(t,n)=>t.x!==n.x||t.y!==n.y||t.zoom!==n.k,vu=t=>({x:t.x,y:t.y,zoom:t.k}),Dr=(t,n)=>t.target.closest(`.${n}`),cv=(t,n)=>n===2&&Array.isArray(t)&&t.includes(2),fv=t=>{const n=t.ctrlKey&&Bu()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*n},vk=t=>({d3Zoom:t.d3Zoom,d3Selection:t.d3Selection,d3ZoomHandler:t.d3ZoomHandler,userSelectionActive:t.userSelectionActive}),bk=({onMove:t,onMoveStart:n,onMoveEnd:i,onPaneContextMenu:r,zoomOnScroll:l=!0,zoomOnPinch:u=!0,panOnScroll:c=!1,panOnScrollSpeed:d=.5,panOnScrollMode:h=Hi.Free,zoomOnDoubleClick:p=!0,elementsSelectable:g,panOnDrag:y=!0,defaultViewport:_,translateExtent:v,minZoom:S,maxZoom:w,zoomActivationKeyCode:E,preventScrolling:A=!0,children:j,noWheelClassName:N,noPanClassName:M})=>{const $=R.useRef(),q=bt(),V=R.useRef(!1),te=R.useRef(!1),X=R.useRef(null),re=R.useRef({x:0,y:0,zoom:0}),{d3Zoom:ie,d3Selection:oe,d3ZoomHandler:le,userSelectionActive:O}=Pe(vk,Et),P=_l(E),k=R.useRef(0),z=R.useRef(!1),G=R.useRef();return gk(X),R.useEffect(()=>{if(X.current){const L=X.current.getBoundingClientRect(),J=o_().scaleExtent([S,w]).translateExtent(v),C=yn(X.current).call(J),U=pa.translate(_.x,_.y).scale(Kr(_.zoom,S,w)),Z=[[0,0],[L.width,L.height]],W=J.constrain()(U,Z,v);J.transform(C,W),J.wheelDelta(fv),q.setState({d3Zoom:J,d3Selection:C,d3ZoomHandler:C.on("wheel.zoom"),transform:[W.x,W.y,W.k],domNode:X.current.closest(".react-flow")})}},[]),R.useEffect(()=>{oe&&ie&&(c&&!P&&!O?oe.on("wheel.zoom",L=>{if(Dr(L,N))return!1;L.preventDefault(),L.stopImmediatePropagation();const J=oe.property("__zoom").k||1;if(L.ctrlKey&&u){const we=An(L),ve=fv(L),Te=J*Math.pow(2,ve);ie.scaleTo(oe,Te,we,L);return}const C=L.deltaMode===1?20:1;let U=h===Hi.Vertical?0:L.deltaX*C,Z=h===Hi.Horizontal?0:L.deltaY*C;!Bu()&&L.shiftKey&&h!==Hi.Vertical&&(U=L.deltaY*C,Z=0),ie.translateBy(oe,-(U/J)*d,-(Z/J)*d,{internal:!0});const W=vu(oe.property("__zoom")),{onViewportChangeStart:se,onViewportChange:ue,onViewportChangeEnd:fe}=q.getState();clearTimeout(G.current),z.current||(z.current=!0,n==null||n(L,W),se==null||se(W)),z.current&&(t==null||t(L,W),ue==null||ue(W),G.current=setTimeout(()=>{i==null||i(L,W),fe==null||fe(W),z.current=!1},150))},{passive:!1}):typeof le<"u"&&oe.on("wheel.zoom",function(L,J){if(!A&&L.type==="wheel"&&!L.ctrlKey||Dr(L,N))return null;L.preventDefault(),le.call(this,L,J)},{passive:!1}))},[O,c,h,oe,ie,le,P,u,A,N,n,t,i]),R.useEffect(()=>{ie&&ie.on("start",L=>{var U,Z;if(!L.sourceEvent||L.sourceEvent.internal)return null;k.current=(U=L.sourceEvent)==null?void 0:U.button;const{onViewportChangeStart:J}=q.getState(),C=vu(L.transform);V.current=!0,re.current=C,((Z=L.sourceEvent)==null?void 0:Z.type)==="mousedown"&&q.setState({paneDragging:!0}),J==null||J(C),n==null||n(L.sourceEvent,C)})},[ie,n]),R.useEffect(()=>{ie&&(O&&!V.current?ie.on("zoom",null):O||ie.on("zoom",L=>{var C;const{onViewportChange:J}=q.getState();if(q.setState({transform:[L.transform.x,L.transform.y,L.transform.k]}),te.current=!!(r&&cv(y,k.current??0)),(t||J)&&!((C=L.sourceEvent)!=null&&C.internal)){const U=vu(L.transform);J==null||J(U),t==null||t(L.sourceEvent,U)}}))},[O,ie,t,y,r]),R.useEffect(()=>{ie&&ie.on("end",L=>{if(!L.sourceEvent||L.sourceEvent.internal)return null;const{onViewportChangeEnd:J}=q.getState();if(V.current=!1,q.setState({paneDragging:!1}),r&&cv(y,k.current??0)&&!te.current&&r(L.sourceEvent),te.current=!1,(i||J)&&yk(re.current,L.transform)){const C=vu(L.transform);re.current=C,clearTimeout($.current),$.current=setTimeout(()=>{J==null||J(C),i==null||i(L.sourceEvent,C)},c?150:0)}})},[ie,c,y,i,r]),R.useEffect(()=>{ie&&ie.filter(L=>{const J=P||l,C=u&&L.ctrlKey;if((y===!0||Array.isArray(y)&&y.includes(1))&&L.button===1&&L.type==="mousedown"&&(Dr(L,"react-flow__node")||Dr(L,"react-flow__edge")))return!0;if(!y&&!J&&!c&&!p&&!u||O||!p&&L.type==="dblclick"||Dr(L,N)&&L.type==="wheel"||Dr(L,M)&&(L.type!=="wheel"||c&&L.type==="wheel"&&!P)||!u&&L.ctrlKey&&L.type==="wheel"||!J&&!c&&!C&&L.type==="wheel"||!y&&(L.type==="mousedown"||L.type==="touchstart")||Array.isArray(y)&&!y.includes(L.button)&&L.type==="mousedown")return!1;const U=Array.isArray(y)&&y.includes(L.button)||!L.button||L.button<=1;return(!L.ctrlKey||L.type==="wheel")&&U})},[O,ie,l,u,c,p,y,g,P]),F.createElement("div",{className:"react-flow__renderer",ref:X,style:Jh},j)},_k=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function wk(){const{userSelectionActive:t,userSelectionRect:n}=Pe(_k,Et);return t&&n?F.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:n.width,height:n.height,transform:`translate(${n.x}px, ${n.y}px)`}}):null}function dv(t,n){const i=n.parentNode||n.parentId,r=t.find(l=>l.id===i);if(r){const l=n.position.x+n.width-r.width,u=n.position.y+n.height-r.height;if(l>0||u>0||n.position.x<0||n.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,l>0&&(r.style.width+=l),u>0&&(r.style.height+=u),n.position.x<0){const c=Math.abs(n.position.x);r.position.x=r.position.x-c,r.style.width+=c,n.position.x=0}if(n.position.y<0){const c=Math.abs(n.position.y);r.position.y=r.position.y-c,r.style.height+=c,n.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function H_(t,n){if(t.some(r=>r.type==="reset"))return t.filter(r=>r.type==="reset").map(r=>r.item);const i=t.filter(r=>r.type==="add").map(r=>r.item);return n.reduce((r,l)=>{const u=t.filter(d=>d.id===l.id);if(u.length===0)return r.push(l),r;const c={...l};for(const d of u)if(d)switch(d.type){case"select":{c.selected=d.selected;break}case"position":{typeof d.position<"u"&&(c.position=d.position),typeof d.positionAbsolute<"u"&&(c.positionAbsolute=d.positionAbsolute),typeof d.dragging<"u"&&(c.dragging=d.dragging),c.expandParent&&dv(r,c);break}case"dimensions":{typeof d.dimensions<"u"&&(c.width=d.dimensions.width,c.height=d.dimensions.height),typeof d.updateStyle<"u"&&(c.style={...c.style||{},...d.dimensions}),typeof d.resizing=="boolean"&&(c.resizing=d.resizing),c.expandParent&&dv(r,c);break}case"remove":return r}return r.push(c),r},i)}function q_(t,n){return H_(t,n)}function Sk(t,n){return H_(t,n)}const ni=(t,n)=>({id:t,type:"select",selected:n});function Lr(t,n){return t.reduce((i,r)=>{const l=n.includes(r.id);return!r.selected&&l?(r.selected=!0,i.push(ni(r.id,!0))):r.selected&&!l&&(r.selected=!1,i.push(ni(r.id,!1))),i},[])}const $d=(t,n)=>i=>{i.target===n.current&&(t==null||t(i))},Ek=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,dragging:t.paneDragging}),V_=R.memo(({isSelecting:t,selectionMode:n=vl.Full,panOnDrag:i,onSelectionStart:r,onSelectionEnd:l,onPaneClick:u,onPaneContextMenu:c,onPaneScroll:d,onPaneMouseEnter:h,onPaneMouseMove:p,onPaneMouseLeave:g,children:y})=>{const _=R.useRef(null),v=bt(),S=R.useRef(0),w=R.useRef(0),E=R.useRef(),{userSelectionActive:A,elementsSelectable:j,dragging:N}=Pe(Ek,Et),M=()=>{v.setState({userSelectionActive:!1,userSelectionRect:null}),S.current=0,w.current=0},$=le=>{u==null||u(le),v.getState().resetSelectedElements(),v.setState({nodesSelectionActive:!1})},q=le=>{if(Array.isArray(i)&&(i!=null&&i.includes(2))){le.preventDefault();return}c==null||c(le)},V=d?le=>d(le):void 0,te=le=>{const{resetSelectedElements:O,domNode:P}=v.getState();if(E.current=P==null?void 0:P.getBoundingClientRect(),!j||!t||le.button!==0||le.target!==_.current||!E.current)return;const{x:k,y:z}=si(le,E.current);O(),v.setState({userSelectionRect:{width:0,height:0,startX:k,startY:z,x:k,y:z}}),r==null||r(le)},X=le=>{const{userSelectionRect:O,nodeInternals:P,edges:k,transform:z,onNodesChange:G,onEdgesChange:L,nodeOrigin:J,getNodes:C}=v.getState();if(!t||!E.current||!O)return;v.setState({userSelectionActive:!0,nodesSelectionActive:!1});const U=si(le,E.current),Z=O.startX??0,W=O.startY??0,se={...O,x:U.x<Z?U.x:Z,y:U.y<W?U.y:W,width:Math.abs(U.x-Z),height:Math.abs(U.y-W)},ue=C(),fe=S_(P,se,z,n===vl.Partial,!0,J),we=E_(fe,k).map(Te=>Te.id),ve=fe.map(Te=>Te.id);if(S.current!==ve.length){S.current=ve.length;const Te=Lr(ue,ve);Te.length&&(G==null||G(Te))}if(w.current!==we.length){w.current=we.length;const Te=Lr(k,we);Te.length&&(L==null||L(Te))}v.setState({userSelectionRect:se})},re=le=>{if(le.button!==0)return;const{userSelectionRect:O}=v.getState();!A&&O&&le.target===_.current&&($==null||$(le)),v.setState({nodesSelectionActive:S.current>0}),M(),l==null||l(le)},ie=le=>{A&&(v.setState({nodesSelectionActive:S.current>0}),l==null||l(le)),M()},oe=j&&(t||A);return F.createElement("div",{className:Ct(["react-flow__pane",{dragging:N,selection:t}]),onClick:oe?void 0:$d($,_),onContextMenu:$d(q,_),onWheel:$d(V,_),onMouseEnter:oe?void 0:h,onMouseDown:oe?te:void 0,onMouseMove:oe?X:p,onMouseUp:oe?re:void 0,onMouseLeave:oe?ie:g,ref:_,style:Jh},y,F.createElement(wk,null))});V_.displayName="Pane";function P_(t,n){const i=t.parentNode||t.parentId;if(!i)return!1;const r=n.get(i);return r?r.selected?!0:P_(r,n):!1}function hv(t,n,i){let r=t;do{if(r!=null&&r.matches(n))return!0;if(r===i.current)return!1;r=r.parentElement}while(r);return!1}function xk(t,n,i,r){return Array.from(t.values()).filter(l=>(l.selected||l.id===r)&&(!l.parentNode||l.parentId||!P_(l,t))&&(l.draggable||n&&typeof l.draggable>"u")).map(l=>{var u,c;return{id:l.id,position:l.position||{x:0,y:0},positionAbsolute:l.positionAbsolute||{x:0,y:0},distance:{x:i.x-(((u=l.positionAbsolute)==null?void 0:u.x)??0),y:i.y-(((c=l.positionAbsolute)==null?void 0:c.y)??0)},delta:{x:0,y:0},extent:l.extent,parentNode:l.parentNode||l.parentId,parentId:l.parentNode||l.parentId,width:l.width,height:l.height,expandParent:l.expandParent}})}function Tk(t,n){return!n||n==="parent"?n:[n[0],[n[1][0]-(t.width||0),n[1][1]-(t.height||0)]]}function G_(t,n,i,r,l=[0,0],u){const c=Tk(t,t.extent||r);let d=c;const h=t.parentNode||t.parentId;if(t.extent==="parent"&&!t.expandParent)if(h&&t.width&&t.height){const y=i.get(h),{x:_,y:v}=Vi(y,l).positionAbsolute;d=y&&vn(_)&&vn(v)&&vn(y.width)&&vn(y.height)?[[_+t.width*l[0],v+t.height*l[1]],[_+y.width-t.width+t.width*l[0],v+y.height-t.height+t.height*l[1]]]:d}else u==null||u("005",va.error005()),d=c;else if(t.extent&&h&&t.extent!=="parent"){const y=i.get(h),{x:_,y:v}=Vi(y,l).positionAbsolute;d=[[t.extent[0][0]+_,t.extent[0][1]+v],[t.extent[1][0]+_,t.extent[1][1]+v]]}let p={x:0,y:0};if(h){const y=i.get(h);p=Vi(y,l).positionAbsolute}const g=d&&d!=="parent"?Ph(n,d):n;return{position:{x:g.x-p.x,y:g.y-p.y},positionAbsolute:g}}function Ld({nodeId:t,dragItems:n,nodeInternals:i}){const r=n.map(l=>({...i.get(l.id),position:l.position,positionAbsolute:l.positionAbsolute}));return[t?r.find(l=>l.id===t):r[0],r]}const mv=(t,n,i,r)=>{const l=n.querySelectorAll(t);if(!l||!l.length)return null;const u=Array.from(l),c=n.getBoundingClientRect(),d={x:c.width*r[0],y:c.height*r[1]};return u.map(h=>{const p=h.getBoundingClientRect();return{id:h.getAttribute("data-handleid"),position:h.getAttribute("data-handlepos"),x:(p.left-c.left-d.x)/i,y:(p.top-c.top-d.y)/i,...Vh(h)}})};function Ws(t,n,i){return i===void 0?i:r=>{const l=n().nodeInternals.get(t);l&&i(r,{...l})}}function vh({id:t,store:n,unselect:i=!1,nodeRef:r}){const{addSelectedNodes:l,unselectNodesAndEdges:u,multiSelectionActive:c,nodeInternals:d,onError:h}=n.getState(),p=d.get(t);if(!p){h==null||h("012",va.error012(t));return}n.setState({nodesSelectionActive:!1}),p.selected?(i||p.selected&&c)&&(u({nodes:[p],edges:[]}),requestAnimationFrame(()=>{var g;return(g=r==null?void 0:r.current)==null?void 0:g.blur()})):l([t])}function Ak(){const t=bt();return R.useCallback(({sourceEvent:i})=>{const{transform:r,snapGrid:l,snapToGrid:u}=t.getState(),c=i.touches?i.touches[0].clientX:i.clientX,d=i.touches?i.touches[0].clientY:i.clientY,h={x:(c-r[0])/r[2],y:(d-r[1])/r[2]};return{xSnapped:u?l[0]*Math.round(h.x/l[0]):h.x,ySnapped:u?l[1]*Math.round(h.y/l[1]):h.y,...h}},[])}function Hd(t){return(n,i,r)=>t==null?void 0:t(n,r)}function Y_({nodeRef:t,disabled:n=!1,noDragClassName:i,handleSelector:r,nodeId:l,isSelectable:u,selectNodesOnDrag:c}){const d=bt(),[h,p]=R.useState(!1),g=R.useRef([]),y=R.useRef({x:null,y:null}),_=R.useRef(0),v=R.useRef(null),S=R.useRef({x:0,y:0}),w=R.useRef(null),E=R.useRef(!1),A=R.useRef(!1),j=R.useRef(!1),N=Ak();return R.useEffect(()=>{if(t!=null&&t.current){const M=yn(t.current),$=({x:te,y:X})=>{const{nodeInternals:re,onNodeDrag:ie,onSelectionDrag:oe,updateNodePositions:le,nodeExtent:O,snapGrid:P,snapToGrid:k,nodeOrigin:z,onError:G}=d.getState();y.current={x:te,y:X};let L=!1,J={x:0,y:0,x2:0,y2:0};if(g.current.length>1&&O){const U=Ju(g.current,z);J=yl(U)}if(g.current=g.current.map(U=>{const Z={x:te-U.distance.x,y:X-U.distance.y};k&&(Z.x=P[0]*Math.round(Z.x/P[0]),Z.y=P[1]*Math.round(Z.y/P[1]));const W=[[O[0][0],O[0][1]],[O[1][0],O[1][1]]];g.current.length>1&&O&&!U.extent&&(W[0][0]=U.positionAbsolute.x-J.x+O[0][0],W[1][0]=U.positionAbsolute.x+(U.width??0)-J.x2+O[1][0],W[0][1]=U.positionAbsolute.y-J.y+O[0][1],W[1][1]=U.positionAbsolute.y+(U.height??0)-J.y2+O[1][1]);const se=G_(U,Z,re,W,z,G);return L=L||U.position.x!==se.position.x||U.position.y!==se.position.y,U.position=se.position,U.positionAbsolute=se.positionAbsolute,U}),!L)return;le(g.current,!0,!0),p(!0);const C=l?ie:Hd(oe);if(C&&w.current){const[U,Z]=Ld({nodeId:l,dragItems:g.current,nodeInternals:re});C(w.current,U,Z)}},q=()=>{if(!v.current)return;const[te,X]=c_(S.current,v.current);if(te!==0||X!==0){const{transform:re,panBy:ie}=d.getState();y.current.x=(y.current.x??0)-te/re[2],y.current.y=(y.current.y??0)-X/re[2],ie({x:te,y:X})&&$(y.current)}_.current=requestAnimationFrame(q)},V=te=>{var z;const{nodeInternals:X,multiSelectionActive:re,nodesDraggable:ie,unselectNodesAndEdges:oe,onNodeDragStart:le,onSelectionDragStart:O}=d.getState();A.current=!0;const P=l?le:Hd(O);(!c||!u)&&!re&&l&&((z=X.get(l))!=null&&z.selected||oe()),l&&u&&c&&vh({id:l,store:d,nodeRef:t});const k=N(te);if(y.current=k,g.current=xk(X,ie,k,l),P&&g.current){const[G,L]=Ld({nodeId:l,dragItems:g.current,nodeInternals:X});P(te.sourceEvent,G,L)}};if(n)M.on(".drag",null);else{const te=$N().on("start",X=>{const{domNode:re,nodeDragThreshold:ie}=d.getState();ie===0&&V(X),j.current=!1;const oe=N(X);y.current=oe,v.current=(re==null?void 0:re.getBoundingClientRect())||null,S.current=si(X.sourceEvent,v.current)}).on("drag",X=>{var le,O;const re=N(X),{autoPanOnNodeDrag:ie,nodeDragThreshold:oe}=d.getState();if(X.sourceEvent.type==="touchmove"&&X.sourceEvent.touches.length>1&&(j.current=!0),!j.current){if(!E.current&&A.current&&ie&&(E.current=!0,q()),!A.current){const P=re.xSnapped-(((le=y==null?void 0:y.current)==null?void 0:le.x)??0),k=re.ySnapped-(((O=y==null?void 0:y.current)==null?void 0:O.y)??0);Math.sqrt(P*P+k*k)>oe&&V(X)}(y.current.x!==re.xSnapped||y.current.y!==re.ySnapped)&&g.current&&A.current&&(w.current=X.sourceEvent,S.current=si(X.sourceEvent,v.current),$(re))}}).on("end",X=>{if(!(!A.current||j.current)&&(p(!1),E.current=!1,A.current=!1,cancelAnimationFrame(_.current),g.current)){const{updateNodePositions:re,nodeInternals:ie,onNodeDragStop:oe,onSelectionDragStop:le}=d.getState(),O=l?oe:Hd(le);if(re(g.current,!1,!1),O){const[P,k]=Ld({nodeId:l,dragItems:g.current,nodeInternals:ie});O(X.sourceEvent,P,k)}}}).filter(X=>{const re=X.target;return!X.button&&(!i||!hv(re,`.${i}`,t))&&(!r||hv(re,r,t))});return M.call(te),()=>{M.on(".drag",null)}}}},[t,n,i,r,u,d,l,c,N]),h}function I_(){const t=bt();return R.useCallback(i=>{const{nodeInternals:r,nodeExtent:l,updateNodePositions:u,getNodes:c,snapToGrid:d,snapGrid:h,onError:p,nodesDraggable:g}=t.getState(),y=c().filter(j=>j.selected&&(j.draggable||g&&typeof j.draggable>"u")),_=d?h[0]:5,v=d?h[1]:5,S=i.isShiftPressed?4:1,w=i.x*_*S,E=i.y*v*S,A=y.map(j=>{if(j.positionAbsolute){const N={x:j.positionAbsolute.x+w,y:j.positionAbsolute.y+E};d&&(N.x=h[0]*Math.round(N.x/h[0]),N.y=h[1]*Math.round(N.y/h[1]));const{positionAbsolute:M,position:$}=G_(j,N,r,l,void 0,p);j.position=$,j.positionAbsolute=M}return j});u(A,!0,!1)},[])}const Pr={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var el=t=>{const n=({id:i,type:r,data:l,xPos:u,yPos:c,xPosOrigin:d,yPosOrigin:h,selected:p,onClick:g,onMouseEnter:y,onMouseMove:_,onMouseLeave:v,onContextMenu:S,onDoubleClick:w,style:E,className:A,isDraggable:j,isSelectable:N,isConnectable:M,isFocusable:$,selectNodesOnDrag:q,sourcePosition:V,targetPosition:te,hidden:X,resizeObserver:re,dragHandle:ie,zIndex:oe,isParent:le,noDragClassName:O,noPanClassName:P,initialized:k,disableKeyboardA11y:z,ariaLabel:G,rfId:L,hasHandleBounds:J})=>{const C=bt(),U=R.useRef(null),Z=R.useRef(null),W=R.useRef(V),se=R.useRef(te),ue=R.useRef(r),fe=N||j||g||y||_||v,we=I_(),ve=Ws(i,C.getState,y),Te=Ws(i,C.getState,_),tt=Ws(i,C.getState,v),Ze=Ws(i,C.getState,S),_t=Ws(i,C.getState,w),Ke=ze=>{const{nodeDragThreshold:ge}=C.getState();if(N&&(!q||!j||ge>0)&&vh({id:i,store:C,nodeRef:U}),g){const pt=C.getState().nodeInternals.get(i);pt&&g(ze,{...pt})}},Ge=ze=>{if(!hh(ze)&&!z)if(m_.includes(ze.key)&&N){const ge=ze.key==="Escape";vh({id:i,store:C,unselect:ge,nodeRef:U})}else j&&p&&Object.prototype.hasOwnProperty.call(Pr,ze.key)&&(C.setState({ariaLiveMessage:`Moved selected node ${ze.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~u}, y: ${~~c}`}),we({x:Pr[ze.key].x,y:Pr[ze.key].y,isShiftPressed:ze.shiftKey}))};R.useEffect(()=>()=>{Z.current&&(re==null||re.unobserve(Z.current),Z.current=null)},[]),R.useEffect(()=>{if(U.current&&!X){const ze=U.current;(!k||!J||Z.current!==ze)&&(Z.current&&(re==null||re.unobserve(Z.current)),re==null||re.observe(ze),Z.current=ze)}},[X,k,J]),R.useEffect(()=>{const ze=ue.current!==r,ge=W.current!==V,pt=se.current!==te;U.current&&(ze||ge||pt)&&(ze&&(ue.current=r),ge&&(W.current=V),pt&&(se.current=te),C.getState().updateNodeDimensions([{id:i,nodeElement:U.current,forceUpdate:!0}]))},[i,r,V,te]);const xt=Y_({nodeRef:U,disabled:X||!j,noDragClassName:O,handleSelector:ie,nodeId:i,isSelectable:N,selectNodesOnDrag:q});return X?null:F.createElement("div",{className:Ct(["react-flow__node",`react-flow__node-${r}`,{[P]:j},A,{selected:p,selectable:N,parent:le,dragging:xt}]),ref:U,style:{zIndex:oe,transform:`translate(${d}px,${h}px)`,pointerEvents:fe?"all":"none",visibility:k?"visible":"hidden",...E},"data-id":i,"data-testid":`rf__node-${i}`,onMouseEnter:ve,onMouseMove:Te,onMouseLeave:tt,onContextMenu:Ze,onClick:Ke,onDoubleClick:_t,onKeyDown:$?Ge:void 0,tabIndex:$?0:void 0,role:$?"button":void 0,"aria-describedby":z?void 0:`${z_}-${L}`,"aria-label":G},F.createElement(qO,{value:i},F.createElement(t,{id:i,data:l,type:r,xPos:u,yPos:c,selected:p,isConnectable:M,sourcePosition:V,targetPosition:te,dragging:xt,dragHandle:ie,zIndex:oe})))};return n.displayName="NodeWrapper",R.memo(n)};const Nk=t=>{const n=t.getNodes().filter(i=>i.selected);return{...Ju(n,t.nodeOrigin),transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`,userSelectionActive:t.userSelectionActive}};function Rk({onSelectionContextMenu:t,noPanClassName:n,disableKeyboardA11y:i}){const r=bt(),{width:l,height:u,x:c,y:d,transformString:h,userSelectionActive:p}=Pe(Nk,Et),g=I_(),y=R.useRef(null);if(R.useEffect(()=>{var S;i||(S=y.current)==null||S.focus({preventScroll:!0})},[i]),Y_({nodeRef:y}),p||!l||!u)return null;const _=t?S=>{const w=r.getState().getNodes().filter(E=>E.selected);t(S,w)}:void 0,v=S=>{Object.prototype.hasOwnProperty.call(Pr,S.key)&&g({x:Pr[S.key].x,y:Pr[S.key].y,isShiftPressed:S.shiftKey})};return F.createElement("div",{className:Ct(["react-flow__nodesselection","react-flow__container",n]),style:{transform:h}},F.createElement("div",{ref:y,className:"react-flow__nodesselection-rect",onContextMenu:_,tabIndex:i?void 0:-1,onKeyDown:i?void 0:v,style:{width:l,height:u,top:d,left:c}}))}var Ok=R.memo(Rk);const kk=t=>t.nodesSelectionActive,K_=({children:t,onPaneClick:n,onPaneMouseEnter:i,onPaneMouseMove:r,onPaneMouseLeave:l,onPaneContextMenu:u,onPaneScroll:c,deleteKeyCode:d,onMove:h,onMoveStart:p,onMoveEnd:g,selectionKeyCode:y,selectionOnDrag:_,selectionMode:v,onSelectionStart:S,onSelectionEnd:w,multiSelectionKeyCode:E,panActivationKeyCode:A,zoomActivationKeyCode:j,elementsSelectable:N,zoomOnScroll:M,zoomOnPinch:$,panOnScroll:q,panOnScrollSpeed:V,panOnScrollMode:te,zoomOnDoubleClick:X,panOnDrag:re,defaultViewport:ie,translateExtent:oe,minZoom:le,maxZoom:O,preventScrolling:P,onSelectionContextMenu:k,noWheelClassName:z,noPanClassName:G,disableKeyboardA11y:L})=>{const J=Pe(kk),C=_l(y),U=_l(A),Z=U||re,W=U||q,se=C||_&&Z!==!0;return pk({deleteKeyCode:d,multiSelectionKeyCode:E}),F.createElement(bk,{onMove:h,onMoveStart:p,onMoveEnd:g,onPaneContextMenu:u,elementsSelectable:N,zoomOnScroll:M,zoomOnPinch:$,panOnScroll:W,panOnScrollSpeed:V,panOnScrollMode:te,zoomOnDoubleClick:X,panOnDrag:!C&&Z,defaultViewport:ie,translateExtent:oe,minZoom:le,maxZoom:O,zoomActivationKeyCode:j,preventScrolling:P,noWheelClassName:z,noPanClassName:G},F.createElement(V_,{onSelectionStart:S,onSelectionEnd:w,onPaneClick:n,onPaneMouseEnter:i,onPaneMouseMove:r,onPaneMouseLeave:l,onPaneContextMenu:u,onPaneScroll:c,panOnDrag:Z,isSelecting:!!se,selectionMode:v},t,J&&F.createElement(Ok,{onSelectionContextMenu:k,noPanClassName:G,disableKeyboardA11y:L})))};K_.displayName="FlowRenderer";var Ck=R.memo(K_);function jk(t){return Pe(R.useCallback(i=>t?S_(i.nodeInternals,{x:0,y:0,width:i.width,height:i.height},i.transform,!0):i.getNodes(),[t]))}function Mk(t){const n={input:el(t.input||C_),default:el(t.default||yh),output:el(t.output||M_),group:el(t.group||Qh)},i={},r=Object.keys(t).filter(l=>!["input","default","output","group"].includes(l)).reduce((l,u)=>(l[u]=el(t[u]||yh),l),i);return{...n,...r}}const Dk=({x:t,y:n,width:i,height:r,origin:l})=>!i||!r?{x:t,y:n}:l[0]<0||l[1]<0||l[0]>1||l[1]>1?{x:t,y:n}:{x:t-i*l[0],y:n-r*l[1]},zk=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,updateNodeDimensions:t.updateNodeDimensions,onError:t.onError}),X_=t=>{const{nodesDraggable:n,nodesConnectable:i,nodesFocusable:r,elementsSelectable:l,updateNodeDimensions:u,onError:c}=Pe(zk,Et),d=jk(t.onlyRenderVisibleElements),h=R.useRef(),p=R.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const g=new ResizeObserver(y=>{const _=y.map(v=>({id:v.target.getAttribute("data-id"),nodeElement:v.target,forceUpdate:!0}));u(_)});return h.current=g,g},[]);return R.useEffect(()=>()=>{var g;(g=h==null?void 0:h.current)==null||g.disconnect()},[]),F.createElement("div",{className:"react-flow__nodes",style:Jh},d.map(g=>{var $,q,V;let y=g.type||"default";t.nodeTypes[y]||(c==null||c("003",va.error003(y)),y="default");const _=t.nodeTypes[y]||t.nodeTypes.default,v=!!(g.draggable||n&&typeof g.draggable>"u"),S=!!(g.selectable||l&&typeof g.selectable>"u"),w=!!(g.connectable||i&&typeof g.connectable>"u"),E=!!(g.focusable||r&&typeof g.focusable>"u"),A=t.nodeExtent?Ph(g.positionAbsolute,t.nodeExtent):g.positionAbsolute,j=(A==null?void 0:A.x)??0,N=(A==null?void 0:A.y)??0,M=Dk({x:j,y:N,width:g.width??0,height:g.height??0,origin:t.nodeOrigin});return F.createElement(_,{key:g.id,id:g.id,className:g.className,style:g.style,type:y,data:g.data,sourcePosition:g.sourcePosition||ce.Bottom,targetPosition:g.targetPosition||ce.Top,hidden:g.hidden,xPos:j,yPos:N,xPosOrigin:M.x,yPosOrigin:M.y,selectNodesOnDrag:t.selectNodesOnDrag,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,selected:!!g.selected,isDraggable:v,isSelectable:S,isConnectable:w,isFocusable:E,resizeObserver:p,dragHandle:g.dragHandle,zIndex:(($=g[it])==null?void 0:$.z)??0,isParent:!!((q=g[it])!=null&&q.isParent),noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,initialized:!!g.width&&!!g.height,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,ariaLabel:g.ariaLabel,hasHandleBounds:!!((V=g[it])!=null&&V.handleBounds)})}))};X_.displayName="NodeRenderer";var Uk=R.memo(X_);const Bk=(t,n,i)=>i===ce.Left?t-n:i===ce.Right?t+n:t,$k=(t,n,i)=>i===ce.Top?t-n:i===ce.Bottom?t+n:t,pv="react-flow__edgeupdater",gv=({position:t,centerX:n,centerY:i,radius:r=10,onMouseDown:l,onMouseEnter:u,onMouseOut:c,type:d})=>F.createElement("circle",{onMouseDown:l,onMouseEnter:u,onMouseOut:c,className:Ct([pv,`${pv}-${d}`]),cx:Bk(n,r,t),cy:$k(i,r,t),r,stroke:"transparent",fill:"transparent"}),Lk=()=>!0;var zr=t=>{const n=({id:i,className:r,type:l,data:u,onClick:c,onEdgeDoubleClick:d,selected:h,animated:p,label:g,labelStyle:y,labelShowBg:_,labelBgStyle:v,labelBgPadding:S,labelBgBorderRadius:w,style:E,source:A,target:j,sourceX:N,sourceY:M,targetX:$,targetY:q,sourcePosition:V,targetPosition:te,elementsSelectable:X,hidden:re,sourceHandleId:ie,targetHandleId:oe,onContextMenu:le,onMouseEnter:O,onMouseMove:P,onMouseLeave:k,reconnectRadius:z,onReconnect:G,onReconnectStart:L,onReconnectEnd:J,markerEnd:C,markerStart:U,rfId:Z,ariaLabel:W,isFocusable:se,isReconnectable:ue,pathOptions:fe,interactionWidth:we,disableKeyboardA11y:ve})=>{const Te=R.useRef(null),[tt,Ze]=R.useState(!1),[_t,Ke]=R.useState(!1),Ge=bt(),xt=R.useMemo(()=>`url('#${ph(U,Z)}')`,[U,Z]),ze=R.useMemo(()=>`url('#${ph(C,Z)}')`,[C,Z]);if(re)return null;const ge=wt=>{var sn;const{edges:Yt,addSelectedEdges:It,unselectNodesAndEdges:rt,multiSelectionActive:jt}=Ge.getState(),Fe=Yt.find(ui=>ui.id===i);Fe&&(X&&(Ge.setState({nodesSelectionActive:!1}),Fe.selected&&jt?(rt({nodes:[],edges:[Fe]}),(sn=Te.current)==null||sn.blur()):It([i])),c&&c(wt,Fe))},pt=Fs(i,Ge.getState,d),Gt=Fs(i,Ge.getState,le),Pn=Fs(i,Ge.getState,O),_a=Fs(i,Ge.getState,P),wa=Fs(i,Ge.getState,k),Je=(wt,Yt)=>{if(wt.button!==0)return;const{edges:It,isValidConnection:rt}=Ge.getState(),jt=Yt?j:A,Fe=(Yt?oe:ie)||null,sn=Yt?"target":"source",ui=rt||Lk,Wr=Yt,zn=It.find(zt=>zt.id===i);Ke(!0),L==null||L(wt,zn,sn);const Ta=zt=>{Ke(!1),J==null||J(zt,zn,sn)};N_({event:wt,handleId:Fe,nodeId:jt,onConnect:zt=>G==null?void 0:G(zn,zt),isTarget:Wr,getState:Ge.getState,setState:Ge.setState,isValidConnection:ui,edgeUpdaterType:sn,onReconnectEnd:Ta})},Sa=wt=>Je(wt,!0),Mn=wt=>Je(wt,!1),Dn=()=>Ze(!0),bn=()=>Ze(!1),Ea=!X&&!c,xa=wt=>{var Yt;if(!ve&&m_.includes(wt.key)&&X){const{unselectNodesAndEdges:It,addSelectedEdges:rt,edges:jt}=Ge.getState();wt.key==="Escape"?((Yt=Te.current)==null||Yt.blur(),It({edges:[jt.find(sn=>sn.id===i)]})):rt([i])}};return F.createElement("g",{className:Ct(["react-flow__edge",`react-flow__edge-${l}`,r,{selected:h,animated:p,inactive:Ea,updating:tt}]),onClick:ge,onDoubleClick:pt,onContextMenu:Gt,onMouseEnter:Pn,onMouseMove:_a,onMouseLeave:wa,onKeyDown:se?xa:void 0,tabIndex:se?0:void 0,role:se?"button":"img","data-testid":`rf__edge-${i}`,"aria-label":W===null?void 0:W||`Edge from ${A} to ${j}`,"aria-describedby":se?`${U_}-${Z}`:void 0,ref:Te},!_t&&F.createElement(t,{id:i,source:A,target:j,selected:h,animated:p,label:g,labelStyle:y,labelShowBg:_,labelBgStyle:v,labelBgPadding:S,labelBgBorderRadius:w,data:u,style:E,sourceX:N,sourceY:M,targetX:$,targetY:q,sourcePosition:V,targetPosition:te,sourceHandleId:ie,targetHandleId:oe,markerStart:xt,markerEnd:ze,pathOptions:fe,interactionWidth:we}),ue&&F.createElement(F.Fragment,null,(ue==="source"||ue===!0)&&F.createElement(gv,{position:V,centerX:N,centerY:M,radius:z,onMouseDown:Sa,onMouseEnter:Dn,onMouseOut:bn,type:"source"}),(ue==="target"||ue===!0)&&F.createElement(gv,{position:te,centerX:$,centerY:q,radius:z,onMouseDown:Mn,onMouseEnter:Dn,onMouseOut:bn,type:"target"})))};return n.displayName="EdgeWrapper",R.memo(n)};function Hk(t){const n={default:zr(t.default||$u),straight:zr(t.bezier||Ih),step:zr(t.step||Yh),smoothstep:zr(t.step||Zu),simplebezier:zr(t.simplebezier||Gh)},i={},r=Object.keys(t).filter(l=>!["default","bezier"].includes(l)).reduce((l,u)=>(l[u]=zr(t[u]||$u),l),i);return{...n,...r}}function yv(t,n,i=null){const r=((i==null?void 0:i.x)||0)+n.x,l=((i==null?void 0:i.y)||0)+n.y,u=(i==null?void 0:i.width)||n.width,c=(i==null?void 0:i.height)||n.height;switch(t){case ce.Top:return{x:r+u/2,y:l};case ce.Right:return{x:r+u,y:l+c/2};case ce.Bottom:return{x:r+u/2,y:l+c};case ce.Left:return{x:r,y:l+c/2}}}function vv(t,n){return t?t.length===1||!n?t[0]:n&&t.find(i=>i.id===n)||null:null}const qk=(t,n,i,r,l,u)=>{const c=yv(i,t,n),d=yv(u,r,l);return{sourceX:c.x,sourceY:c.y,targetX:d.x,targetY:d.y}};function Vk({sourcePos:t,targetPos:n,sourceWidth:i,sourceHeight:r,targetWidth:l,targetHeight:u,width:c,height:d,transform:h}){const p={x:Math.min(t.x,n.x),y:Math.min(t.y,n.y),x2:Math.max(t.x+i,n.x+l),y2:Math.max(t.y+r,n.y+u)};p.x===p.x2&&(p.x2+=1),p.y===p.y2&&(p.y2+=1);const g=yl({x:(0-h[0])/h[2],y:(0-h[1])/h[2],width:c/h[2],height:d/h[2]}),y=Math.max(0,Math.min(g.x2,p.x2)-Math.max(g.x,p.x)),_=Math.max(0,Math.min(g.y2,p.y2)-Math.max(g.y,p.y));return Math.ceil(y*_)>0}function bv(t){var r,l,u,c,d;const n=((r=t==null?void 0:t[it])==null?void 0:r.handleBounds)||null,i=n&&(t==null?void 0:t.width)&&(t==null?void 0:t.height)&&typeof((l=t==null?void 0:t.positionAbsolute)==null?void 0:l.x)<"u"&&typeof((u=t==null?void 0:t.positionAbsolute)==null?void 0:u.y)<"u";return[{x:((c=t==null?void 0:t.positionAbsolute)==null?void 0:c.x)||0,y:((d=t==null?void 0:t.positionAbsolute)==null?void 0:d.y)||0,width:(t==null?void 0:t.width)||0,height:(t==null?void 0:t.height)||0},n,!!i]}const Pk=[{level:0,isMaxLevel:!0,edges:[]}];function Gk(t,n,i=!1){let r=-1;const l=t.reduce((c,d)=>{var g,y;const h=vn(d.zIndex);let p=h?d.zIndex:0;if(i){const _=n.get(d.target),v=n.get(d.source),S=d.selected||(_==null?void 0:_.selected)||(v==null?void 0:v.selected),w=Math.max(((g=v==null?void 0:v[it])==null?void 0:g.z)||0,((y=_==null?void 0:_[it])==null?void 0:y.z)||0,1e3);p=(h?d.zIndex:0)+(S?w:0)}return c[p]?c[p].push(d):c[p]=[d],r=p>r?p:r,c},{}),u=Object.entries(l).map(([c,d])=>{const h=+c;return{edges:d,level:h,isMaxLevel:h===r}});return u.length===0?Pk:u}function Yk(t,n,i){const r=Pe(R.useCallback(l=>t?l.edges.filter(u=>{const c=n.get(u.source),d=n.get(u.target);return(c==null?void 0:c.width)&&(c==null?void 0:c.height)&&(d==null?void 0:d.width)&&(d==null?void 0:d.height)&&Vk({sourcePos:c.positionAbsolute||{x:0,y:0},targetPos:d.positionAbsolute||{x:0,y:0},sourceWidth:c.width,sourceHeight:c.height,targetWidth:d.width,targetHeight:d.height,width:l.width,height:l.height,transform:l.transform})}):l.edges,[t,n]));return Gk(r,n,i)}const Ik=({color:t="none",strokeWidth:n=1})=>F.createElement("polyline",{style:{stroke:t,strokeWidth:n},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),Kk=({color:t="none",strokeWidth:n=1})=>F.createElement("polyline",{style:{stroke:t,fill:t,strokeWidth:n},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),_v={[bl.Arrow]:Ik,[bl.ArrowClosed]:Kk};function Xk(t){const n=bt();return R.useMemo(()=>{var l,u;return Object.prototype.hasOwnProperty.call(_v,t)?_v[t]:((u=(l=n.getState()).onError)==null||u.call(l,"009",va.error009(t)),null)},[t])}const Qk=({id:t,type:n,color:i,width:r=12.5,height:l=12.5,markerUnits:u="strokeWidth",strokeWidth:c,orient:d="auto-start-reverse"})=>{const h=Xk(n);return h?F.createElement("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${r}`,markerHeight:`${l}`,viewBox:"-10 -10 20 20",markerUnits:u,orient:d,refX:"0",refY:"0"},F.createElement(h,{color:i,strokeWidth:c})):null},Zk=({defaultColor:t,rfId:n})=>i=>{const r=[];return i.edges.reduce((l,u)=>([u.markerStart,u.markerEnd].forEach(c=>{if(c&&typeof c=="object"){const d=ph(c,n);r.includes(d)||(l.push({id:d,color:c.color||t,...c}),r.push(d))}}),l),[]).sort((l,u)=>l.id.localeCompare(u.id))},Q_=({defaultColor:t,rfId:n})=>{const i=Pe(R.useCallback(Zk({defaultColor:t,rfId:n}),[t,n]),(r,l)=>!(r.length!==l.length||r.some((u,c)=>u.id!==l[c].id)));return F.createElement("defs",null,i.map(r=>F.createElement(Qk,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};Q_.displayName="MarkerDefinitions";var Jk=R.memo(Q_);const Fk=t=>({nodesConnectable:t.nodesConnectable,edgesFocusable:t.edgesFocusable,edgesUpdatable:t.edgesUpdatable,elementsSelectable:t.elementsSelectable,width:t.width,height:t.height,connectionMode:t.connectionMode,nodeInternals:t.nodeInternals,onError:t.onError}),Z_=({defaultMarkerColor:t,onlyRenderVisibleElements:n,elevateEdgesOnSelect:i,rfId:r,edgeTypes:l,noPanClassName:u,onEdgeContextMenu:c,onEdgeMouseEnter:d,onEdgeMouseMove:h,onEdgeMouseLeave:p,onEdgeClick:g,onEdgeDoubleClick:y,onReconnect:_,onReconnectStart:v,onReconnectEnd:S,reconnectRadius:w,children:E,disableKeyboardA11y:A})=>{const{edgesFocusable:j,edgesUpdatable:N,elementsSelectable:M,width:$,height:q,connectionMode:V,nodeInternals:te,onError:X}=Pe(Fk,Et),re=Yk(n,te,i);return $?F.createElement(F.Fragment,null,re.map(({level:ie,edges:oe,isMaxLevel:le})=>F.createElement("svg",{key:ie,style:{zIndex:ie},width:$,height:q,className:"react-flow__edges react-flow__container"},le&&F.createElement(Jk,{defaultColor:t,rfId:r}),F.createElement("g",null,oe.map(O=>{const[P,k,z]=bv(te.get(O.source)),[G,L,J]=bv(te.get(O.target));if(!z||!J)return null;let C=O.type||"default";l[C]||(X==null||X("011",va.error011(C)),C="default");const U=l[C]||l.default,Z=V===Gi.Strict?L.target:(L.target??[]).concat(L.source??[]),W=vv(k.source,O.sourceHandle),se=vv(Z,O.targetHandle),ue=(W==null?void 0:W.position)||ce.Bottom,fe=(se==null?void 0:se.position)||ce.Top,we=!!(O.focusable||j&&typeof O.focusable>"u"),ve=O.reconnectable||O.updatable,Te=typeof _<"u"&&(ve||N&&typeof ve>"u");if(!W||!se)return X==null||X("008",va.error008(W,O)),null;const{sourceX:tt,sourceY:Ze,targetX:_t,targetY:Ke}=qk(P,W,ue,G,se,fe);return F.createElement(U,{key:O.id,id:O.id,className:Ct([O.className,u]),type:C,data:O.data,selected:!!O.selected,animated:!!O.animated,hidden:!!O.hidden,label:O.label,labelStyle:O.labelStyle,labelShowBg:O.labelShowBg,labelBgStyle:O.labelBgStyle,labelBgPadding:O.labelBgPadding,labelBgBorderRadius:O.labelBgBorderRadius,style:O.style,source:O.source,target:O.target,sourceHandleId:O.sourceHandle,targetHandleId:O.targetHandle,markerEnd:O.markerEnd,markerStart:O.markerStart,sourceX:tt,sourceY:Ze,targetX:_t,targetY:Ke,sourcePosition:ue,targetPosition:fe,elementsSelectable:M,onContextMenu:c,onMouseEnter:d,onMouseMove:h,onMouseLeave:p,onClick:g,onEdgeDoubleClick:y,onReconnect:_,onReconnectStart:v,onReconnectEnd:S,reconnectRadius:w,rfId:r,ariaLabel:O.ariaLabel,isFocusable:we,isReconnectable:Te,pathOptions:"pathOptions"in O?O.pathOptions:void 0,interactionWidth:O.interactionWidth,disableKeyboardA11y:A})})))),E):null};Z_.displayName="EdgeRenderer";var Wk=R.memo(Z_);const eC=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function tC({children:t}){const n=Pe(eC);return F.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:n}},t)}function nC(t){const n=Zh(),i=R.useRef(!1);R.useEffect(()=>{!i.current&&n.viewportInitialized&&t&&(setTimeout(()=>t(n),1),i.current=!0)},[t,n.viewportInitialized])}const aC={[ce.Left]:ce.Right,[ce.Right]:ce.Left,[ce.Top]:ce.Bottom,[ce.Bottom]:ce.Top},J_=({nodeId:t,handleType:n,style:i,type:r=ii.Bezier,CustomComponent:l,connectionStatus:u})=>{var q,V,te;const{fromNode:c,handleId:d,toX:h,toY:p,connectionMode:g}=Pe(R.useCallback(X=>({fromNode:X.nodeInternals.get(t),handleId:X.connectionHandleId,toX:(X.connectionPosition.x-X.transform[0])/X.transform[2],toY:(X.connectionPosition.y-X.transform[1])/X.transform[2],connectionMode:X.connectionMode}),[t]),Et),y=(q=c==null?void 0:c[it])==null?void 0:q.handleBounds;let _=y==null?void 0:y[n];if(g===Gi.Loose&&(_=_||(y==null?void 0:y[n==="source"?"target":"source"])),!c||!_)return null;const v=d?_.find(X=>X.id===d):_[0],S=v?v.x+v.width/2:(c.width??0)/2,w=v?v.y+v.height/2:c.height??0,E=(((V=c.positionAbsolute)==null?void 0:V.x)??0)+S,A=(((te=c.positionAbsolute)==null?void 0:te.y)??0)+w,j=v==null?void 0:v.position,N=j?aC[j]:null;if(!j||!N)return null;if(l)return F.createElement(l,{connectionLineType:r,connectionLineStyle:i,fromNode:c,fromHandle:v,fromX:E,fromY:A,toX:h,toY:p,fromPosition:j,toPosition:N,connectionStatus:u});let M="";const $={sourceX:E,sourceY:A,sourcePosition:j,targetX:h,targetY:p,targetPosition:N};return r===ii.Bezier?[M]=b_($):r===ii.Step?[M]=mh({...$,borderRadius:0}):r===ii.SmoothStep?[M]=mh($):r===ii.SimpleBezier?[M]=v_($):M=`M${E},${A} ${h},${p}`,F.createElement("path",{d:M,fill:"none",className:"react-flow__connection-path",style:i})};J_.displayName="ConnectionLine";const iC=t=>({nodeId:t.connectionNodeId,handleType:t.connectionHandleType,nodesConnectable:t.nodesConnectable,connectionStatus:t.connectionStatus,width:t.width,height:t.height});function rC({containerStyle:t,style:n,type:i,component:r}){const{nodeId:l,handleType:u,nodesConnectable:c,width:d,height:h,connectionStatus:p}=Pe(iC,Et);return!(l&&u&&d&&c)?null:F.createElement("svg",{style:t,width:d,height:h,className:"react-flow__edges react-flow__connectionline react-flow__container"},F.createElement("g",{className:Ct(["react-flow__connection",p])},F.createElement(J_,{nodeId:l,handleType:u,style:n,type:i,CustomComponent:r,connectionStatus:p})))}function wv(t,n){return R.useRef(null),bt(),R.useMemo(()=>n(t),[t])}const F_=({nodeTypes:t,edgeTypes:n,onMove:i,onMoveStart:r,onMoveEnd:l,onInit:u,onNodeClick:c,onEdgeClick:d,onNodeDoubleClick:h,onEdgeDoubleClick:p,onNodeMouseEnter:g,onNodeMouseMove:y,onNodeMouseLeave:_,onNodeContextMenu:v,onSelectionContextMenu:S,onSelectionStart:w,onSelectionEnd:E,connectionLineType:A,connectionLineStyle:j,connectionLineComponent:N,connectionLineContainerStyle:M,selectionKeyCode:$,selectionOnDrag:q,selectionMode:V,multiSelectionKeyCode:te,panActivationKeyCode:X,zoomActivationKeyCode:re,deleteKeyCode:ie,onlyRenderVisibleElements:oe,elementsSelectable:le,selectNodesOnDrag:O,defaultViewport:P,translateExtent:k,minZoom:z,maxZoom:G,preventScrolling:L,defaultMarkerColor:J,zoomOnScroll:C,zoomOnPinch:U,panOnScroll:Z,panOnScrollSpeed:W,panOnScrollMode:se,zoomOnDoubleClick:ue,panOnDrag:fe,onPaneClick:we,onPaneMouseEnter:ve,onPaneMouseMove:Te,onPaneMouseLeave:tt,onPaneScroll:Ze,onPaneContextMenu:_t,onEdgeContextMenu:Ke,onEdgeMouseEnter:Ge,onEdgeMouseMove:xt,onEdgeMouseLeave:ze,onReconnect:ge,onReconnectStart:pt,onReconnectEnd:Gt,reconnectRadius:Pn,noDragClassName:_a,noWheelClassName:wa,noPanClassName:Je,elevateEdgesOnSelect:Sa,disableKeyboardA11y:Mn,nodeOrigin:Dn,nodeExtent:bn,rfId:Ea})=>{const xa=wv(t,Mk),wt=wv(n,Hk);return nC(u),F.createElement(Ck,{onPaneClick:we,onPaneMouseEnter:ve,onPaneMouseMove:Te,onPaneMouseLeave:tt,onPaneContextMenu:_t,onPaneScroll:Ze,deleteKeyCode:ie,selectionKeyCode:$,selectionOnDrag:q,selectionMode:V,onSelectionStart:w,onSelectionEnd:E,multiSelectionKeyCode:te,panActivationKeyCode:X,zoomActivationKeyCode:re,elementsSelectable:le,onMove:i,onMoveStart:r,onMoveEnd:l,zoomOnScroll:C,zoomOnPinch:U,zoomOnDoubleClick:ue,panOnScroll:Z,panOnScrollSpeed:W,panOnScrollMode:se,panOnDrag:fe,defaultViewport:P,translateExtent:k,minZoom:z,maxZoom:G,onSelectionContextMenu:S,preventScrolling:L,noDragClassName:_a,noWheelClassName:wa,noPanClassName:Je,disableKeyboardA11y:Mn},F.createElement(tC,null,F.createElement(Wk,{edgeTypes:wt,onEdgeClick:d,onEdgeDoubleClick:p,onlyRenderVisibleElements:oe,onEdgeContextMenu:Ke,onEdgeMouseEnter:Ge,onEdgeMouseMove:xt,onEdgeMouseLeave:ze,onReconnect:ge,onReconnectStart:pt,onReconnectEnd:Gt,reconnectRadius:Pn,defaultMarkerColor:J,noPanClassName:Je,elevateEdgesOnSelect:!!Sa,disableKeyboardA11y:Mn,rfId:Ea},F.createElement(rC,{style:j,type:A,component:N,containerStyle:M})),F.createElement("div",{className:"react-flow__edgelabel-renderer"}),F.createElement(Uk,{nodeTypes:xa,onNodeClick:c,onNodeDoubleClick:h,onNodeMouseEnter:g,onNodeMouseMove:y,onNodeMouseLeave:_,onNodeContextMenu:v,selectNodesOnDrag:O,onlyRenderVisibleElements:oe,noPanClassName:Je,noDragClassName:_a,disableKeyboardA11y:Mn,nodeOrigin:Dn,nodeExtent:bn,rfId:Ea})))};F_.displayName="GraphView";var sC=R.memo(F_);const bh=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Wa={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:bh,nodeExtent:bh,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Gi.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:zO,isValidConnection:void 0},lC=()=>ZA((t,n)=>({...Wa,setNodes:i=>{const{nodeInternals:r,nodeOrigin:l,elevateNodesOnSelect:u}=n();t({nodeInternals:Bd(i,r,l,u)})},getNodes:()=>Array.from(n().nodeInternals.values()),setEdges:i=>{const{defaultEdgeOptions:r={}}=n();t({edges:i.map(l=>({...r,...l}))})},setDefaultNodesAndEdges:(i,r)=>{const l=typeof i<"u",u=typeof r<"u",c=l?Bd(i,new Map,n().nodeOrigin,n().elevateNodesOnSelect):new Map;t({nodeInternals:c,edges:u?r:[],hasDefaultNodes:l,hasDefaultEdges:u})},updateNodeDimensions:i=>{const{onNodesChange:r,nodeInternals:l,fitViewOnInit:u,fitViewOnInitDone:c,fitViewOnInitOptions:d,domNode:h,nodeOrigin:p}=n(),g=h==null?void 0:h.querySelector(".react-flow__viewport");if(!g)return;const y=window.getComputedStyle(g),{m22:_}=new window.DOMMatrixReadOnly(y.transform),v=i.reduce((w,E)=>{const A=l.get(E.id);if(A!=null&&A.hidden)l.set(A.id,{...A,[it]:{...A[it],handleBounds:void 0}});else if(A){const j=Vh(E.nodeElement);!!(j.width&&j.height&&(A.width!==j.width||A.height!==j.height||E.forceUpdate))&&(l.set(A.id,{...A,[it]:{...A[it],handleBounds:{source:mv(".source",E.nodeElement,_,p),target:mv(".target",E.nodeElement,_,p)}},...j}),w.push({id:A.id,type:"dimensions",dimensions:j}))}return w},[]);$_(l,p);const S=c||u&&!c&&L_(n,{initial:!0,...d});t({nodeInternals:new Map(l),fitViewOnInitDone:S}),(v==null?void 0:v.length)>0&&(r==null||r(v))},updateNodePositions:(i,r=!0,l=!1)=>{const{triggerNodeChanges:u}=n(),c=i.map(d=>{const h={id:d.id,type:"position",dragging:l};return r&&(h.positionAbsolute=d.positionAbsolute,h.position=d.position),h});u(c)},triggerNodeChanges:i=>{const{onNodesChange:r,nodeInternals:l,hasDefaultNodes:u,nodeOrigin:c,getNodes:d,elevateNodesOnSelect:h}=n();if(i!=null&&i.length){if(u){const p=q_(i,d()),g=Bd(p,l,c,h);t({nodeInternals:g})}r==null||r(i)}},addSelectedNodes:i=>{const{multiSelectionActive:r,edges:l,getNodes:u}=n();let c,d=null;r?c=i.map(h=>ni(h,!0)):(c=Lr(u(),i),d=Lr(l,[])),yu({changedNodes:c,changedEdges:d,get:n,set:t})},addSelectedEdges:i=>{const{multiSelectionActive:r,edges:l,getNodes:u}=n();let c,d=null;r?c=i.map(h=>ni(h,!0)):(c=Lr(l,i),d=Lr(u(),[])),yu({changedNodes:d,changedEdges:c,get:n,set:t})},unselectNodesAndEdges:({nodes:i,edges:r}={})=>{const{edges:l,getNodes:u}=n(),c=i||u(),d=r||l,h=c.map(g=>(g.selected=!1,ni(g.id,!1))),p=d.map(g=>ni(g.id,!1));yu({changedNodes:h,changedEdges:p,get:n,set:t})},setMinZoom:i=>{const{d3Zoom:r,maxZoom:l}=n();r==null||r.scaleExtent([i,l]),t({minZoom:i})},setMaxZoom:i=>{const{d3Zoom:r,minZoom:l}=n();r==null||r.scaleExtent([l,i]),t({maxZoom:i})},setTranslateExtent:i=>{var r;(r=n().d3Zoom)==null||r.translateExtent(i),t({translateExtent:i})},resetSelectedElements:()=>{const{edges:i,getNodes:r}=n(),u=r().filter(d=>d.selected).map(d=>ni(d.id,!1)),c=i.filter(d=>d.selected).map(d=>ni(d.id,!1));yu({changedNodes:u,changedEdges:c,get:n,set:t})},setNodeExtent:i=>{const{nodeInternals:r}=n();r.forEach(l=>{l.positionAbsolute=Ph(l.position,i)}),t({nodeExtent:i,nodeInternals:new Map(r)})},panBy:i=>{const{transform:r,width:l,height:u,d3Zoom:c,d3Selection:d,translateExtent:h}=n();if(!c||!d||!i.x&&!i.y)return!1;const p=pa.translate(r[0]+i.x,r[1]+i.y).scale(r[2]),g=[[0,0],[l,u]],y=c==null?void 0:c.constrain()(p,g,h);return c.transform(d,y),r[0]!==y.x||r[1]!==y.y||r[2]!==y.k},cancelConnection:()=>t({connectionNodeId:Wa.connectionNodeId,connectionHandleId:Wa.connectionHandleId,connectionHandleType:Wa.connectionHandleType,connectionStatus:Wa.connectionStatus,connectionStartHandle:Wa.connectionStartHandle,connectionEndHandle:Wa.connectionEndHandle}),reset:()=>t({...Wa})}),Object.is),W_=({children:t})=>{const n=R.useRef(null);return n.current||(n.current=lC()),F.createElement(RO,{value:n.current},t)};W_.displayName="ReactFlowProvider";const ew=({children:t})=>R.useContext(Qu)?F.createElement(F.Fragment,null,t):F.createElement(W_,null,t);ew.displayName="ReactFlowWrapper";const oC={input:C_,default:yh,output:M_,group:Qh},uC={default:$u,straight:Ih,step:Yh,smoothstep:Zu,simplebezier:Gh},cC=[0,0],fC=[15,15],dC={x:0,y:0,zoom:1},hC={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},tw=R.forwardRef(({nodes:t,edges:n,defaultNodes:i,defaultEdges:r,className:l,nodeTypes:u=oC,edgeTypes:c=uC,onNodeClick:d,onEdgeClick:h,onInit:p,onMove:g,onMoveStart:y,onMoveEnd:_,onConnect:v,onConnectStart:S,onConnectEnd:w,onClickConnectStart:E,onClickConnectEnd:A,onNodeMouseEnter:j,onNodeMouseMove:N,onNodeMouseLeave:M,onNodeContextMenu:$,onNodeDoubleClick:q,onNodeDragStart:V,onNodeDrag:te,onNodeDragStop:X,onNodesDelete:re,onEdgesDelete:ie,onSelectionChange:oe,onSelectionDragStart:le,onSelectionDrag:O,onSelectionDragStop:P,onSelectionContextMenu:k,onSelectionStart:z,onSelectionEnd:G,connectionMode:L=Gi.Strict,connectionLineType:J=ii.Bezier,connectionLineStyle:C,connectionLineComponent:U,connectionLineContainerStyle:Z,deleteKeyCode:W="Backspace",selectionKeyCode:se="Shift",selectionOnDrag:ue=!1,selectionMode:fe=vl.Full,panActivationKeyCode:we="Space",multiSelectionKeyCode:ve=Bu()?"Meta":"Control",zoomActivationKeyCode:Te=Bu()?"Meta":"Control",snapToGrid:tt=!1,snapGrid:Ze=fC,onlyRenderVisibleElements:_t=!1,selectNodesOnDrag:Ke=!0,nodesDraggable:Ge,nodesConnectable:xt,nodesFocusable:ze,nodeOrigin:ge=cC,edgesFocusable:pt,edgesUpdatable:Gt,elementsSelectable:Pn,defaultViewport:_a=dC,minZoom:wa=.5,maxZoom:Je=2,translateExtent:Sa=bh,preventScrolling:Mn=!0,nodeExtent:Dn,defaultMarkerColor:bn="#b1b1b7",zoomOnScroll:Ea=!0,zoomOnPinch:xa=!0,panOnScroll:wt=!1,panOnScrollSpeed:Yt=.5,panOnScrollMode:It=Hi.Free,zoomOnDoubleClick:rt=!0,panOnDrag:jt=!0,onPaneClick:Fe,onPaneMouseEnter:sn,onPaneMouseMove:ui,onPaneMouseLeave:Wr,onPaneScroll:zn,onPaneContextMenu:Ta,children:ci,onEdgeContextMenu:zt,onEdgeDoubleClick:Ii,onEdgeMouseEnter:fi,onEdgeMouseMove:Fu,onEdgeMouseLeave:Rl,onEdgeUpdate:es,onEdgeUpdateStart:di,onEdgeUpdateEnd:Wu,onReconnect:Ol,onReconnectStart:kl,onReconnectEnd:Cl,reconnectRadius:ts=10,edgeUpdaterRadius:ns=10,onNodesChange:jl,onEdgesChange:Ml,noDragClassName:Un="nodrag",noWheelClassName:gt="nowheel",noPanClassName:Tt="nopan",fitView:Aa=!1,fitViewOptions:as,connectOnClick:ec=!0,attributionPosition:tc,proOptions:Dl,defaultEdgeOptions:hi,elevateNodesOnSelect:is=!0,elevateEdgesOnSelect:Na=!1,disableKeyboardA11y:Gn=!1,autoPanOnConnect:mi=!0,autoPanOnNodeDrag:Ra=!0,connectionRadius:ut=20,isValidConnection:zl,onError:Ul,style:Yn,id:In,nodeDragThreshold:nc,...Bl},$l)=>{const rs=In||"1";return F.createElement("div",{...Bl,style:{...Yn,...hC},ref:$l,className:Ct(["react-flow",l]),"data-testid":"rf__wrapper",id:In},F.createElement(ew,null,F.createElement(sC,{onInit:p,onMove:g,onMoveStart:y,onMoveEnd:_,onNodeClick:d,onEdgeClick:h,onNodeMouseEnter:j,onNodeMouseMove:N,onNodeMouseLeave:M,onNodeContextMenu:$,onNodeDoubleClick:q,nodeTypes:u,edgeTypes:c,connectionLineType:J,connectionLineStyle:C,connectionLineComponent:U,connectionLineContainerStyle:Z,selectionKeyCode:se,selectionOnDrag:ue,selectionMode:fe,deleteKeyCode:W,multiSelectionKeyCode:ve,panActivationKeyCode:we,zoomActivationKeyCode:Te,onlyRenderVisibleElements:_t,selectNodesOnDrag:Ke,defaultViewport:_a,translateExtent:Sa,minZoom:wa,maxZoom:Je,preventScrolling:Mn,zoomOnScroll:Ea,zoomOnPinch:xa,zoomOnDoubleClick:rt,panOnScroll:wt,panOnScrollSpeed:Yt,panOnScrollMode:It,panOnDrag:jt,onPaneClick:Fe,onPaneMouseEnter:sn,onPaneMouseMove:ui,onPaneMouseLeave:Wr,onPaneScroll:zn,onPaneContextMenu:Ta,onSelectionContextMenu:k,onSelectionStart:z,onSelectionEnd:G,onEdgeContextMenu:zt,onEdgeDoubleClick:Ii,onEdgeMouseEnter:fi,onEdgeMouseMove:Fu,onEdgeMouseLeave:Rl,onReconnect:Ol??es,onReconnectStart:kl??di,onReconnectEnd:Cl??Wu,reconnectRadius:ts??ns,defaultMarkerColor:bn,noDragClassName:Un,noWheelClassName:gt,noPanClassName:Tt,elevateEdgesOnSelect:Na,rfId:rs,disableKeyboardA11y:Gn,nodeOrigin:ge,nodeExtent:Dn}),F.createElement(ak,{nodes:t,edges:n,defaultNodes:i,defaultEdges:r,onConnect:v,onConnectStart:S,onConnectEnd:w,onClickConnectStart:E,onClickConnectEnd:A,nodesDraggable:Ge,nodesConnectable:xt,nodesFocusable:ze,edgesFocusable:pt,edgesUpdatable:Gt,elementsSelectable:Pn,elevateNodesOnSelect:is,minZoom:wa,maxZoom:Je,nodeExtent:Dn,onNodesChange:jl,onEdgesChange:Ml,snapToGrid:tt,snapGrid:Ze,connectionMode:L,translateExtent:Sa,connectOnClick:ec,defaultEdgeOptions:hi,fitView:Aa,fitViewOptions:as,onNodesDelete:re,onEdgesDelete:ie,onNodeDragStart:V,onNodeDrag:te,onNodeDragStop:X,onSelectionDrag:O,onSelectionDragStart:le,onSelectionDragStop:P,noPanClassName:Tt,nodeOrigin:ge,rfId:rs,autoPanOnConnect:mi,autoPanOnNodeDrag:Ra,onError:Ul,connectionRadius:ut,isValidConnection:zl,nodeDragThreshold:nc}),F.createElement(tk,{onSelectionChange:oe}),ci,F.createElement(kO,{proOptions:Dl,position:tc}),F.createElement(ok,{rfId:rs,disableKeyboardA11y:Gn})))});tw.displayName="ReactFlow";function nw(t){return n=>{const[i,r]=R.useState(n),l=R.useCallback(u=>r(c=>t(u,c)),[]);return[i,r,l]}}const mC=nw(q_),pC=nw(Sk),aw=({id:t,x:n,y:i,width:r,height:l,style:u,color:c,strokeColor:d,strokeWidth:h,className:p,borderRadius:g,shapeRendering:y,onClick:_,selected:v})=>{const{background:S,backgroundColor:w}=u||{},E=c||S||w;return F.createElement("rect",{className:Ct(["react-flow__minimap-node",{selected:v},p]),x:n,y:i,rx:g,ry:g,width:r,height:l,fill:E,stroke:d,strokeWidth:h,shapeRendering:y,onClick:_?A=>_(A,t):void 0})};aw.displayName="MiniMapNode";var gC=R.memo(aw);const yC=t=>t.nodeOrigin,vC=t=>t.getNodes().filter(n=>!n.hidden&&n.width&&n.height),qd=t=>t instanceof Function?t:()=>t;function bC({nodeStrokeColor:t="transparent",nodeColor:n="#e2e2e2",nodeClassName:i="",nodeBorderRadius:r=5,nodeStrokeWidth:l=2,nodeComponent:u=gC,onClick:c}){const d=Pe(vC,Et),h=Pe(yC),p=qd(n),g=qd(t),y=qd(i),_=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return F.createElement(F.Fragment,null,d.map(v=>{const{x:S,y:w}=Vi(v,h).positionAbsolute;return F.createElement(u,{key:v.id,x:S,y:w,width:v.width,height:v.height,style:v.style,selected:v.selected,className:y(v),color:p(v),borderRadius:r,strokeColor:g(v),strokeWidth:l,shapeRendering:_,onClick:c,id:v.id})}))}var _C=R.memo(bC);const wC=200,SC=150,EC=t=>{const n=t.getNodes(),i={x:-t.transform[0]/t.transform[2],y:-t.transform[1]/t.transform[2],width:t.width/t.transform[2],height:t.height/t.transform[2]};return{viewBB:i,boundingRect:n.length>0?MO(Ju(n,t.nodeOrigin),i):i,rfId:t.rfId}},xC="react-flow__minimap-desc";function iw({style:t,className:n,nodeStrokeColor:i="transparent",nodeColor:r="#e2e2e2",nodeClassName:l="",nodeBorderRadius:u=5,nodeStrokeWidth:c=2,nodeComponent:d,maskColor:h="rgb(240, 240, 240, 0.6)",maskStrokeColor:p="none",maskStrokeWidth:g=1,position:y="bottom-right",onClick:_,onNodeClick:v,pannable:S=!1,zoomable:w=!1,ariaLabel:E="React Flow mini map",inversePan:A=!1,zoomStep:j=10,offsetScale:N=5}){const M=bt(),$=R.useRef(null),{boundingRect:q,viewBB:V,rfId:te}=Pe(EC,Et),X=(t==null?void 0:t.width)??wC,re=(t==null?void 0:t.height)??SC,ie=q.width/X,oe=q.height/re,le=Math.max(ie,oe),O=le*X,P=le*re,k=N*le,z=q.x-(O-q.width)/2-k,G=q.y-(P-q.height)/2-k,L=O+k*2,J=P+k*2,C=`${xC}-${te}`,U=R.useRef(0);U.current=le,R.useEffect(()=>{if($.current){const se=yn($.current),ue=ve=>{const{transform:Te,d3Selection:tt,d3Zoom:Ze}=M.getState();if(ve.sourceEvent.type!=="wheel"||!tt||!Ze)return;const _t=-ve.sourceEvent.deltaY*(ve.sourceEvent.deltaMode===1?.05:ve.sourceEvent.deltaMode?1:.002)*j,Ke=Te[2]*Math.pow(2,_t);Ze.scaleTo(tt,Ke)},fe=ve=>{const{transform:Te,d3Selection:tt,d3Zoom:Ze,translateExtent:_t,width:Ke,height:Ge}=M.getState();if(ve.sourceEvent.type!=="mousemove"||!tt||!Ze)return;const xt=U.current*Math.max(1,Te[2])*(A?-1:1),ze={x:Te[0]-ve.sourceEvent.movementX*xt,y:Te[1]-ve.sourceEvent.movementY*xt},ge=[[0,0],[Ke,Ge]],pt=pa.translate(ze.x,ze.y).scale(Te[2]),Gt=Ze.constrain()(pt,ge,_t);Ze.transform(tt,Gt)},we=o_().on("zoom",S?fe:null).on("zoom.wheel",w?ue:null);return se.call(we),()=>{se.on("zoom",null)}}},[S,w,A,j]);const Z=_?se=>{const ue=An(se);_(se,{x:ue[0],y:ue[1]})}:void 0,W=v?(se,ue)=>{const fe=M.getState().nodeInternals.get(ue);v(se,fe)}:void 0;return F.createElement(qh,{position:y,style:t,className:Ct(["react-flow__minimap",n]),"data-testid":"rf__minimap"},F.createElement("svg",{width:X,height:re,viewBox:`${z} ${G} ${L} ${J}`,role:"img","aria-labelledby":C,ref:$,onClick:Z},E&&F.createElement("title",{id:C},E),F.createElement(_C,{onClick:W,nodeColor:r,nodeStrokeColor:i,nodeBorderRadius:u,nodeClassName:l,nodeStrokeWidth:c,nodeComponent:d}),F.createElement("path",{className:"react-flow__minimap-mask",d:`M${z-k},${G-k}h${L+k*2}v${J+k*2}h${-L-k*2}z
        M${V.x},${V.y}h${V.width}v${V.height}h${-V.width}z`,fill:h,fillRule:"evenodd",stroke:p,strokeWidth:g,pointerEvents:"none"})))}iw.displayName="MiniMap";var TC=R.memo(iw);function AC(){return F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},F.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function NC(){return F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},F.createElement("path",{d:"M0 0h32v4.2H0z"}))}function RC(){return F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},F.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function OC(){return F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},F.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function kC(){return F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},F.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const il=({children:t,className:n,...i})=>F.createElement("button",{type:"button",className:Ct(["react-flow__controls-button",n]),...i},t);il.displayName="ControlButton";const CC=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom}),rw=({style:t,showZoom:n=!0,showFitView:i=!0,showInteractive:r=!0,fitViewOptions:l,onZoomIn:u,onZoomOut:c,onFitView:d,onInteractiveChange:h,className:p,children:g,position:y="bottom-left"})=>{const _=bt(),[v,S]=R.useState(!1),{isInteractive:w,minZoomReached:E,maxZoomReached:A}=Pe(CC,Et),{zoomIn:j,zoomOut:N,fitView:M}=Zh();if(R.useEffect(()=>{S(!0)},[]),!v)return null;const $=()=>{j(),u==null||u()},q=()=>{N(),c==null||c()},V=()=>{M(l),d==null||d()},te=()=>{_.setState({nodesDraggable:!w,nodesConnectable:!w,elementsSelectable:!w}),h==null||h(!w)};return F.createElement(qh,{className:Ct(["react-flow__controls",p]),position:y,style:t,"data-testid":"rf__controls"},n&&F.createElement(F.Fragment,null,F.createElement(il,{onClick:$,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:A},F.createElement(AC,null)),F.createElement(il,{onClick:q,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:E},F.createElement(NC,null))),i&&F.createElement(il,{className:"react-flow__controls-fitview",onClick:V,title:"fit view","aria-label":"fit view"},F.createElement(RC,null)),r&&F.createElement(il,{className:"react-flow__controls-interactive",onClick:te,title:"toggle interactivity","aria-label":"toggle interactivity"},w?F.createElement(kC,null):F.createElement(OC,null)),g)};rw.displayName="Controls";var jC=R.memo(rw),Rn;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(Rn||(Rn={}));function MC({color:t,dimensions:n,lineWidth:i}){return F.createElement("path",{stroke:t,strokeWidth:i,d:`M${n[0]/2} 0 V${n[1]} M0 ${n[1]/2} H${n[0]}`})}function DC({color:t,radius:n}){return F.createElement("circle",{cx:n,cy:n,r:n,fill:t})}const zC={[Rn.Dots]:"#91919a",[Rn.Lines]:"#eee",[Rn.Cross]:"#e2e2e2"},UC={[Rn.Dots]:1,[Rn.Lines]:1,[Rn.Cross]:6},BC=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function sw({id:t,variant:n=Rn.Dots,gap:i=20,size:r,lineWidth:l=1,offset:u=2,color:c,style:d,className:h}){const p=R.useRef(null),{transform:g,patternId:y}=Pe(BC,Et),_=c||zC[n],v=r||UC[n],S=n===Rn.Dots,w=n===Rn.Cross,E=Array.isArray(i)?i:[i,i],A=[E[0]*g[2]||1,E[1]*g[2]||1],j=v*g[2],N=w?[j,j]:A,M=S?[j/u,j/u]:[N[0]/u,N[1]/u];return F.createElement("svg",{className:Ct(["react-flow__background",h]),style:{...d,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:p,"data-testid":"rf__background"},F.createElement("pattern",{id:y+t,x:g[0]%A[0],y:g[1]%A[1],width:A[0],height:A[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${M[0]},-${M[1]})`},S?F.createElement(DC,{color:_,radius:j/u}):F.createElement(MC,{dimensions:N,color:_,lineWidth:l})),F.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${y+t})`}))}sw.displayName="Background";var $C=R.memo(sw);function LC({data:t,selected:n}){const i=t.flipped||!1;return x.jsxs("div",{className:`circuit-node battery-node ${n?"selected":""} ${t.isPowered?"powered":""} ${i?"flipped":""}`,children:[x.jsx(ot,{type:"source",position:i?ce.Left:ce.Right,id:"positive",className:"handle-positive",title:"Positive Terminal (+)",style:{[i?"left":"right"]:0}}),x.jsx(ot,{type:"target",position:i?ce.Right:ce.Left,id:"negative",className:"handle-negative",title:"Negative Terminal (-)",style:{[i?"right":"left"]:0}}),x.jsxs("div",{className:"node-content",children:[x.jsxs("div",{className:"battery-symbol",children:[x.jsx("div",{className:"battery-bar short"}),x.jsx("div",{className:"battery-bar long"})]}),x.jsx("div",{className:"terminal-label positive-label",style:{[i?"left":"right"]:"5px"},children:"+"}),x.jsx("div",{className:"terminal-label negative-label",style:{[i?"right":"left"]:"5px"},children:"-"}),x.jsx("div",{className:"node-label",children:t.label||"Battery"}),x.jsx("div",{className:"node-value",children:t.voltage||"9V"})]})]})}const HC=R.memo(LC);function qC({data:t,selected:n}){const i=t.flipped||!1;return x.jsxs("div",{className:`circuit-node led-node ${n?"selected":""} ${t.isLit?"lit":""} ${i?"flipped":""}`,children:[x.jsx(ot,{type:"target",position:i?ce.Right:ce.Left,id:"anode",className:"handle-anode",title:"Anode (+)",style:{top:"50%",[i?"right":"left"]:0}}),x.jsx(ot,{type:"source",position:i?ce.Left:ce.Right,id:"cathode",className:"handle-cathode",title:"Cathode (-)",style:{top:"50%",[i?"left":"right"]:0}}),x.jsx(ot,{type:"target",position:i?ce.Left:ce.Right,id:"cathode-in",className:"handle-cathode",title:"Cathode (-)",style:{top:"50%",[i?"left":"right"]:0,opacity:0}}),x.jsxs("div",{className:"node-content",children:[x.jsxs("div",{className:`led-bulb ${t.isLit?"glowing":""}`,children:[x.jsx("div",{className:"led-core"}),t.isLit&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"glow-ring ring-1"}),x.jsx("div",{className:"glow-ring ring-2"}),x.jsx("div",{className:"glow-ring ring-3"})]})]}),x.jsx("div",{className:"terminal-label anode-label",style:{[i?"right":"left"]:"5px"},children:"+"}),x.jsx("div",{className:"terminal-label cathode-label",style:{[i?"left":"right"]:"5px"},children:"-"}),x.jsx("div",{className:"node-label",children:t.label||"LED"}),x.jsx("div",{className:"node-value",children:t.color||"Red"})]})]})}const VC=R.memo(qC);function PC({data:t,selected:n}){return x.jsxs("div",{className:`circuit-node resistor-node ${n?"selected":""} ${t.hasCurrent?"active":""}`,children:[x.jsx(ot,{type:"target",position:ce.Left,id:"pin1",className:"handle-pin",title:"Pin 1",style:{top:"50%",left:0}}),x.jsx(ot,{type:"source",position:ce.Left,id:"pin1-out",className:"handle-pin",title:"Pin 1",style:{top:"50%",left:0,opacity:0}}),x.jsx(ot,{type:"target",position:ce.Right,id:"pin2",className:"handle-pin",title:"Pin 2",style:{top:"50%",right:0}}),x.jsx(ot,{type:"source",position:ce.Right,id:"pin2-out",className:"handle-pin",title:"Pin 2",style:{top:"50%",right:0,opacity:0}}),x.jsxs("div",{className:"node-content",children:[x.jsxs("div",{className:"resistor-symbol",children:[x.jsxs("div",{className:"resistor-body",children:[x.jsx("div",{className:"resistor-band band-1"}),x.jsx("div",{className:"resistor-band band-2"}),x.jsx("div",{className:"resistor-band band-3"}),x.jsx("div",{className:"resistor-band band-4"})]}),x.jsx("div",{className:"resistor-lead left"}),x.jsx("div",{className:"resistor-lead right"})]}),x.jsx("div",{className:"node-label",children:t.label||"Resistor"}),x.jsx("div",{className:"node-value",children:t.resistance||"220"})]})]})}const GC=R.memo(PC);function YC({data:t,selected:n}){const i=t.isClosed!==void 0?t.isClosed:!0;return x.jsxs("div",{className:`circuit-node switch-node ${n?"selected":""} ${i?"closed":"open"}`,children:[x.jsx(ot,{type:"target",position:ce.Left,id:"pin1",className:"handle-pin",title:"Pin 1",style:{top:"50%",left:0}}),x.jsx(ot,{type:"source",position:ce.Left,id:"pin1-out",className:"handle-pin",title:"Pin 1",style:{top:"50%",left:0,opacity:0}}),x.jsx(ot,{type:"target",position:ce.Right,id:"pin2",className:"handle-pin",title:"Pin 2",style:{top:"50%",right:0}}),x.jsx(ot,{type:"source",position:ce.Right,id:"pin2-out",className:"handle-pin",title:"Pin 2",style:{top:"50%",right:0,opacity:0}}),x.jsxs("div",{className:"node-content",children:[x.jsxs("div",{className:"switch-symbol",children:[x.jsx("div",{className:"switch-contact left"}),x.jsx("div",{className:"switch-contact right"}),x.jsx("div",{className:`switch-lever ${i?"closed":"open"}`})]}),x.jsx("div",{className:"node-label",children:t.label||"Switch"}),x.jsx("div",{className:"node-value",children:i?"Closed":"Open"})]})]})}const IC=R.memo(YC);function KC({data:t,selected:n}){return x.jsxs("div",{className:`circuit-node wire-node ${n?"selected":""} ${t.hasCurrent?"active":""}`,children:[x.jsx(ot,{type:"target",position:ce.Left,id:"end1",className:"handle-wire",title:"Wire End 1",style:{top:"50%",left:0}}),x.jsx(ot,{type:"source",position:ce.Left,id:"end1-out",className:"handle-wire",title:"Wire End 1",style:{top:"50%",left:0,opacity:0}}),x.jsx(ot,{type:"target",position:ce.Right,id:"end2",className:"handle-wire",title:"Wire End 2",style:{top:"50%",right:0}}),x.jsx(ot,{type:"source",position:ce.Right,id:"end2-out",className:"handle-wire",title:"Wire End 2",style:{top:"50%",right:0,opacity:0}}),x.jsxs("div",{className:"node-content",children:[x.jsx("div",{className:"wire-symbol",children:x.jsx("div",{className:"wire-line"})}),x.jsx("div",{className:"node-label",children:t.label||"Wire"})]})]})}const XC=R.memo(KC);function lw(t,n){const i=new Map(t.map(g=>[g.id,g])),r={poweredNodes:new Set,litLEDs:new Set,activeComponents:new Set,isComplete:!1,hasShortCircuit:!1,completePaths:[],currentFlowEdges:new Map},l=t.filter(g=>g.type==="battery");if(l.length===0)return r;const u=l[0];function c(g){return g&&g.replace(/-(out|in)$/,"")}function d(g,y){var S;const _=c(y);return((S={battery:{positive:[],negative:[]},led:{anode:["cathode"],cathode:[]},resistor:{pin1:["pin2","pin2-out"],pin2:["pin1","pin1-out"]},switch:{pin1:["pin2","pin2-out"],pin2:["pin1","pin1-out"]},wire:{end1:["end2","end2-out"],end2:["end1","end1-out"]}}[g.type])==null?void 0:S[_])||[]}function h(g,y,_=new Set,v=[],S=[]){const w=[],E=i.get(g);if(!E)return w;const A=c(y),j={nodeId:g,handle:A,type:E.type},N=[...v,j],M=n.filter($=>$.source===g&&c($.sourceHandle)===A&&!_.has($.id));for(const $ of M){const q=new Set(_);q.add($.id);const V=i.get($.target);if(!V)continue;const te=c($.targetHandle),X=[...S,{edgeId:$.id,direction:"forward"}];if($.target===u.id&&te==="negative"){const ie=[...N,{nodeId:$.target,handle:"negative",type:V.type}];w.push({path:ie,edges:X});continue}if(V.type==="switch"&&V.data.isClosed===!1)continue;const re=d(V,te);for(const ie of re){const oe=h($.target,ie,q,N,X);w.push(...oe)}}return w}const p=h(u.id,"positive");if(r.completePaths=p,p.length>0){r.isComplete=!0;for(const g of p){const y=g.path,_=g.edges;for(const v of _)r.currentFlowEdges.set(v.edgeId,v.direction);for(const v of y)if(r.poweredNodes.add(v.nodeId),r.activeComponents.add(v.nodeId),v.type==="led"){const S=y.indexOf(v);if(S>0){const w=y[S-1],E=n.find(A=>A.source===w.nodeId&&A.target===v.nodeId);E&&c(E.targetHandle)==="anode"&&r.litLEDs.add(v.nodeId)}}}}return r}function QC(t,n,i){const r=lw(t,n);if(!i){const y=r.isComplete,_=t.some(w=>w.type==="led"),v=r.litLEDs.size>0,S=y&&(!_||v);return{isCorrect:S,feedback:S?"Perfect! Your circuit is correct and working as expected!":y?"The LED should be lit. Check the polarity (anode = +, cathode = -).":"Circuit is not complete. Make sure to connect all components from battery positive to negative.",simulation:r}}const l=i.components||[],u=t.map(y=>y.type);if(!l.every(y=>u.includes(y.type)))return{isCorrect:!1,feedback:"Not all required components are placed.",simulation:r};if(!r.isComplete)return{isCorrect:!1,feedback:"Circuit is not complete. Make sure to connect all components from battery positive to negative.",simulation:r};const d=i.connections||[];if(!(d.length===0||d.every(y=>n.some(_=>{const v=t.find(w=>w.id===_.source),S=t.find(w=>w.id===_.target);return(v==null?void 0:v.type)===y.from&&(S==null?void 0:S.type)===y.to}))))return{isCorrect:!1,feedback:"Some required connections are missing or incorrect.",simulation:r};const p=i.shouldLightLED!==!1,g=r.litLEDs.size>0;return p&&!g?{isCorrect:!1,feedback:"The LED should be lit. Check your connections and LED polarity (anode = +, cathode = -).",simulation:r}:!p&&g?{isCorrect:!1,feedback:"The LED should not be lit in this configuration.",simulation:r}:{isCorrect:!0,feedback:"Perfect! Your circuit is correct and working as expected!",simulation:r}}let Sv=0;const ZC={battery:HC,led:VC,resistor:GC,switch:IC,wire:XC};function JC({experiment:t,onComplete:n,onHintRequest:i}){const[r,l,u]=mC([]),[c,d,h]=pC([]),[p,g]=R.useState([]),[y,_]=R.useState(0),[v,S]=R.useState(null),[w,E]=R.useState(!1),[A,j]=R.useState(null);if(!t)return x.jsx("div",{className:"circuit-puzzle",children:"Loading experiment..."});R.useEffect(()=>{t!=null&&t.components&&g(t.components.map(O=>({...O,placed:!1})))},[t]);const N=R.useMemo(()=>lw(r,c),[r,c]),M=R.useMemo(()=>r.map(O=>{const P=N.litLEDs.has(O.id),k=N.poweredNodes.has(O.id),z=N.activeComponents.has(O.id);return{...O,data:{...O.data,isLit:O.type==="led"?P:O.data.isLit,isPowered:O.type==="battery"?k:O.data.isPowered,hasCurrent:z}}}),[r,N]),$=R.useMemo(()=>c.map(O=>{const P=N.currentFlowEdges.has(O.id),k=N.currentFlowEdges.get(O.id),z=P&&k==="forward"?{type:bl.ArrowClosed,color:"#fbbf24"}:void 0;return{...O,animated:P,style:{...O.style,stroke:P?"#fbbf24":"#6b7280",strokeWidth:P?3:2},markerEnd:z}}),[c,N]),q=R.useCallback(O=>{const P={...O,type:"default",animated:!0,style:{stroke:"#fbbf24",strokeWidth:3}};d(k=>__(P,k))},[d]),V=O=>{const k={id:`node-${Sv++}`,type:O.type,position:{x:250+Math.random()*100,y:100+Math.random()*100},data:{label:O.label,voltage:O.voltage,resistance:O.resistance,color:O.color,isClosed:O.isClosed!==void 0?O.isClosed:!0}};l(z=>[...z,k]),g(z=>z.map(G=>G.id===O.id?{...G,placed:!0}:G))},te=()=>{l([]),d([]),g(t.components.map(O=>({...O,placed:!1}))),S(null),j(null),Sv=0},X=()=>{y<t.max_hints&&(S(t.hints[y]),_(O=>O+1),i&&i())},re=()=>{const O=t.components.map(G=>G.type),P=r.map(G=>G.type),k=O.filter(G=>!P.includes(G));if(k.length>0){S(`Komponen yang belum ditempatkan: ${k.join(", ")}`);return}if(c.length===0){S("Hubungkan komponen dengan menarik dari handle satu komponen ke handle komponen lain!");return}const z=QC(r,c,t.expectedSolution);j(z),z.isCorrect?E(!0):S(z.feedback)},ie=()=>{E(!1),n&&n({success:!0,hintsUsed:y,connections:c.length})},oe=R.useCallback((O,P)=>{l(z=>z.filter(G=>G.id!==P.id)),d(z=>z.filter(G=>G.source!==P.id&&G.target!==P.id));const k=P.type;g(z=>z.map(G=>G.type===k&&G.placed?{...G,placed:!1}:G))},[l,d]),le=R.useCallback((O,P)=>{O.preventDefault(),(P.type==="led"||P.type==="battery")&&l(k=>k.map(z=>z.id===P.id?{...z,data:{...z.data,flipped:!z.data.flipped}}:z))},[l]);return x.jsxs("div",{className:"circuit-puzzle",children:[x.jsxs("div",{className:"puzzle-instructions",children:[x.jsx("h3",{children:"Cara Bermain:"}),x.jsxs("ol",{children:[x.jsx("li",{children:"Klik komponen dari panel kiri untuk menambahkannya ke canvas"}),x.jsx("li",{children:"Drag komponen untuk memposisikannya"}),x.jsx("li",{children:"Tarik dari handle (titik koneksi) satu komponen ke handle komponen lain untuk menghubungkan"}),x.jsx("li",{children:"Klik-kanan pada LED atau Battery untuk membalik polaritasnya (+/-)"}),x.jsx("li",{children:"Double-click komponen untuk menghapusnya"}),x.jsx("li",{children:"Perhatikan LED menyala ketika rangkaian benar!"}),x.jsx("li",{children:"Panah menunjukkan arah arus dari positif (+) ke negatif (-)"}),x.jsx("li",{children:'Klik "Periksa Solusi" setelah selesai'})]})]}),x.jsxs("div",{className:"puzzle-area",children:[x.jsxs("div",{className:"components-drawer",children:[x.jsx("h3",{children:"Komponen Tersedia"}),x.jsx("div",{className:"components-list",children:p.map(O=>x.jsxs("button",{className:`component-item ${O.placed?"placed":""}`,onClick:()=>!O.placed&&V(O),disabled:O.placed,children:[x.jsx("div",{className:"component-label",children:O.label}),O.placed&&x.jsx("div",{className:"placed-badge",children:"Terpasang"})]},O.id))})]}),x.jsx("div",{className:"circuit-canvas-container",children:x.jsxs(tw,{nodes:M,edges:$,onNodesChange:u,onEdgesChange:h,onConnect:q,onNodeDoubleClick:oe,onNodeContextMenu:le,nodeTypes:ZC,fitView:!0,className:"circuit-canvas",children:[x.jsx($C,{color:"#374151",gap:16}),x.jsx(jC,{}),x.jsx(TC,{nodeColor:O=>N.litLEDs.has(O.id)?"#fbbf24":N.poweredNodes.has(O.id)?"#10b981":"#6b7280"})]})})]}),x.jsxs("div",{className:"puzzle-controls",children:[x.jsx("button",{className:"reset-button",onClick:te,children:"Reset"}),x.jsxs("button",{className:"hint-button",onClick:X,disabled:y>=t.max_hints,children:["Hint (",y,"/",t.max_hints,")"]}),x.jsx("button",{className:"check-button",onClick:re,children:"Periksa Solusi"})]}),v&&x.jsxs("div",{className:"hint-display",children:[x.jsx("div",{className:"hint-icon",children:""}),x.jsx("div",{className:"hint-text",children:v}),x.jsx("button",{className:"hint-close",onClick:()=>S(null),children:""})]}),w&&x.jsx("div",{className:"success-overlay",onClick:ie,children:x.jsxs("div",{className:"success-card",onClick:O=>O.stopPropagation(),children:[x.jsx("button",{className:"success-close",onClick:ie,children:""}),x.jsx("div",{className:"success-icon",children:""}),x.jsx("h2",{children:"Eksperimen Berhasil!"}),x.jsx("p",{children:"Kamu telah menyelesaikan rangkaian dengan benar!"}),x.jsxs("div",{className:"success-stats",children:[x.jsxs("div",{children:["Hint Digunakan: ",y,"/",t.max_hints]}),x.jsxs("div",{children:["XP yang Didapat: ",t.base_xp-y*10]})]}),x.jsx("div",{className:"success-actions",children:x.jsx("button",{className:"success-continue-btn",onClick:ie,children:"Lanjutkan"})})]})})]})}function FC(){const{topic:t,difficulty:n}=Cv(),[i]=K1(),r=i.get("daily")==="true",{user:l}=Yi(),{playClickSound:u,playHoverSound:c}=oi(),d=Cn(),[h,p]=R.useState(null),[g,y]=R.useState(!0),[_,v]=R.useState(null),[S,w]=R.useState(0),[E,A]=R.useState(!1);R.useEffect(()=>{j()},[t,n]);const j=async()=>{y(!0),v(null);try{const q=await BA(t,n);p(q)}catch(q){v("Gagal memuat eksperimen. Silakan coba lagi."),console.error("Error loading experiment:",q)}finally{y(!1)}},N=()=>{u(),d("/play")},M=async q=>{u(),A(!0);const V=$A(h.base_xp,n,S,h.max_hints);try{const{error:te}=await We.from("experiment_history").insert({user_id:l.id,experiment_id:h.id,topic:t,difficulty:n,success:q.success,hints_used:S,xp_earned:V,is_daily:r});if(te)throw te;const{error:X}=await We.rpc("add_user_xp",{p_user_id:l.id,p_xp_amount:V});if(X)throw X}catch(te){console.error("Error saving experiment result:",te)}},$=()=>{w(q=>q+1)};return g?x.jsxs("div",{className:"laboratory-container",children:[x.jsx(ri,{}),x.jsx("div",{className:"laboratory-content",children:x.jsxs("div",{className:"loading-section",children:[x.jsx("div",{className:"loading-spinner"}),x.jsx("p",{className:"loading-text",children:"Menyiapkan laboratorium..."}),x.jsx("p",{className:"loading-subtext",children:"Eksperimen sedang digenerate..."})]})})]}):_?x.jsxs("div",{className:"laboratory-container",children:[x.jsx(ri,{}),x.jsxs("div",{className:"laboratory-content",children:[x.jsx("button",{onClick:N,className:"back-button",onMouseEnter:c,children:" Kembali"}),x.jsxs("div",{className:"error-section",children:[x.jsx("div",{className:"error-icon",children:""}),x.jsx("h2",{className:"error-title",children:"Terjadi Kesalahan"}),x.jsx("p",{className:"error-message",children:_}),x.jsx("button",{onClick:j,className:"retry-button",onMouseEnter:c,children:"Coba Lagi"})]})]})]}):h?x.jsxs("div",{className:"laboratory-container",children:[x.jsx(ri,{}),x.jsxs("div",{className:"laboratory-content",children:[x.jsx("button",{onClick:N,className:"back-button",onMouseEnter:c,children:" Kembali"}),r&&x.jsxs("div",{className:"daily-badge",children:[x.jsx("span",{className:"daily-icon",children:""}),x.jsx("span",{children:"Tantangan Harian"})]}),x.jsxs("div",{className:"experiment-info",children:[x.jsx("h1",{className:"experiment-title",children:h.title}),x.jsx("div",{className:"scenario-box",children:x.jsx("p",{className:"scenario-text",children:h.scenario})}),x.jsxs("div",{className:"objective-box",children:[x.jsx("strong",{children:"Objektif:"})," ",h.objective]})]}),x.jsxs("div",{className:"workbench-section",children:[x.jsx("h2",{className:"section-title",children:"Meja Kerja"}),x.jsx(JC,{experiment:h,onComplete:M,onHintRequest:$})]}),x.jsxs("div",{className:"experiment-details",children:[x.jsxs("div",{className:"hints-section",children:[x.jsxs("h3",{children:["Petunjuk Tersedia: ",h.max_hints]}),x.jsx("p",{className:"hint-info",children:"Gunakan petunjuk jika kesulitan (mengurangi XP bonus)"})]}),x.jsxs("div",{className:"xp-info",children:[x.jsx("span",{className:"xp-icon",children:""}),x.jsxs("span",{children:["Base XP: ",h.base_xp]})]})]})]})]}):x.jsxs("div",{className:"laboratory-container",children:[x.jsx(ri,{}),x.jsx("div",{className:"laboratory-content",children:x.jsxs("div",{className:"loading-section",children:[x.jsx("div",{className:"loading-spinner"}),x.jsx("p",{className:"loading-text",children:"Memuat eksperimen..."})]})})]})}function Ur({children:t}){const{user:n,loading:i}=Yi();return i?x.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",color:"white"},children:"Memuat..."}):n?t:x.jsx(g1,{to:"/auth"})}function WC(){const{initializeAudio:t}=oi();return R.useEffect(()=>{t(),console.log("ElectroQuest initialized - Ready to learn electronics!")},[]),x.jsxs(v1,{children:[x.jsx(ei,{path:"/auth",element:x.jsx(jA,{})}),x.jsx(ei,{path:"/",element:x.jsx(Ur,{children:x.jsx(CA,{})})}),x.jsx(ei,{path:"/profile",element:x.jsx(Ur,{children:x.jsx(MA,{})})}),x.jsx(ei,{path:"/settings",element:x.jsx(Ur,{children:x.jsx(DA,{})})}),x.jsx(ei,{path:"/play",element:x.jsx(Ur,{children:x.jsx(zA,{})})}),x.jsx(ei,{path:"/difficulty/:topic",element:x.jsx(Ur,{children:x.jsx(UA,{})})}),x.jsx(ei,{path:"/laboratory/:topic/:difficulty",element:x.jsx(Ur,{children:x.jsx(FC,{})})})]})}function ej(){return x.jsx(V1,{children:x.jsx(RA,{children:x.jsx(WC,{})})})}AE.createRoot(document.getElementById("root")).render(x.jsx(F.StrictMode,{children:x.jsx(ej,{})}));
